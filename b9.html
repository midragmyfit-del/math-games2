<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>×©×™×¢×•×¨ ××“×™×“×” - ×›×™×ª×” ×‘'</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        h1 {
            text-align: center;
            color: #667eea;
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .subtitle {
            text-align: center;
            color: #666;
            font-size: 1.2em;
            margin-bottom: 30px;
        }
        
        .main-menu {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .menu-card {
            background: white;
            color: #333;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            border: 3px solid #667eea;
        }
        
        .menu-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .menu-card .emoji-large {
            font-size: 3em;
            margin-bottom: 15px;
            display: block;
        }
        
        .menu-card h2 {
            font-size: 1.8em;
            margin-bottom: 10px;
            color: #667eea;
        }
        
        .menu-card:hover h2 {
            color: white;
        }
        
        .menu-card p {
            font-size: 1.1em;
            color: #666;
        }
        
        .menu-card:hover p {
            color: white;
        }
        
        .screen {
            display: none;
        }
        
        .screen.active {
            display: block;
        }
        
        .section {
            background: #f8f9ff;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            border: 3px solid #667eea;
        }
        
        h2 {
            color: #764ba2;
            margin-bottom: 15px;
            font-size: 1.8em;
        }
        
        h3 {
            color: #667eea;
            margin: 20px 0 10px 0;
            font-size: 1.4em;
        }
        
        .example-box {
            background: white;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            border-right: 5px solid #ffd700;
        }
        
        .game-area {
            background: linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 100%);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
        }
        
        .game-title {
            color: #d63031;
            font-size: 1.6em;
            margin-bottom: 15px;
            text-align: center;
        }
        
        button {
            background: #667eea;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.2em;
            border-radius: 10px;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s;
        }
        
        button:hover {
            background: #764ba2;
            transform: scale(1.05);
        }
        
        .back-btn {
            background: #e74c3c;
            margin-bottom: 20px;
        }
        
        .back-btn:hover {
            background: #c0392b;
        }
        
        .question {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            font-size: 1.3em;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
        }
        
        .question .value {
            font-weight: bold;
            color: #2d3436;
        }
        
        .question .vs {
            color: #d63031;
            font-weight: bold;
            font-size: 1.2em;
        }
        
        .options {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }
        
        .option-btn {
            background: #74b9ff;
            min-width: 120px;
        }
        
        .option-btn:hover:not(:disabled) {
            background: #0984e3;
        }
        
        .option-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .feedback {
            text-align: center;
            font-size: 1.5em;
            font-weight: bold;
            margin: 20px 0;
            padding: 15px;
            border-radius: 10px;
            display: none;
        }
        
        .feedback.show {
            display: block;
        }
        
        .feedback.correct {
            background: #00b894;
            color: white;
        }
        
        .feedback.incorrect {
            background: #ff7675;
            color: white;
        }
        
        .score {
            text-align: center;
            font-size: 1.8em;
            color: #d63031;
            font-weight: bold;
            margin: 20px 0;
        }
        
        .emoji {
            font-size: 2em;
        }
        
        ul {
            margin-right: 30px;
            line-height: 1.8;
            font-size: 1.1em;
        }
        
        li {
            margin: 10px 0;
        }
        
        .highlight {
            background: #ffeaa7;
            padding: 3px 8px;
            border-radius: 5px;
            font-weight: bold;
        }
        
        .ruler-visual {
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 20px 0;
        }
        
        .ruler {
            width: 300px;
            height: 40px;
            background: #f39c12;
            border-radius: 5px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: space-around;
            color: white;
            font-weight: bold;
        }
        
        .memory-game {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin: 20px 0;
        }
        
        .memory-card {
            background: #74b9ff;
            height: 100px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .memory-card:hover {
            transform: scale(1.05);
        }
        
        .memory-card.flipped {
            background: white;
            border: 3px solid #667eea;
        }
        
        .memory-card.matched {
            background: #00b894;
            color: white;
            cursor: default;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- ×ª×¤×¨×™×˜ ×¨××©×™ -->
        <div id="main-menu" class="screen active">
            <h1>ğŸ“ ×©×™×¢×•×¨ ××“×™×“×” ğŸ“</h1>
            <p class="subtitle">×›×™×ª×” ×‘' - ×œ×•××“×™× ×œ××“×•×“!</p>
            
            <div class="main-menu">
                <div class="menu-card" id="menu-lesson">
                    <span class="emoji-large">ğŸ“š</span>
                    <h2>×—×•××¨ ×”×œ×™××•×“</h2>
                    <p>×œ××“ ×¢×œ ×™×—×™×“×•×ª ××“×™×“×”</p>
                </div>
                
                <div class="menu-card" id="menu-quiz">
                    <span class="emoji-large">ğŸ¯</span>
                    <h2>×—×™×“×•×Ÿ ××“×™×“×”</h2>
                    <p>×‘×“×•×§ ××ª ×¢×¦××š!</p>
                </div>
                
                <div class="menu-card" id="menu-memory">
                    <span class="emoji-large">ğŸ§©</span>
                    <h2>××©×—×§ ×–×™×›×¨×•×Ÿ</h2>
                    <p>××¦× ×–×•×’×•×ª</p>
                </div>
                
                <div class="menu-card" id="menu-compare">
                    <span class="emoji-large">âš–ï¸</span>
                    <h2>×”×©×•×•××•×ª</h2>
                    <p>××” ×™×•×ª×¨ ×’×“×•×œ?</p>
                </div>
            </div>
        </div>
        
        <!-- ××¡×š ×œ×™××•×“ -->
        <div id="lesson" class="screen">
            <button class="back-btn" id="back-from-lesson">â¬…ï¸ ×—×–×¨×” ×œ×ª×¤×¨×™×˜</button>
            
            <h1>ğŸ“š ×—×•××¨ ×”×œ×™××•×“</h1>
            
            <div class="section">
                <h2>ğŸ¯ ×—×œ×§ ×': ××“×™×“×” ×œ×-×¡×˜× ×“×¨×˜×™×ª</h2>
                
                <div class="example-box">
                    <h3>××” ×–×” ××“×™×“×” ×œ×-×¡×˜× ×“×¨×˜×™×ª?</h3>
                    <p style="font-size: 1.1em; line-height: 1.6;">
                        ××“×™×“×” ×¢× ×—×¤×¦×™× ××”×‘×™×ª ××• ××”×›×™×ª×”:
                    </p>
                    <ul>
                        <li>××•×¨×š ×”×©×•×œ×—×Ÿ = <span class="highlight">8 ×¢×¤×¨×•× ×•×ª</span> âœï¸</li>
                        <li>××©×§×œ ×”×ª×™×§ = <span class="highlight">5 ×¡×¤×¨×™×</span> ğŸ“š</li>
                        <li>×›××•×ª ××™× = <span class="highlight">3 ×›×•×¡×•×ª</span> ğŸ¥¤</li>
                    </ul>
                    <p style="margin-top: 15px; color: #d63031; font-weight: bold;">
                        âš ï¸ ×”×‘×¢×™×” ×”×’×“×•×œ×”:
                    </p>
                    <p style="margin-top: 10px;">
                        ×œ×›×œ ××—×“ ×™×© ×¢×¤×¨×•× ×•×ª ×‘×’×“×œ×™× ×©×•× ×™×! ×× ××ª×” ×ª××“×•×“ ×‘×¢×¤×¨×•× ×•×ª ×©×œ×š ×•×× ×™ ×‘××©×œ×™ - × ×§×‘×œ ×ª×•×¦××•×ª ×©×•× ×•×ª ×œ×—×œ×•×˜×™×Ÿ. 
                        <br><br>
                        <strong>×œ×›×Ÿ ×¦×¨×™×š ××“×™×“×” ×¡×˜× ×“×¨×˜×™×ª - ×©×›×•×œ× ××©×ª××©×™× ×‘××•×ª×Ÿ ×™×—×™×“×•×ª!</strong>
                    </p>
                </div>
            </div>
            
            <div class="section">
                <h2>ğŸ“ ×—×œ×§ ×‘': ××“×™×“×” ×¡×˜× ×“×¨×˜×™×ª</h2>
                
                <div class="example-box">
                    <h3>1ï¸âƒ£ ××•×¨×š: ×¡× ×˜×™××˜×¨ (×¡"×) ×•××˜×¨</h3>
                    <div class="ruler-visual">
                        <div class="ruler">
                            <span>0</span>
                            <span>5</span>
                            <span>10 ×¡"×</span>
                        </div>
                    </div>
                    
                    <p style="background: #e8f4f8; padding: 15px; border-radius: 8px; margin: 15px 0;">
                        <strong>ğŸ’¡ ×–×›×•×¨:</strong> <span class="highlight">1 ××˜×¨ = 100 ×¡× ×˜×™××˜×¨</span>
                    </p>
                    
                    <ul>
                        <li><strong>1 ×¡× ×˜×™××˜×¨ (×¡"×)</strong> = ×¨×•×—×‘ ×”××¦×‘×¢ ×©×œ×š ğŸ‘†</li>
                        <li><strong>10 ×¡"×</strong> = ××•×¨×š ×˜×œ×¤×•×Ÿ ×§×˜×Ÿ ğŸ“±</li>
                        <li><strong>30 ×¡"×</strong> = ××•×¨×š ×¡×¨×’×œ ×”×›×™×ª×” ğŸ“</li>
                        <li><strong>1 ××˜×¨ (100 ×¡"×)</strong> = ×’×•×‘×” ×©×•×œ×—×Ÿ / ×’×•×‘×” ×™×œ×“ ×‘×›×™×ª×” ×' ğŸ§’</li>
                        <li><strong>2 ××˜×¨ (200 ×¡"×)</strong> = ×’×•×‘×” ×”×“×œ×ª ğŸšª</li>
                    </ul>
                    
                    <p style="margin-top: 15px; background: #fff9e6; padding: 10px; border-radius: 8px;">
                        <strong>ğŸ¯ ××ª×™ ××©×ª××©×™× ×‘×¡× ×˜×™××˜×¨?</strong> ×›×©××•×“×“×™× ×“×‘×¨×™× ×§×˜× ×™× (×¢×¤×¨×•×Ÿ, ×¡×¤×¨, ×˜×œ×¤×•×Ÿ)<br>
                        <strong>ğŸ¯ ××ª×™ ××©×ª××©×™× ×‘××˜×¨?</strong> ×›×©××•×“×“×™× ×“×‘×¨×™× ×’×“×•×œ×™× (×”×—×“×¨, ×”×’×™× ×”, ×’×•×‘×” ×”××“×)
                    </p>
                </div>
                
                <div class="example-box">
                    <h3>2ï¸âƒ£ ××©×§×œ: ×’×¨× ×•×§×™×œ×•×’×¨× (×§"×’)</h3>
                    
                    <p style="background: #e8f4f8; padding: 15px; border-radius: 8px; margin: 15px 0;">
                        <strong>ğŸ’¡ ×–×›×•×¨:</strong> <span class="highlight">1 ×§×™×œ×•×’×¨× = 1,000 ×’×¨×</span>
                    </p>
                    
                    <ul>
                        <li><strong>1 ×’×¨×</strong> = ××©×§×œ ×§×œ×™×¤ × ×™×™×¨ ğŸ“</li>
                        <li><strong>5 ×’×¨×</strong> = ××©×§×œ ××˜×‘×¢ ğŸª™</li>
                        <li><strong>100 ×’×¨×</strong> = ××©×§×œ ×ª×¤×•×— ×§×˜×Ÿ ğŸ</li>
                        <li><strong>200 ×’×¨×</strong> = ××©×§×œ ×›×•×¡ ×™×•×’×•×¨×˜ ğŸ¥›</li>
                        <li><strong>500 ×’×¨× (×—×¦×™ ×§×™×œ×•)</strong> = ××©×§×œ ×—×‘×™×œ×ª ××•×¨×– ×§×˜× ×”</li>
                        <li><strong>1 ×§×™×œ×•×’×¨× (1,000 ×’×¨×)</strong> = ×‘×§×‘×•×§ ××™× ×’×“×•×œ ğŸ’§</li>
                        <li><strong>5 ×§×™×œ×•×’×¨×</strong> = ××©×§×œ ×ª×™×§ ×‘×™×ª ×¡×¤×¨ ××œ× ğŸ’</li>
                        <li><strong>30 ×§×™×œ×•×’×¨×</strong> = ××©×§×œ ×™×œ×“ ×‘×›×™×ª×” ×‘' âš–ï¸</li>
                    </ul>
                    
                    <p style="margin-top: 15px; background: #fff9e6; padding: 10px; border-radius: 8px;">
                        <strong>ğŸ¯ ××ª×™ ××©×ª××©×™× ×‘×’×¨×?</strong> ×›×©××•×“×“×™× ×“×‘×¨×™× ×§×œ×™× ×××•×“ (×××ª×§×™×, ×ª×‘×œ×™× ×™×, ××˜×‘×¢×•×ª)<br>
                        <strong>ğŸ¯ ××ª×™ ××©×ª××©×™× ×‘×§×™×œ×•×’×¨×?</strong> ×›×©××•×“×“×™× ×“×‘×¨×™× ×›×‘×“×™× ×™×•×ª×¨ (×× ×©×™×, ×ª×™×§×™×, ×©×§×™×•×ª ×§× ×™×•×ª)
                    </p>
                </div>
                
                <div class="example-box">
                    <h3>3ï¸âƒ£ × ×¤×—: ×œ×™×˜×¨ (××“×™×“×ª × ×•×–×œ×™×)</h3>
                    
                    <p style="background: #e8f4f8; padding: 15px; border-radius: 8px; margin: 15px 0;">
                        <strong>ğŸ’¡ ×–×›×•×¨:</strong> <span class="highlight">1 ×œ×™×˜×¨ = 1,000 ××™×œ×™×œ×™×˜×¨ (×"×œ)</span>
                    </p>
                    
                    <ul>
                        <li><strong>250 ×"×œ (×¨×‘×¢ ×œ×™×˜×¨)</strong> = ×›×•×¡ ×§×˜× ×” â˜•</li>
                        <li><strong>500 ×"×œ (×—×¦×™ ×œ×™×˜×¨)</strong> = ×‘×§×‘×•×§ ××™× ×§×˜×Ÿ ğŸ¶</li>
                        <li><strong>1 ×œ×™×˜×¨ (1,000 ×"×œ)</strong> = ×‘×§×‘×•×§ ××™× ×’×“×•×œ / ×§×¨×˜×•×Ÿ ×—×œ×‘ ğŸ¥›</li>
                        <li><strong>2 ×œ×™×˜×¨</strong> = ×‘×§×‘×•×§ ×§×•×œ×” ×’×“×•×œ ğŸ¥¤</li>
                        <li><strong>5 ×œ×™×˜×¨</strong> = ×’×œ×•×Ÿ ××™× ğŸ’§</li>
                    </ul>
                    
                    <p style="margin-top: 15px; background: #fff9e6; padding: 10px; border-radius: 8px;">
                        <strong>ğŸ¯ ×œ×™×˜×¨ ××©××© ×œ××“×™×“×ª × ×•×–×œ×™×:</strong> ××™×, ××™×¥, ×—×œ×‘, ×©××Ÿ, ××©×§××•×ª
                    </p>
                </div>
                
                <div class="example-box" style="background: #e3f2fd; border-right: 5px solid #2196f3;">
                    <h3>ğŸ“Š ×˜×‘×œ×ª ×”××¨×•×ª - ×—×©×•×‘ ×œ×–×›×•×¨!</h3>
                    <table style="width: 100%; margin: 15px 0; border-collapse: collapse;">
                        <tr style="background: #fff;">
                            <td style="padding: 12px; border: 2px solid #667eea; font-size: 1.1em;"><strong>1 ××˜×¨</strong></td>
                            <td style="padding: 12px; border: 2px solid #667eea; text-align: center;">â¬…ï¸ â¡ï¸</td>
                            <td style="padding: 12px; border: 2px solid #667eea; font-size: 1.1em;"><strong>100 ×¡× ×˜×™××˜×¨</strong></td>
                        </tr>
                        <tr style="background: #fff;">
                            <td style="padding: 12px; border: 2px solid #667eea; font-size: 1.1em;"><strong>1 ×§×™×œ×•×’×¨×</strong></td>
                            <td style="padding: 12px; border: 2px solid #667eea; text-align: center;">â¬…ï¸ â¡ï¸</td>
                            <td style="padding: 12px; border: 2px solid #667eea; font-size: 1.1em;"><strong>1,000 ×’×¨×</strong></td>
                        </tr>
                        <tr style="background: #fff;">
                            <td style="padding: 12px; border: 2px solid #667eea; font-size: 1.1em;"><strong>1 ×œ×™×˜×¨</strong></td>
                            <td style="padding: 12px; border: 2px solid #667eea; text-align: center;">â¬…ï¸ â¡ï¸</td>
                            <td style="padding: 12px; border: 2px solid #667eea; font-size: 1.1em;"><strong>1,000 ××™×œ×™×œ×™×˜×¨</strong></td>
                        </tr>
                    </table>
                </div>
                
                <div class="example-box" style="background: #fff3e0; border-right: 5px solid #ff9800;">
                    <h3>ğŸ‹ï¸ ×ª×¨×’×•×œ ××”×™×¨ - × ×¡×” ×œ×¢× ×•×ª!</h3>
                    <ul>
                        <li>â“ ×›××” ×¡× ×˜×™××˜×¨×™× ×™×© ×‘-2 ××˜×¨? (×ª×©×•×‘×”: 200 ×¡"×)</li>
                        <li>â“ ××” ×™×•×ª×¨ ×›×‘×“: 500 ×’×¨× ××• 1 ×§×™×œ×•×’×¨×? (×ª×©×•×‘×”: 1 ×§×™×œ×•×’×¨×)</li>
                        <li>â“ ××” ×™×•×ª×¨ ××¨×•×š: 50 ×¡"× ××• 1 ××˜×¨? (×ª×©×•×‘×”: 1 ××˜×¨)</li>
                        <li>â“ ×›××” ×’×¨× ×™×© ×‘×—×¦×™ ×§×™×œ×•? (×ª×©×•×‘×”: 500 ×’×¨×)</li>
                    </ul>
                    <p style="margin-top: 15px; font-weight: bold; color: #ff6b6b;">
                        ×¢×›×©×™×• × ×¡×” ××ª ×”××©×—×§×™× ×›×“×™ ×œ×ª×¨×’×œ! ğŸ®
                    </p>
                </div>
            </div>
        </div>
        
        <!-- ××¡×š ×—×™×“×•×Ÿ -->
        <div id="quiz" class="screen">
            <button class="back-btn" id="back-from-quiz">â¬…ï¸ ×—×–×¨×” ×œ×ª×¤×¨×™×˜</button>
            
            <div class="game-area">
                <h2 class="game-title">ğŸ® ×—×™×“×•×Ÿ ××“×™×“×”</h2>
                <div class="score">× ×™×§×•×“: <span id="score">0</span> / <span id="total-questions">8</span></div>
                
                <div id="quiz-area">
                    <div class="question" id="question"></div>
                    <div class="options" id="options"></div>
                    <div class="feedback" id="feedback"></div>
                    <button id="next-btn" style="display: none;">×©××œ×” ×”×‘××” â¡ï¸</button>
                </div>
            </div>
        </div>
        
        <!-- ××¡×š ××©×—×§ ×–×™×›×¨×•×Ÿ -->
        <div id="memory" class="screen">
            <button class="back-btn" id="back-from-memory">â¬…ï¸ ×—×–×¨×” ×œ×ª×¤×¨×™×˜</button>
            
            <div class="game-area">
                <h2 class="game-title">ğŸ¯ ××©×—×§ ×–×™×›×¨×•×Ÿ - ××¦× ××ª ×”×”×ª×××”</h2>
                <p style="text-align: center; font-size: 1.2em; margin-bottom: 15px;">
                    ×œ×—×¥ ×¢×œ ×©×ª×™ ×§×œ×¤×™× ×›×“×™ ×œ××¦×•× ×–×•×’×•×ª ××ª××™××™×!
                </p>
                <div class="score">×–×•×’×•×ª ×©× ××¦××•: <span id="pairs-found">0</span> / 6</div>
                <div class="memory-game" id="memory-game"></div>
                <button id="reset-memory">×”×ª×—×œ ××—×“×© ğŸ”„</button>
            </div>
        </div>
        
        <!-- ××¡×š ×”×©×•×•××•×ª -->
        <div id="compare" class="screen">
            <button class="back-btn" id="back-from-compare">â¬…ï¸ ×—×–×¨×” ×œ×ª×¤×¨×™×˜</button>
            
            <div class="game-area">
                <h2 class="game-title">âš–ï¸ ××©×—×§ ×”×©×•×•××•×ª - ××” ×™×•×ª×¨ ×’×“×•×œ?</h2>
                <div class="score">× ×™×§×•×“: <span id="compare-score">0</span> / <span id="total-comparisons">8</span></div>
                
                <div id="compare-area">
                    <div class="question" id="compare-question"></div>
                    <div class="options" id="compare-options">
                        <button class="option-btn" id="compare-first">×”×¨××©×•×Ÿ ×’×“×•×œ ×™×•×ª×¨</button>
                        <button class="option-btn" id="compare-equal">×©×•×•×™×</button>
                        <button class="option-btn" id="compare-second">×”×©× ×™ ×’×“×•×œ ×™×•×ª×¨</button>
                    </div>
                    <div class="feedback" id="compare-feedback"></div>
                    <button id="next-compare-btn" style="display: none;">×”×©×•×•××” ×”×‘××” â¡ï¸</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let audioContext;
        let score = 0;
        let currentQuestionIndex = 0;
        let answered = false;
        let compareScore = 0;
        let currentCompareIndex = 0;
        let compareAnswered = false;
        let memoryCards = [];
        let flippedCards = [];
        let matchedPairs = 0;
        let canFlip = true;
        
        const questions = [
            {q: "×›××” ×¡× ×˜×™××˜×¨×™× ×™×© ×‘××˜×¨ ××—×“?", options: ["10", "50", "100", "1000"], correct: 2},
            {q: "×‘××” × ××“×•×“ ××ª ××•×¨×š ×”×¢×¤×¨×•×Ÿ?", options: ["×¡× ×˜×™××˜×¨", "×œ×™×˜×¨", "×§×™×œ×•×’×¨×", "×’×¨×"], correct: 0},
            {q: "×›××” ×’×¨× ×™×© ×‘×§×™×œ×•×’×¨× ××—×“?", options: ["10", "100", "500", "1000"], correct: 3},
            {q: "×‘××” × ××“×•×“ ×›××•×ª ××™×?", options: ["×§×™×œ×•×’×¨×", "×œ×™×˜×¨", "××˜×¨", "×¡×´×"], correct: 1},
            {q: "××” ×©×•×§×œ ×™×•×ª×¨?", options: ["100 ×’×¨×", "1 ×§×™×œ×•×’×¨×", "×©×•×•×™×", "×ª×œ×•×™ ×‘×—×¤×¥"], correct: 1},
            {q: "××™×–×• ××“×™×“×” ×”×™× ×œ×-×¡×˜× ×“×¨×˜×™×ª?", options: ["10 ×¡×´×", "5 ×¢×¤×¨×•× ×•×ª", "2 ××˜×¨", "3 ×œ×™×˜×¨"], correct: 1},
            {q: "××” ××¨×•×š ×™×•×ª×¨?", options: ["50 ×¡×´×", "1 ××˜×¨", "×©×•×•×™×", "××™ ××¤×©×¨ ×œ×“×¢×ª"], correct: 1},
            {q: "×‘×§×‘×•×§ ××™× ×’×“×•×œ ××›×™×œ ×‘×¢×¨×š...", options: ["×—×¦×™ ×œ×™×˜×¨", "1 ×œ×™×˜×¨", "5 ×œ×™×˜×¨", "10 ×œ×™×˜×¨"], correct: 1}
        ];
        
        const comparisons = [
            {q: "50 ×¡×´×", vs: "VS", q2: "1 ××˜×¨", answer: "second"},
            {q: "1000 ×’×¨×", vs: "VS", q2: "1 ×§×´×’", answer: "equal"},
            {q: "2 ×œ×™×˜×¨", vs: "VS", q2: "1 ×œ×™×˜×¨", answer: "first"},
            {q: "100 ×¡×´×", vs: "VS", q2: "1 ××˜×¨", answer: "equal"},
            {q: "500 ×’×¨×", vs: "VS", q2: "1 ×§×´×’", answer: "second"},
            {q: "200 ×¡×´×", vs: "VS", q2: "3 ××˜×¨", answer: "second"},
            {q: "Â½ ×œ×™×˜×¨", vs: "VS", q2: "500 ××´×œ", answer: "equal"},
            {q: "2000 ×’×¨×", vs: "VS", q2: "2 ×§×´×’", answer: "equal"}
        ];
        
        const memoryPairs = [
            {a: "1 ××˜×¨", b: "100 ×¡×´×"},
            {a: "1 ×§×´×’", b: "1000 ×’×¨×"},
            {a: "×œ×™×˜×¨", b: "× ×•×–×œ×™×"},
            {a: "×¡× ×˜×™××˜×¨", b: "××•×¨×š"},
            {a: "×§×™×œ×•×’×¨×", b: "××©×§×œ"},
            {a: "××“×™×“×”", b: "×¡×˜× ×“×¨×˜×™×ª"}
        ];
        
        function initAudio() {
            if (!audioContext) {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
            }
        }
        
        function playTone(frequency, duration, volume = 0.3) {
            initAudio();
            const osc = audioContext.createOscillator();
            const gain = audioContext.createGain();
            
            osc.connect(gain);
            gain.connect(audioContext.destination);
            
            osc.frequency.value = frequency;
            osc.type = 'sine';
            
            gain.gain.setValueAtTime(volume, audioContext.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration);
            
            osc.start(audioContext.currentTime);
            osc.stop(audioContext.currentTime + duration);
        }
        
        function playClick() {
            playTone(600, 0.08, 0.2);
        }
        
        function playCorrect() {
            playTone(523.25, 0.1, 0.25);
            setTimeout(() => playTone(659.25, 0.1, 0.25), 100);
            setTimeout(() => playTone(783.99, 0.15, 0.25), 200);
        }
        
        function playWrong() {
            playTone(200, 0.2, 0.2);
        }
        
        function playSuccess() {
            playTone(523.25, 0.12, 0.2);
            setTimeout(() => playTone(659.25, 0.12, 0.2), 120);
            setTimeout(() => playTone(783.99, 0.12, 0.2), 240);
            setTimeout(() => playTone(1046.50, 0.25, 0.2), 360);
        }
        
        function showScreen(screenId) {
            playClick();
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(screenId).classList.add('active');
            
            if (screenId === 'quiz') resetQuiz();
            else if (screenId === 'memory') createMemoryGame();
            else if (screenId === 'compare') resetComparison();
        }
        
        function resetQuiz() {
            score = 0;
            currentQuestionIndex = 0;
            answered = false;
            document.getElementById('score').textContent = score;
            showQuestion();
        }
        
        function showQuestion() {
            answered = false;
            document.getElementById('next-btn').style.display = 'none';
            document.getElementById('feedback').classList.remove('show', 'correct', 'incorrect');
            
            if (currentQuestionIndex >= questions.length) {
                playSuccess();
                document.getElementById('question').innerHTML = `ğŸ‰ ×›×œ ×”×›×‘×•×“! ×¡×™×™××ª ××ª ×”×—×™×“×•×Ÿ!<br>×”× ×™×§×•×“ ×”×¡×•×¤×™ ×©×œ×š: ${score}/${questions.length}`;
                document.getElementById('options').innerHTML = '';
                
                const playAgainBtn = document.createElement('button');
                playAgainBtn.textContent = 'ğŸ”„ ×©×—×§ ×©×•×‘';
                playAgainBtn.onclick = resetQuiz;
                document.getElementById('options').appendChild(playAgainBtn);
                return;
            }
            
            const q = questions[currentQuestionIndex];
            document.getElementById('question').textContent = q.q;
            
            const optionsDiv = document.getElementById('options');
            optionsDiv.innerHTML = '';
            
            q.options.forEach((option, index) => {
                const btn = document.createElement('button');
                btn.className = 'option-btn';
                btn.textContent = option;
                btn.onclick = () => checkAnswer(index, btn);
                optionsDiv.appendChild(btn);
            });
        }
        
        function checkAnswer(selected, clickedBtn) {
            if (answered) return;
            
            answered = true;
            const q = questions[currentQuestionIndex];
            const feedback = document.getElementById('feedback');
            const buttons = document.querySelectorAll('#options .option-btn');
            
            buttons.forEach(btn => btn.disabled = true);
            
            if (selected === q.correct) {
                playCorrect();
                feedback.textContent = 'âœ… × ×›×•×Ÿ! ×›×œ ×”×›×‘×•×“!';
                feedback.className = 'feedback show correct';
                score++;
                document.getElementById('score').textContent = score;
                clickedBtn.style.background = '#00b894';
            } else {
                playWrong();
                feedback.textContent = 'âŒ ×œ× × ×›×•×Ÿ. ×”×ª×©×•×‘×” ×”× ×›×•× ×” ×”×™×: ' + q.options[q.correct];
                feedback.className = 'feedback show incorrect';
                clickedBtn.style.background = '#ff7675';
                buttons[q.correct].style.background = '#00b894';
            }
            
            document.getElementById('next-btn').style.display = 'inline-block';
        }
        
        function nextQuestion() {
            playClick();
            currentQuestionIndex++;
            showQuestion();
        }
        
        function createMemoryGame() {
            const gameDiv = document.getElementById('memory-game');
            gameDiv.innerHTML = '';
            memoryCards = [];
            flippedCards = [];
            matchedPairs = 0;
            canFlip = true;
            document.getElementById('pairs-found').textContent = '0';
            
            let cards = [];
            memoryPairs.forEach((pair, index) => {
                cards.push({text: pair.a, pairId: index});
                cards.push({text: pair.b, pairId: index});
            });
            
            cards.sort(() => Math.random() - 0.5);
            
            cards.forEach((card, index) => {
                const cardDiv = document.createElement('div');
                cardDiv.className = 'memory-card';
                cardDiv.textContent = '?';
                cardDiv.dataset.pairId = card.pairId;
                cardDiv.dataset.text = card.text;
                cardDiv.onclick = () => flipCard(cardDiv);
                gameDiv.appendChild(cardDiv);
                memoryCards.push(cardDiv);
            });
        }
        
        function flipCard(card) {
            if (!canFlip || card.classList.contains('flipped') || card.classList.contains('matched') || flippedCards.length >= 2) {
                return;
            }
            
            playClick();
            card.classList.add('flipped');
            card.textContent = card.dataset.text;
            flippedCards.push(card);
            
            if (flippedCards.length === 2) {
                canFlip = false;
                setTimeout(checkMatch, 1000);
            }
        }
        
        function checkMatch() {
            const [card1, card2] = flippedCards;
            
            if (card1.dataset.pairId === card2.dataset.pairId) {
                playCorrect();
                card1.classList.add('matched');
                card2.classList.add('matched');
                matchedPairs++;
                document.getElementById('pairs-found').textContent = matchedPairs;
                
                if (matchedPairs === memoryPairs.length) {
                    setTimeout(() => {
                        playSuccess();
                        alert('ğŸ‰ ×›×œ ×”×›×‘×•×“! ××¦××ª ××ª ×›×œ ×”×–×•×’×•×ª!');
                    }, 500);
                }
            } else {
                playWrong();
                card1.classList.remove('flipped');
                card2.classList.remove('flipped');
                card1.textContent = '?';
                card2.textContent = '?';
            }
            
            flippedCards = [];
            canFlip = true;
        }
        
        function resetComparison() {
            compareScore = 0;
            currentCompareIndex = 0;
            compareAnswered = false;
            document.getElementById('compare-score').textContent = compareScore;
            document.getElementById('total-comparisons').textContent = comparisons.length;
            showComparison();
        }
        
        function showComparison() {
            compareAnswered = false;
            document.getElementById('next-compare-btn').style.display = 'none';
            document.getElementById('compare-feedback').classList.remove('show', 'correct', 'incorrect');
            
            const buttons = [
                document.getElementById('compare-first'),
                document.getElementById('compare-equal'),
                document.getElementById('compare-second')
            ];
            
            buttons.forEach(btn => {
                btn.disabled = false;
                btn.style.background = '';
            });
            
            if (currentCompareIndex >= comparisons.length) {
                playSuccess();
                document.getElementById('compare-question').innerHTML = `ğŸ‰ ×›×œ ×”×›×‘×•×“! ×¡×™×™××ª!<br>×”× ×™×§×•×“ ×”×¡×•×¤×™: ${compareScore}/${comparisons.length}`;
                buttons.forEach(btn => btn.style.display = 'none');
                
                const playAgainBtn = document.createElement('button');
                playAgainBtn.textContent = 'ğŸ”„ ×©×—×§ ×©×•×‘';
                playAgainBtn.style.display = 'inline-block';
                playAgainBtn.onclick = resetComparison;
                document.getElementById('compare-options').appendChild(playAgainBtn);
                return;
            }
            
            buttons.forEach(btn => btn.style.display = '');
            const comp = comparisons[currentCompareIndex];
            document.getElementById('compare-question').innerHTML = `<span class="value">${comp.q}</span><span class="vs">${comp.vs}</span><span class="value">${comp.q2}</span>`;
        }
        
        function checkComparison(answer) {
            if (compareAnswered) return;
            
            compareAnswered = true;
            const comp = comparisons[currentCompareIndex];
            const feedback = document.getElementById('compare-feedback');
            const buttons = [
                document.getElementById('compare-first'),
                document.getElementById('compare-equal'),
                document.getElementById('compare-second')
            ];
            
            buttons.forEach(btn => btn.disabled = true);
            
            if (answer === comp.answer) {
                playCorrect();
                feedback.textContent = 'âœ… × ×›×•×Ÿ ×××•×“!';
                feedback.className = 'feedback show correct';
                compareScore++;
                document.getElementById('compare-score').textContent = compareScore;
            } else {
                playWrong();
                let correctText = '';
                if (comp.answer === 'first') correctText = '×”×¨××©×•×Ÿ ×’×“×•×œ ×™×•×ª×¨';
                else if (comp.answer === 'second') correctText = '×”×©× ×™ ×’×“×•×œ ×™×•×ª×¨';
                else correctText = '×©×•×•×™×';
                
                feedback.textContent = 'âŒ ×œ× × ×›×•×Ÿ. ×”×ª×©×•×‘×” ×”× ×›×•× ×”: ' + correctText;
                feedback.className = 'feedback show incorrect';
            }
            
            document.getElementById('next-compare-btn').style.display = 'inline-block';
        }
        
        function nextComparison() {
            playClick();
            currentCompareIndex++;
            showComparison();
        }
        
        // Event Listeners
        document.addEventListener('DOMContentLoaded', function() {
            // Menu buttons
            document.getElementById('menu-lesson').addEventListener('click', () => showScreen('lesson'));
            document.getElementById('menu-quiz').addEventListener('click', () => showScreen('quiz'));
            document.getElementById('menu-memory').addEventListener('click', () => showScreen('memory'));
            document.getElementById('menu-compare').addEventListener('click', () => showScreen('compare'));
            
            // Back buttons
            document.getElementById('back-from-lesson').addEventListener('click', () => showScreen('main-menu'));
            document.getElementById('back-from-quiz').addEventListener('click', () => showScreen('main-menu'));
            document.getElementById('back-from-memory').addEventListener('click', () => showScreen('main-menu'));
            document.getElementById('back-from-compare').addEventListener('click', () => showScreen('main-menu'));
            
            // Quiz buttons
            document.getElementById('next-btn').addEventListener('click', nextQuestion);
            
            // Memory button
            document.getElementById('reset-memory').addEventListener('click', () => {
                playClick();
                createMemoryGame();
            });
            
            // Comparison buttons
            document.getElementById('compare-first').addEventListener('click', () => checkComparison('first'));
            document.getElementById('compare-equal').addEventListener('click', () => checkComparison('equal'));
            document.getElementById('compare-second').addEventListener('click', () => checkComparison('second'));
            document.getElementById('next-compare-btn').addEventListener('click', nextComparison);
        });
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>×’×œ×” ××ª ×”×¦×™×•×¨ - ××©×—×§ ××ª××˜×™</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .menu-container {
            background: white;
            border-radius: 25px;
            padding: 50px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-width: 900px;
            width: 100%;
            text-align: center;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        h1 {
            font-size: 3em;
            color: #667eea;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .subtitle {
            font-size: 1.3em;
            color: #666;
            margin-bottom: 40px;
        }

        .difficulty-section {
            margin-bottom: 40px;
        }

        .section-title {
            font-size: 1.8em;
            color: #667eea;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .difficulty-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 30px;
        }

        .difficulty-btn {
            padding: 15px 35px;
            font-size: 1.2em;
            border: 3px solid #667eea;
            background: white;
            color: #667eea;
            border-radius: 15px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .difficulty-btn:hover, .difficulty-btn.selected {
            background: #667eea;
            color: white;
            transform: scale(1.05);
        }

        .drawing-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .drawing-option {
            background: linear-gradient(135deg, #f5f7fa, #c3cfe2);
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            border: 3px solid transparent;
        }

        .drawing-option:hover, .drawing-option.selected {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
            border-color: #667eea;
        }

        .drawing-icon {
            font-size: 3.5em;
            margin-bottom: 10px;
        }

        .drawing-name {
            font-size: 1.2em;
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }

        .drawing-steps {
            color: #666;
            font-size: 0.9em;
        }

        .start-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 25px 60px;
            font-size: 1.5em;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
        }

        .start-btn:hover:not(:disabled) {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(102, 126, 234, 0.6);
        }

        .start-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .game-container {
            display: none;
            background: white;
            border-radius: 25px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-width: 1200px;
            width: 100%;
        }

        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 3px solid #667eea;
            flex-wrap: wrap;
            gap: 15px;
        }

        .game-title {
            font-size: 2em;
            color: #667eea;
            font-weight: bold;
        }

        .stats {
            display: flex;
            gap: 30px;
            font-size: 1.3em;
            font-weight: bold;
        }

        .stat {
            color: #667eea;
        }

        .lives {
            color: #f5576c;
            font-size: 1.5em;
        }

        .game-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .canvas-section {
            text-align: center;
        }

        .canvas-title {
            font-size: 1.5em;
            color: #667eea;
            font-weight: bold;
            margin-bottom: 15px;
        }

        canvas {
            border: 4px solid #667eea;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            max-width: 100%;
            height: auto;
        }

        .progress-info {
            margin-top: 15px;
            font-size: 1.2em;
            color: #666;
            font-weight: bold;
        }

        .question-section {
            background: linear-gradient(135deg, #e0c3fc 0%, #8ec5fc 100%);
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .question {
            font-size: 3.5em;
            color: #333;
            margin-bottom: 30px;
            font-weight: bold;
            direction: ltr;
        }

        .answer-input {
            font-size: 2.5em;
            padding: 15px 30px;
            border: 4px solid #667eea;
            border-radius: 15px;
            text-align: center;
            width: 200px;
            font-weight: bold;
            direction: ltr;
            margin: 0 auto 25px;
        }

        .answer-input:focus {
            outline: none;
            border-color: #764ba2;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.4);
        }

        .submit-btn {
            background: linear-gradient(135deg, #00ff88 0%, #00cc66 100%);
            color: white;
            border: none;
            padding: 18px 50px;
            font-size: 1.8em;
            border-radius: 15px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            margin: 0 auto;
        }

        .submit-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(0, 255, 136, 0.4);
        }

        .feedback {
            font-size: 1.8em;
            margin-top: 20px;
            font-weight: bold;
            min-height: 50px;
        }

        .correct {
            color: #00cc66;
        }

        .wrong {
            color: #f5576c;
        }

        .game-over-screen {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 30px;
            border-radius: 25px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
            text-align: center;
            z-index: 2000;
            max-width: 550px;
            max-height: 90vh;
            overflow-y: auto;
            animation: popIn 0.5s ease;
        }

        @keyframes popIn {
            0% { transform: translate(-50%, -50%) scale(0.5); opacity: 0; }
            100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
        }

        .game-over-title {
            font-size: 2.2em;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .game-over-message {
            font-size: 1.2em;
            color: #666;
            margin-bottom: 20px;
            line-height: 1.4;
        }

        .final-canvas {
            margin: 15px 0;
        }
        
        #finalCanvas {
            max-width: 100%;
            height: auto;
        }

        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1999;
        }

        @media (max-width: 768px) {
            .game-content {
                grid-template-columns: 1fr;
            }

            .question {
                font-size: 2.5em;
            }

            .answer-input {
                font-size: 2em;
                width: 150px;
            }

            h1 {
                font-size: 2em;
            }
        }

        /* ×œ×—×¦×Ÿ ×—×–×•×¨ ×œ×ª×¤×¨×™×˜ ×¨××©×™ */
        .back-to-menu-btn {
            padding: 12px 24px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            order: -1;
            flex-shrink: 0;
        }

        .back-to-menu-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }

        .back-to-menu-btn:active {
            transform: translateY(0);
        }
    </style>
</head>
<body>
    <div class="overlay" id="overlay"></div>

    <!-- Main Menu -->
    <div class="menu-container" id="mainMenu">
        <h1>ğŸ¨ ×’×œ×” ××ª ×”×¦×™×•×¨ ğŸ§®</h1>
        <p class="subtitle">×¤×ª×•×¨ ×©××œ×•×ª ××ª××˜×™×•×ª ×•×’×œ×” ××ª ×”×¦×™×•×¨ ×©×œ×‘ ××—×¨ ×©×œ×‘!</p>
        
        <div class="difficulty-section">
            <div class="section-title">×‘×—×¨ ×¨××ª ×§×•×©×™:</div>
            <div class="difficulty-buttons">
                <button class="difficulty-btn" onclick="selectDifficulty('easy')">ğŸŸ¢ ×§×œ (1-5)</button>
                <button class="difficulty-btn" onclick="selectDifficulty('medium')">ğŸŸ¡ ×‘×™× ×•× ×™ (6-10)</button>
                <button class="difficulty-btn" onclick="selectDifficulty('hard')">ğŸ”´ ×§×©×” (11-12)</button>
            </div>
        </div>

        <div class="difficulty-section">
            <div class="section-title">×‘×—×¨ ×¦×™×•×¨:</div>
            <div class="drawing-options">
                <div class="drawing-option" onclick="selectDrawing('ship')">
                    <div class="drawing-icon">ğŸš¢</div>
                    <div class="drawing-name">×¡×¤×™× ×”</div>
                    <div class="drawing-steps">13 ×©×œ×‘×™×</div>
                </div>
                <div class="drawing-option" onclick="selectDrawing('owl')">
                    <div class="drawing-icon">ğŸ¦‰</div>
                    <div class="drawing-name">×™× ×©×•×£</div>
                    <div class="drawing-steps">14 ×©×œ×‘×™×</div>
                </div>
                <div class="drawing-option" onclick="selectDrawing('peacock')">
                    <div class="drawing-icon">ğŸ¦š</div>
                    <div class="drawing-name">×˜×•×•×¡</div>
                    <div class="drawing-steps">14 ×©×œ×‘×™×</div>
                </div>
                <div class="drawing-option" onclick="selectDrawing('ghost')">
                    <div class="drawing-icon">ğŸ‘»</div>
                    <div class="drawing-name">×¨×•×— ×¨×¤××™×</div>
                    <div class="drawing-steps">20 ×©×œ×‘×™×</div>
                </div>
                <div class="drawing-option" onclick="selectDrawing('pumpkin')">
                    <div class="drawing-icon">ğŸƒ</div>
                    <div class="drawing-name">×“×œ×¢×ª</div>
                    <div class="drawing-steps">17 ×©×œ×‘×™×</div>
                </div>
                <div class="drawing-option" onclick="selectDrawing('guitar')">
                    <div class="drawing-icon">ğŸ¸</div>
                    <div class="drawing-name">×’×™×˜×¨×”</div>
                    <div class="drawing-steps">19 ×©×œ×‘×™×</div>
                </div>
                <div class="drawing-option" onclick="selectDrawing('parrot')">
                    <div class="drawing-icon">ğŸ¦œ</div>
                    <div class="drawing-name">×ª×•×›×™</div>
                    <div class="drawing-steps">17 ×©×œ×‘×™×</div>
                </div>
                <div class="drawing-option" onclick="selectDrawing('beach')">
                    <div class="drawing-icon">ğŸ–ï¸</div>
                    <div class="drawing-name">×—×•×£ ×™×</div>
                    <div class="drawing-steps">15 ×©×œ×‘×™×</div>
                </div>
                <div class="drawing-option" onclick="selectDrawing('cactus')">
                    <div class="drawing-icon">ğŸŒµ</div>
                    <div class="drawing-name">×§×§×˜×•×¡</div>
                    <div class="drawing-steps">16 ×©×œ×‘×™×</div>
                </div>
                <div class="drawing-option" onclick="selectDrawing('circus')">
                    <div class="drawing-icon">ğŸª</div>
                    <div class="drawing-name">××•×”×œ ×§×¨×§×¡</div>
                    <div class="drawing-steps">19 ×©×œ×‘×™×</div>
                </div>
                <div class="drawing-option" onclick="selectDrawing('moonStars')">
                    <div class="drawing-icon">ğŸŒ™</div>
                    <div class="drawing-name">×™×¨×— ×•×›×•×›×‘×™×</div>
                    <div class="drawing-steps">10 ×©×œ×‘×™×</div>
                </div>
                <div class="drawing-option" onclick="selectDrawing('seaCrab')">
                    <div class="drawing-icon">ğŸ¦€</div>
                    <div class="drawing-name">×¡×¨×˜×Ÿ ×™×</div>
                    <div class="drawing-steps">18 ×©×œ×‘×™×</div>
                </div>
                <div class="drawing-option" onclick="selectDrawing('frog')">
                    <div class="drawing-icon">ğŸ¸</div>
                    <div class="drawing-name">×¦×¤×¨×“×¢</div>
                    <div class="drawing-steps">14 ×©×œ×‘×™×</div>
                </div>
                <div class="drawing-option" onclick="selectDrawing('bee')">
                    <div class="drawing-icon">ğŸ</div>
                    <div class="drawing-name">×“×‘×•×¨×”</div>
                    <div class="drawing-steps">19 ×©×œ×‘×™×</div>
                </div>
                <div class="drawing-option" onclick="selectDrawing('octopus')">
                    <div class="drawing-icon">ğŸ™</div>
                    <div class="drawing-name">×ª×× ×•×Ÿ</div>
                    <div class="drawing-steps">12 ×©×œ×‘×™×</div>
                </div>
                <div class="drawing-option" onclick="selectDrawing('train')">
                    <div class="drawing-icon">ğŸš‚</div>
                    <div class="drawing-name">×¨×›×‘×ª</div>
                    <div class="drawing-steps">17 ×©×œ×‘×™×</div>
                </div>
                <div class="drawing-option" onclick="selectDrawing('balloon')">
                    <div class="drawing-icon">ğŸ¨</div>
                    <div class="drawing-name">×›×“×•×¨ ×¤×•×¨×—</div>
                    <div class="drawing-steps">20 ×©×œ×‘×™×</div>
                </div>
                <div class="drawing-option" onclick="selectDrawing('icecream')">
                    <div class="drawing-icon">ğŸ¦</div>
                    <div class="drawing-name">×’×œ×™×“×”</div>
                    <div class="drawing-steps">10 ×©×œ×‘×™×</div>
                </div>
                <div class="drawing-option" onclick="selectDrawing('cake')">
                    <div class="drawing-icon">ğŸ‚</div>
                    <div class="drawing-name">×¢×•×’×”</div>
                    <div class="drawing-steps">12 ×©×œ×‘×™×</div>
                </div>
                <div class="drawing-option" onclick="selectDrawing('royalPeacock')">
                    <div class="drawing-icon">ğŸ‘‘</div>
                    <div class="drawing-name">×˜×•×•×¡ ××œ×›×•×ª×™</div>
                    <div class="drawing-steps">14 ×©×œ×‘×™×</div>
                </div>
                <div class="drawing-option" onclick="selectDrawing('lighthouse')">
                    <div class="drawing-icon">ğŸŒŠ</div>
                    <div class="drawing-name">××’×“×œ×•×¨</div>
                    <div class="drawing-steps">14 ×©×œ×‘×™×</div>
                </div>
                <div class="drawing-option" onclick="selectDrawing('fox')">
                    <div class="drawing-icon">ğŸ¦Š</div>
                    <div class="drawing-name">×©×•×¢×œ</div>
                    <div class="drawing-steps">13 ×©×œ×‘×™×</div>
                </div>
            </div>
        </div>
        
        <button class="start-btn" onclick="startGame()" id="startButton" disabled>
            ×”×ª×—×œ ××©×—×§
        </button>
    </div>

    <!-- Game Screen -->
    <div class="game-container" id="gameContainer">
        <div class="game-header">
            <button class="back-to-menu-btn" onclick="returnToMenu()">â† ×—×–×•×¨ ×œ×ª×¤×¨×™×˜</button>
            <div class="game-title" id="drawingTitle">ğŸ¨ ×’×œ×” ××ª ×”×¦×™×•×¨</div>
            <div class="stats">
                <div class="stat">×©××œ×”: <span id="questionNum">1</span></div>
                <div class="lives">×—×™×™×: <span id="lives">5</span> â¤ï¸</div>
            </div>
        </div>

        <div class="game-content">
            <div class="canvas-section">
                <div class="canvas-title">âœ¨ ×”×¦×™×•×¨ ×©×œ×š ××ª×’×œ×” âœ¨</div>
                <canvas id="gameCanvas" width="400" height="400"></canvas>
                <div class="progress-info" id="progressInfo">×©×œ×‘ 0 ××ª×•×š 0</div>
            </div>

            <div class="question-section">
                <div class="question" id="questionText">? = 5 + 3</div>
                <input type="number" class="answer-input" id="answerInput" placeholder="?" autocomplete="off">
                <button class="submit-btn" onclick="checkAnswer()">×‘×“×•×§ ×ª×©×•×‘×” âœ“</button>
                <div class="feedback" id="feedback"></div>
            </div>
        </div>
    </div>

    <!-- Game Over Screen -->
    <div class="game-over-screen" id="gameOverScreen">
        <div class="game-over-title" id="gameOverTitle">ğŸ‰ ×›×œ ×”×›×‘×•×“! ğŸ‰</div>
        <div class="game-over-message" id="gameOverMessage"></div>
        <div class="final-canvas">
            <canvas id="finalCanvas" width="350" height="350"></canvas>
        </div>
        <button class="start-btn" onclick="returnToMenu()" style="padding: 15px 40px; font-size: 1.2em;">×—×–×•×¨ ×œ×ª×¤×¨×™×˜</button>
    </div>

    <script>
        let difficulty = null;
        let selectedDrawing = null;
        let currentStep = 0;
        let lives = 5;
        let questionNumber = 0;
        let currentAnswer = 0;
        let gameRunning = false;

        const difficultySettings = {
            easy: { min: 1, max: 5 },      // ×§×œ: ××¡×¤×¨×™× 1-5
            medium: { min: 6, max: 10 },   // ×‘×™× ×•× ×™: ××¡×¤×¨×™× 6-10
            hard: { min: 11, max: 12 }     // ×§×©×”: ××¡×¤×¨×™× 11-12
        };

        const drawings = {
            ship: {
                name: '×¡×¤×™× ×”',
                icon: 'ğŸš¢',
                steps: [
                    { instruction: '×©××™×™×', draw: c => { var grad = c.createLinearGradient(0,0,0,267); grad.addColorStop(0,'#87CEEB'); grad.addColorStop(1,'#B0D4F1'); c.fillStyle=grad; c.fillRect(0,0,400,267); }},
                    { instruction: '×™×', draw: c => { var grad = c.createLinearGradient(0,267,0,400); grad.addColorStop(0,'#4A90E2'); grad.addColorStop(1,'#2E5C8A'); c.fillStyle=grad; c.fillRect(0,267,400,133); }},
                    { instruction: '×©××©', draw: c => { c.fillStyle='#FFD700'; c.beginPath(); c.arc(333,67,33,0,Math.PI*2); c.fill(); }},
                    { instruction: '×§×¨× ×™ ×©××©', draw: c => { c.strokeStyle='#FFD700'; c.lineWidth=4; c.lineCap='round'; for(var i=0; i<8; i++) { var a = (i*45) * Math.PI/180; c.beginPath(); c.moveTo(333+Math.cos(a)*40, 67+Math.sin(a)*40); c.lineTo(333+Math.cos(a)*60, 67+Math.sin(a)*60); c.stroke(); }}},
                    { instruction: '×’×œ×™×', draw: c => { c.strokeStyle='rgba(255,255,255,0.5)'; c.lineWidth=3; for(var i=0; i<5; i++) { c.beginPath(); for(var x=0; x<=400; x+=27) { c.lineTo(x, 293+i*20+Math.sin(x*0.1)*7); } c.stroke(); }}},
                    { instruction: '×’×•×£ ×”×¡×¤×™× ×”', draw: c => { c.fillStyle='#8B4513'; c.beginPath(); c.moveTo(67,267); c.lineTo(53,320); c.lineTo(293,320); c.lineTo(280,267); c.closePath(); c.fill(); c.strokeStyle='#654321'; c.lineWidth=4; c.stroke(); }},
                    { instruction: '×¡×™×¤×•×Ÿ', draw: c => { c.fillStyle='#A0522D'; c.fillRect(67,240,213,27); c.strokeStyle='#654321'; c.lineWidth=3; c.strokeRect(67,240,213,27); }},
                    { instruction: '×ª× ××¤×§×“', draw: c => { c.fillStyle='#FFFFFF'; c.fillRect(133,187,80,53); c.strokeStyle='#333'; c.lineWidth=3; c.strokeRect(133,187,80,53); }},
                    { instruction: '×—×œ×•× ×•×ª', draw: c => { c.fillStyle='#87CEEB'; c.fillRect(147,200,20,20); c.fillRect(180,200,20,20); c.strokeStyle='#333'; c.lineWidth=2; c.strokeRect(147,200,20,20); c.strokeRect(180,200,20,20); }},
                    { instruction: '××¨×•×‘×”', draw: c => { c.fillStyle='#FF4444'; c.fillRect(100,147,27,53); c.strokeStyle='#8B0000'; c.lineWidth=3; c.strokeRect(100,147,27,53); }},
                    { instruction: '×¢×©×Ÿ', draw: c => { c.fillStyle='rgba(100,100,100,0.5)'; c.beginPath(); c.arc(113,127,13,0,Math.PI*2); c.fill(); c.beginPath(); c.arc(120,107,16,0,Math.PI*2); c.fill(); c.beginPath(); c.arc(127,87,19,0,Math.PI*2); c.fill(); }},
                    { instruction: '×—×œ×•× ×•×ª ×‘×¦×“', draw: c => { c.fillStyle='#FFD700'; for(var i=0; i<4; i++) { c.fillRect(80+i*40,280,20,13); }}},
                    { instruction: '×¢×•×’×Ÿ', draw: c => { c.strokeStyle='#333'; c.lineWidth=4; c.lineCap='round'; c.beginPath(); c.arc(267,280,11,0,Math.PI*2); c.stroke(); c.beginPath(); c.moveTo(267,291); c.lineTo(267,313); c.stroke(); c.beginPath(); c.moveTo(253,307); c.lineTo(267,313); c.lineTo(281,307); c.stroke(); }}
                ]
            },
            owl: {
                name: '×™× ×©×•×£ ×œ×™×œ×”',
                icon: 'ğŸ¦‰',
                steps: [
                    { instruction: '×¨×§×¢ ×œ×™×œ×”', draw: c => { var g = c.createLinearGradient(0, 0, 0, 400); g.addColorStop(0, '#191970'); g.addColorStop(1, '#000080'); c.fillStyle = g; c.fillRect(0, 0, 400, 400); }},
                    { instruction: '×›×•×›×‘×™×', draw: c => { c.fillStyle = '#FFFF00'; var stars = [[100, 80], [200, 60], [300, 90], [320, 150], [80, 170]]; for(var i = 0; i < stars.length; i++) { c.beginPath(); c.arc(stars[i][0], stars[i][1], 3, 0, Math.PI * 2); c.fill(); }}},
                    { instruction: '×’×•×£', draw: c => { c.fillStyle = '#8B4513'; c.beginPath(); c.ellipse(200, 260, 55, 75, 0, 0, Math.PI * 2); c.fill(); c.strokeStyle = '#654321'; c.lineWidth = 3; c.stroke(); }},
                    { instruction: '×¨××©', draw: c => { c.fillStyle = '#A0522D'; c.beginPath(); c.arc(200, 180, 50, 0, Math.PI * 2); c.fill(); c.strokeStyle = '#654321'; c.lineWidth = 3; c.stroke(); }},
                    { instruction: '××•×–×Ÿ ×©×××œ×™×ª', draw: c => { c.fillStyle = '#8B4513'; c.beginPath(); c.moveTo(170, 140); c.lineTo(160, 170); c.lineTo(180, 165); c.closePath(); c.fill(); }},
                    { instruction: '××•×–×Ÿ ×™×× ×™×ª', draw: c => { c.fillStyle = '#8B4513'; c.beginPath(); c.moveTo(230, 140); c.lineTo(240, 170); c.lineTo(220, 165); c.closePath(); c.fill(); }},
                    { instruction: '×¢×™×Ÿ ×©×××œ×™×ª', draw: c => { c.fillStyle = '#FFFFFF'; c.beginPath(); c.arc(185, 180, 20, 0, Math.PI * 2); c.fill(); c.strokeStyle = '#000000'; c.lineWidth = 2; c.stroke(); }},
                    { instruction: '×¢×™×Ÿ ×™×× ×™×ª', draw: c => { c.fillStyle = '#FFFFFF'; c.beginPath(); c.arc(215, 180, 20, 0, Math.PI * 2); c.fill(); c.strokeStyle = '#000000'; c.lineWidth = 2; c.stroke(); }},
                    { instruction: '××™×©×•×Ÿ ×©×××œ×™', draw: c => { c.fillStyle = '#000000'; c.beginPath(); c.arc(185, 180, 10, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '××™×©×•×Ÿ ×™×× ×™', draw: c => { c.fillStyle = '#000000'; c.beginPath(); c.arc(215, 180, 10, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '× ×™×¦×•×¦×™×', draw: c => { c.fillStyle = '#FFFFFF'; c.beginPath(); c.arc(188, 177, 4, 0, Math.PI * 2); c.fill(); c.beginPath(); c.arc(218, 177, 4, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '××§×•×¨', draw: c => { c.fillStyle = '#FFD700'; c.beginPath(); c.moveTo(200, 190); c.lineTo(195, 205); c.lineTo(205, 205); c.closePath(); c.fill(); }},
                    { instruction: '×›× ×¤×™×™×', draw: c => { c.fillStyle = '#654321'; c.beginPath(); c.ellipse(160, 270, 15, 35, -0.3, 0, Math.PI * 2); c.fill(); c.beginPath(); c.ellipse(240, 270, 15, 35, 0.3, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '×¨×’×œ×™×™×', draw: c => { c.strokeStyle = '#FFA500'; c.lineWidth = 5; c.lineCap = 'round'; c.beginPath(); c.moveTo(190, 330); c.lineTo(185, 350); c.stroke(); c.beginPath(); c.moveTo(210, 330); c.lineTo(215, 350); c.stroke(); }}
                ]
            },
            peacock: {
                name: '×˜×•×•×¡ ××¨×”×™×‘',
                icon: 'ğŸ¦š',
                steps: [
                    { instruction: '×¨×§×¢ ×ª×›×œ×ª', draw: c => { var sky = c.createLinearGradient(0, 0, 0, 400); sky.addColorStop(0, '#E0F6FF'); sky.addColorStop(1, '#B3E5FC'); c.fillStyle = sky; c.fillRect(0, 0, 400, 400); }},
                    { instruction: '× ×•×¦×” ×©×××œ×™×ª', draw: c => { c.save(); c.translate(200, 266); c.rotate(-0.6); var grad = c.createRadialGradient(0, -106, 13, 0, -106, 53); grad.addColorStop(0, '#00CED1'); grad.addColorStop(0.6, '#1E90FF'); grad.addColorStop(1, '#000080'); c.fillStyle = grad; c.beginPath(); c.ellipse(0, -106, 33, 80, 0, 0, Math.PI * 2); c.fill(); c.restore(); }},
                    { instruction: '×¢×™×Ÿ ×‘× ×•×¦×” ×©×××œ×™×ª', draw: c => { c.save(); c.translate(200, 266); c.rotate(-0.6); c.fillStyle = '#4169E1'; c.beginPath(); c.arc(0, -106, 20, 0, Math.PI * 2); c.fill(); c.fillStyle = '#00FFFF'; c.beginPath(); c.arc(0, -106, 10, 0, Math.PI * 2); c.fill(); c.fillStyle = '#000080'; c.beginPath(); c.arc(0, -106, 5, 0, Math.PI * 2); c.fill(); c.restore(); }},
                    { instruction: '× ×•×¦×” 2', draw: c => { c.save(); c.translate(200, 266); c.rotate(-0.3); var grad = c.createRadialGradient(0, -106, 13, 0, -106, 53); grad.addColorStop(0, '#00CED1'); grad.addColorStop(0.6, '#1E90FF'); grad.addColorStop(1, '#000080'); c.fillStyle = grad; c.beginPath(); c.ellipse(0, -106, 33, 80, 0, 0, Math.PI * 2); c.fill(); c.fillStyle = '#4169E1'; c.beginPath(); c.arc(0, -106, 20, 0, Math.PI * 2); c.fill(); c.fillStyle = '#00FFFF'; c.beginPath(); c.arc(0, -106, 10, 0, Math.PI * 2); c.fill(); c.fillStyle = '#000080'; c.beginPath(); c.arc(0, -106, 5, 0, Math.PI * 2); c.fill(); c.restore(); }},
                    { instruction: '× ×•×¦×” ××¨×›×–×™×ª', draw: c => { c.save(); c.translate(200, 266); var grad = c.createRadialGradient(0, -106, 13, 0, -106, 53); grad.addColorStop(0, '#00CED1'); grad.addColorStop(0.6, '#1E90FF'); grad.addColorStop(1, '#000080'); c.fillStyle = grad; c.beginPath(); c.ellipse(0, -106, 33, 80, 0, 0, Math.PI * 2); c.fill(); c.fillStyle = '#4169E1'; c.beginPath(); c.arc(0, -106, 20, 0, Math.PI * 2); c.fill(); c.fillStyle = '#00FFFF'; c.beginPath(); c.arc(0, -106, 10, 0, Math.PI * 2); c.fill(); c.fillStyle = '#000080'; c.beginPath(); c.arc(0, -106, 5, 0, Math.PI * 2); c.fill(); c.restore(); }},
                    { instruction: '× ×•×¦×” 4', draw: c => { c.save(); c.translate(200, 266); c.rotate(0.3); var grad = c.createRadialGradient(0, -106, 13, 0, -106, 53); grad.addColorStop(0, '#00CED1'); grad.addColorStop(0.6, '#1E90FF'); grad.addColorStop(1, '#000080'); c.fillStyle = grad; c.beginPath(); c.ellipse(0, -106, 33, 80, 0, 0, Math.PI * 2); c.fill(); c.fillStyle = '#4169E1'; c.beginPath(); c.arc(0, -106, 20, 0, Math.PI * 2); c.fill(); c.fillStyle = '#00FFFF'; c.beginPath(); c.arc(0, -106, 10, 0, Math.PI * 2); c.fill(); c.fillStyle = '#000080'; c.beginPath(); c.arc(0, -106, 5, 0, Math.PI * 2); c.fill(); c.restore(); }},
                    { instruction: '× ×•×¦×” ×™×× ×™×ª', draw: c => { c.save(); c.translate(200, 266); c.rotate(0.6); var grad = c.createRadialGradient(0, -106, 13, 0, -106, 53); grad.addColorStop(0, '#00CED1'); grad.addColorStop(0.6, '#1E90FF'); grad.addColorStop(1, '#000080'); c.fillStyle = grad; c.beginPath(); c.ellipse(0, -106, 33, 80, 0, 0, Math.PI * 2); c.fill(); c.fillStyle = '#4169E1'; c.beginPath(); c.arc(0, -106, 20, 0, Math.PI * 2); c.fill(); c.fillStyle = '#00FFFF'; c.beginPath(); c.arc(0, -106, 10, 0, Math.PI * 2); c.fill(); c.fillStyle = '#000080'; c.beginPath(); c.arc(0, -106, 5, 0, Math.PI * 2); c.fill(); c.restore(); }},
                    { instruction: '×’×•×£', draw: c => { c.fillStyle = '#4169E1'; c.beginPath(); c.ellipse(200, 266, 40, 60, 0, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '×¦×•×•××¨', draw: c => { c.fillStyle = '#1E90FF'; c.beginPath(); c.ellipse(200, 220, 16, 33, 0, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '×¨××©', draw: c => { c.fillStyle = '#4169E1'; c.beginPath(); c.arc(200, 193, 24, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '×›×ª×¨ × ×•×¦×•×ª', draw: c => { for(var i = 0; i < 3; i++) { c.strokeStyle = '#00CED1'; c.lineWidth = 2; c.beginPath(); c.moveTo(200 + (i-1)*8, 180); c.lineTo(200 + (i-1)*10, 160); c.stroke(); c.fillStyle = '#00FFFF'; c.beginPath(); c.arc(200 + (i-1)*10, 160, 4, 0, Math.PI * 2); c.fill(); }}},
                    { instruction: '×¢×™×Ÿ ×•××§×•×¨', draw: c => { c.fillStyle = '#000000'; c.beginPath(); c.arc(209, 190, 4, 0, Math.PI * 2); c.fill(); c.fillStyle = '#FFFFFF'; c.beginPath(); c.arc(210, 189, 2, 0, Math.PI * 2); c.fill(); c.fillStyle = '#FFA500'; c.beginPath(); c.moveTo(213, 193); c.lineTo(224, 193); c.lineTo(218, 197); c.closePath(); c.fill(); }},
                    { instruction: '×¨×’×œ ×©×××œ×™×ª', draw: c => { c.strokeStyle = '#8B4513'; c.lineWidth = 4; c.beginPath(); c.moveTo(193, 320); c.lineTo(193, 346); c.stroke(); c.beginPath(); c.moveTo(193, 346); c.lineTo(186, 353); c.stroke(); c.beginPath(); c.moveTo(193, 346); c.lineTo(200, 353); c.stroke(); }},
                    { instruction: '×¨×’×œ ×™×× ×™×ª', draw: c => { c.strokeStyle = '#8B4513'; c.lineWidth = 4; c.beginPath(); c.moveTo(206, 320); c.lineTo(206, 346); c.stroke(); c.beginPath(); c.moveTo(206, 346); c.lineTo(199, 353); c.stroke(); c.beginPath(); c.moveTo(206, 346); c.lineTo(213, 353); c.stroke(); }}
                ]
            },
            ghost: {
                name: '×¨×•×— ×¨×¤××™× ×—××•×“×”',
                icon: 'ğŸ‘»',
                steps: [
                    { instruction: '×¨×§×¢ ×œ×™×œ×”', draw: c => { c.fillStyle = '#000000'; c.fillRect(0, 0, 400, 400); }},
                    { instruction: '×™×¨×—', draw: c => { c.fillStyle = '#FFFF00'; c.beginPath(); c.arc(320, 80, 40, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '×›×•×›×‘ 1', draw: c => { c.fillStyle = '#FFFFFF'; c.beginPath(); for (var i = 0; i < 5; i++) { var angle = (i * 4 * Math.PI) / 5 - Math.PI / 2; var x = 60 + Math.cos(angle) * 8; var y = 60 + Math.sin(angle) * 8; if (i === 0) c.moveTo(x, y); else c.lineTo(x, y); } c.closePath(); c.fill(); }},
                    { instruction: '×›×•×›×‘ 2', draw: c => { c.fillStyle = '#FFFFFF'; c.beginPath(); for (var i = 0; i < 5; i++) { var angle = (i * 4 * Math.PI) / 5 - Math.PI / 2; var x = 200 + Math.cos(angle) * 8; var y = 40 + Math.sin(angle) * 8; if (i === 0) c.moveTo(x, y); else c.lineTo(x, y); } c.closePath(); c.fill(); }},
                    { instruction: '×›×•×›×‘ 3', draw: c => { c.fillStyle = '#FFFFFF'; c.beginPath(); for (var i = 0; i < 5; i++) { var angle = (i * 4 * Math.PI) / 5 - Math.PI / 2; var x = 340 + Math.cos(angle) * 8; var y = 160 + Math.sin(angle) * 8; if (i === 0) c.moveTo(x, y); else c.lineTo(x, y); } c.closePath(); c.fill(); }},
                    { instruction: '×’×•×£ ×¢×œ×™×•×Ÿ', draw: c => { c.fillStyle = '#FFFFFF'; c.beginPath(); c.arc(200, 180, 65, Math.PI, 0); c.fill(); }},
                    { instruction: '×’×•×£ ×ª×—×ª×•×Ÿ', draw: c => { c.fillStyle = '#FFFFFF'; c.fillRect(135, 180, 130, 80); }},
                    { instruction: '×’×œ 1', draw: c => { c.fillStyle = '#FFFFFF'; c.beginPath(); c.moveTo(135, 260); c.quadraticCurveTo(145, 280, 155, 270); c.lineTo(155, 260); c.closePath(); c.fill(); }},
                    { instruction: '×’×œ 2', draw: c => { c.fillStyle = '#FFFFFF'; c.beginPath(); c.moveTo(155, 260); c.lineTo(155, 270); c.quadraticCurveTo(170, 285, 185, 270); c.lineTo(185, 260); c.closePath(); c.fill(); }},
                    { instruction: '×’×œ 3', draw: c => { c.fillStyle = '#FFFFFF'; c.beginPath(); c.moveTo(185, 260); c.lineTo(185, 270); c.quadraticCurveTo(200, 290, 215, 270); c.lineTo(215, 260); c.closePath(); c.fill(); }},
                    { instruction: '×’×œ 4', draw: c => { c.fillStyle = '#FFFFFF'; c.beginPath(); c.moveTo(215, 260); c.lineTo(215, 270); c.quadraticCurveTo(230, 285, 245, 270); c.lineTo(245, 260); c.closePath(); c.fill(); }},
                    { instruction: '×’×œ 5', draw: c => { c.fillStyle = '#FFFFFF'; c.beginPath(); c.moveTo(245, 260); c.lineTo(245, 270); c.quadraticCurveTo(255, 280, 265, 260); c.closePath(); c.fill(); }},
                    { instruction: '×¢×™×Ÿ ×©×××œ×™×ª', draw: c => { c.fillStyle = '#000000'; c.beginPath(); c.ellipse(175, 190, 15, 23, 0, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '×¢×™×Ÿ ×™×× ×™×ª', draw: c => { c.fillStyle = '#000000'; c.beginPath(); c.ellipse(225, 190, 15, 23, 0, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '× ×™×¦×•×¥ ×©×××œ×™', draw: c => { c.fillStyle = '#FFFFFF'; c.beginPath(); c.arc(180, 185, 6, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '× ×™×¦×•×¥ ×™×× ×™', draw: c => { c.fillStyle = '#FFFFFF'; c.beginPath(); c.arc(230, 185, 6, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '×œ×—×™×™×', draw: c => { c.fillStyle = '#FFC0CB'; c.beginPath(); c.arc(155, 210, 12, 0, Math.PI * 2); c.fill(); c.beginPath(); c.arc(245, 210, 12, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '×—×™×•×š', draw: c => { c.strokeStyle = '#000000'; c.lineWidth = 4; c.beginPath(); c.arc(200, 215, 28, 0.2, Math.PI - 0.2); c.stroke(); }},
                    { instruction: '×™×“ ×©×××œ×™×ª', draw: c => { c.fillStyle = '#FFFFFF'; c.beginPath(); c.ellipse(120, 220, 15, 22, -0.3, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '×™×“ ×™×× ×™×ª', draw: c => { c.fillStyle = '#FFFFFF'; c.beginPath(); c.ellipse(280, 220, 15, 22, 0.3, 0, Math.PI * 2); c.fill(); }}
                ]
            },
            pumpkin: {
                name: '×“×œ×¢×ª ××—×™×™×›×ª',
                icon: 'ğŸƒ',
                steps: [
                    { instruction: '×¨×§×¢ ×›×ª×•×', draw: c => { c.fillStyle = '#FFA500'; c.fillRect(0, 0, 400, 400); }},
                    { instruction: '××“××”', draw: c => { c.fillStyle = '#8B4513'; c.fillRect(0, 320, 400, 80); }},
                    { instruction: '×—×œ×§ ××¨×›×–×™', draw: c => { c.fillStyle = '#FF8C00'; c.beginPath(); c.ellipse(200, 213, 45, 65, 0, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '×—×œ×§ ×©×××œ ×¤× ×™××™', draw: c => { c.fillStyle = '#FF8C00'; c.beginPath(); c.ellipse(160, 220, 38, 60, -0.15, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '×—×œ×§ ×©×××œ ×—×™×¦×•× ×™', draw: c => { c.fillStyle = '#FF8C00'; c.beginPath(); c.ellipse(125, 227, 30, 55, -0.3, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '×—×œ×§ ×™××™×Ÿ ×¤× ×™××™', draw: c => { c.fillStyle = '#FF8C00'; c.beginPath(); c.ellipse(240, 220, 38, 60, 0.15, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '×—×œ×§ ×™××™×Ÿ ×—×™×¦×•× ×™', draw: c => { c.fillStyle = '#FF8C00'; c.beginPath(); c.ellipse(275, 227, 30, 55, 0.3, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '×§×•×•×™ ×—×œ×•×§×”', draw: c => { c.strokeStyle = '#8B4513'; c.lineWidth = 4; for (var i = 0; i < 5; i++) { c.beginPath(); var x = 125 + i * 37; c.moveTo(x, 165); c.quadraticCurveTo(x + (i < 2 ? -8 : i > 2 ? 8 : 0), 213, x, 280); c.stroke(); }}},
                    { instruction: '×¢×•×§×¥', draw: c => { c.fillStyle = '#8B4513'; c.fillRect(193, 133, 14, 35); }},
                    { instruction: '×¨××© ×¢×•×§×¥', draw: c => { c.fillStyle = '#8B4513'; c.beginPath(); c.arc(200, 133, 7, Math.PI, 0); c.fill(); }},
                    { instruction: '×¢×œ×”', draw: c => { c.fillStyle = '#228B22'; c.beginPath(); c.ellipse(213, 145, 10, 18, 0.6, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '×¢×•×¨×§ ×‘×¢×œ×”', draw: c => { c.strokeStyle = '#006400'; c.lineWidth = 2; c.beginPath(); c.moveTo(210, 135); c.lineTo(215, 155); c.stroke(); }},
                    { instruction: '×¢×™×Ÿ ×©×××œ×™×ª', draw: c => { c.fillStyle = '#000000'; c.beginPath(); c.moveTo(160, 193); c.lineTo(150, 218); c.lineTo(170, 218); c.closePath(); c.fill(); }},
                    { instruction: '×¢×™×Ÿ ×™×× ×™×ª', draw: c => { c.fillStyle = '#000000'; c.beginPath(); c.moveTo(240, 193); c.lineTo(230, 218); c.lineTo(250, 218); c.closePath(); c.fill(); }},
                    { instruction: '××£', draw: c => { c.fillStyle = '#000000'; c.beginPath(); c.moveTo(200, 228); c.lineTo(193, 248); c.lineTo(207, 248); c.closePath(); c.fill(); }},
                    { instruction: '×¤×”', draw: c => { c.fillStyle = '#000000'; c.beginPath(); c.moveTo(145, 258); c.lineTo(160, 253); c.lineTo(175, 258); c.lineTo(190, 253); c.lineTo(205, 258); c.lineTo(220, 253); c.lineTo(255, 258); c.lineTo(255, 268); c.lineTo(145, 268); c.closePath(); c.fill(); }},
                    { instruction: '×©×™× ×™×™×', draw: c => { c.fillStyle = '#FFFFFF'; for (var i = 0; i < 4; i++) { c.fillRect(155 + i * 25, 258, 15, 10); }}}
                ]
            },
            guitar: {
                name: '×’×™×˜×¨×”',
                icon: 'ğŸ¸',
                steps: [
                    {instruction:'×¨×§×¢ ×‘×–×³',draw:c=>{c.fillStyle='#FFE4B5';c.fillRect(0,0,400,400)}},
                    {instruction:'×’×•×£ ×—×•×',draw:c=>{c.fillStyle='#8B4513';c.beginPath();c.ellipse(200,240,67,80,0,0,Math.PI*2);c.fill()}},
                    {instruction:'×¤× ×™×',draw:c=>{c.fillStyle='#A0522D';c.beginPath();c.ellipse(200,240,60,73,0,0,Math.PI*2);c.fill()}},
                    {instruction:'×—×•×¨ ×ª×”×•×“×”',draw:c=>{c.fillStyle='#000';c.beginPath();c.arc(200,240,24,0,Math.PI*2);c.fill()}},
                    {instruction:'×¦×•×•××¨',draw:c=>{c.fillStyle='#8B4513';c.fillRect(187,80,27,93)}},
                    {instruction:'×¨××©',draw:c=>{c.fillStyle='#654321';c.fillRect(180,53,40,33)}},
                    {instruction:'××¤×ª×— 1',draw:c=>{c.fillStyle='#FFD700';c.beginPath();c.arc(184,64,3,0,Math.PI*2);c.fill()}},
                    {instruction:'××¤×ª×— 2',draw:c=>{c.fillStyle='#FFD700';c.beginPath();c.arc(184,75,3,0,Math.PI*2);c.fill()}},
                    {instruction:'××¤×ª×— 3',draw:c=>{c.fillStyle='#FFD700';c.beginPath();c.arc(184,86,3,0,Math.PI*2);c.fill()}},
                    {instruction:'××¤×ª×— 4',draw:c=>{c.fillStyle='#FFD700';c.beginPath();c.arc(216,64,3,0,Math.PI*2);c.fill()}},
                    {instruction:'××¤×ª×— 5',draw:c=>{c.fillStyle='#FFD700';c.beginPath();c.arc(216,75,3,0,Math.PI*2);c.fill()}},
                    {instruction:'××¤×ª×— 6',draw:c=>{c.fillStyle='#FFD700';c.beginPath();c.arc(216,86,3,0,Math.PI*2);c.fill()}},
                    {instruction:'××™×ª×¨ 1',draw:c=>{c.strokeStyle='#C0C0C0';c.lineWidth=1;c.beginPath();c.moveTo(189,87);c.lineTo(189,173);c.lineTo(173,307);c.stroke()}},
                    {instruction:'××™×ª×¨ 2',draw:c=>{c.strokeStyle='#C0C0C0';c.lineWidth=1;c.beginPath();c.moveTo(193,87);c.lineTo(193,173);c.lineTo(182,307);c.stroke()}},
                    {instruction:'××™×ª×¨ 3',draw:c=>{c.strokeStyle='#C0C0C0';c.lineWidth=1;c.beginPath();c.moveTo(197,87);c.lineTo(197,173);c.lineTo(191,307);c.stroke()}},
                    {instruction:'××™×ª×¨ 4',draw:c=>{c.strokeStyle='#C0C0C0';c.lineWidth=1;c.beginPath();c.moveTo(201,87);c.lineTo(201,173);c.lineTo(200,307);c.stroke()}},
                    {instruction:'××™×ª×¨ 5',draw:c=>{c.strokeStyle='#C0C0C0';c.lineWidth=1;c.beginPath();c.moveTo(205,87);c.lineTo(205,173);c.lineTo(209,307);c.stroke()}},
                    {instruction:'××™×ª×¨ 6',draw:c=>{c.strokeStyle='#C0C0C0';c.lineWidth=1;c.beginPath();c.moveTo(209,87);c.lineTo(209,173);c.lineTo(218,307);c.stroke()}},
                    {instruction:'×’×©×¨',draw:c=>{c.fillStyle='#654321';c.fillRect(167,300,67,8)}}
                ]
            },
            parrot: {
                name: '×ª×•×›×™ ×¦×‘×¢×•× ×™',
                icon: 'ğŸ¦œ',
                steps: [
                    {instruction:'×¨×§×¢ ×©××™×™×',draw:c=>{const g=c.createLinearGradient(0,0,0,400);g.addColorStop(0,'#87CEEB');g.addColorStop(1,'#B0E0E6');c.fillStyle=g;c.fillRect(0,0,400,400)}},
                    {instruction:'×¢× ×£',draw:c=>{c.strokeStyle='#8B4513';c.lineWidth=15;c.lineCap='round';c.beginPath();c.moveTo(0,300);c.lineTo(400,280);c.stroke()}},
                    {instruction:'×¢×œ×™×',draw:c=>{c.fillStyle='#228B22';c.beginPath();c.ellipse(100,270,15,8,-0.3,0,Math.PI*2);c.fill();c.beginPath();c.ellipse(300,265,15,8,0.3,0,Math.PI*2);c.fill()}},
                    {instruction:'×’×•×£ ×›×—×•×œ',draw:c=>{c.fillStyle='#4169E1';c.beginPath();c.ellipse(200,220,40,55,0,0,Math.PI*2);c.fill();c.strokeStyle='#000000';c.lineWidth=2;c.stroke()}},
                    {instruction:'×‘×˜×Ÿ ×¦×”×•×‘×”',draw:c=>{c.fillStyle='#FFD700';c.beginPath();c.ellipse(200,235,25,35,0,0,Math.PI*2);c.fill()}},
                    {instruction:'×¨××© ×™×¨×•×§',draw:c=>{c.fillStyle='#32CD32';c.beginPath();c.arc(200,170,35,0,Math.PI*2);c.fill();c.strokeStyle='#000000';c.lineWidth=2;c.stroke()}},
                    {instruction:'×¢×™×Ÿ ×œ×‘× ×”',draw:c=>{c.fillStyle='#FFFFFF';c.beginPath();c.arc(215,165,10,0,Math.PI*2);c.fill();c.strokeStyle='#000000';c.lineWidth=2;c.stroke()}},
                    {instruction:'××™×©×•×Ÿ',draw:c=>{c.fillStyle='#000000';c.beginPath();c.arc(217,165,5,0,Math.PI*2);c.fill()}},
                    {instruction:'××§×•×¨ ×›×ª×•×',draw:c=>{c.fillStyle='#FFA500';c.beginPath();c.moveTo(225,175);c.quadraticCurveTo(240,180,235,190);c.quadraticCurveTo(230,185,225,185);c.closePath();c.fill();c.strokeStyle='#000000';c.lineWidth=2;c.stroke()}},
                    {instruction:'×›× ×£ ×©×××œ×™×ª',draw:c=>{c.fillStyle='#FF4500';c.beginPath();c.ellipse(165,220,25,45,-0.5,0,Math.PI*2);c.fill();c.strokeStyle='#000000';c.lineWidth=2;c.stroke()}},
                    {instruction:'×›× ×£ ×™×× ×™×ª',draw:c=>{c.fillStyle='#FF4500';c.beginPath();c.ellipse(235,220,25,45,0.5,0,Math.PI*2);c.fill();c.strokeStyle='#000000';c.lineWidth=2;c.stroke()}},
                    {instruction:'× ×•×¦×ª ×–× ×‘ ×¡×’×•×œ×”',draw:c=>{c.fillStyle='#9370DB';c.beginPath();c.ellipse(200,290,12,50,0,0,Math.PI*2);c.fill();c.strokeStyle='#000000';c.lineWidth=2;c.stroke()}},
                    {instruction:'× ×•×¦×ª ×–× ×‘ ××“×•××”',draw:c=>{c.fillStyle='#DC143C';c.beginPath();c.ellipse(185,295,12,48,-0.3,0,Math.PI*2);c.fill();c.strokeStyle='#000000';c.lineWidth=2;c.stroke()}},
                    {instruction:'× ×•×¦×ª ×–× ×‘ ×›×—×•×œ×”',draw:c=>{c.fillStyle='#00CED1';c.beginPath();c.ellipse(215,295,12,48,0.3,0,Math.PI*2);c.fill();c.strokeStyle='#000000';c.lineWidth=2;c.stroke()}},
                    {instruction:'×¨×’×œ×™×™×',draw:c=>{c.strokeStyle='#FFA500';c.lineWidth=3;c.beginPath();c.moveTo(195,275);c.lineTo(190,295);c.stroke();c.beginPath();c.moveTo(205,275);c.lineTo(210,295);c.stroke()}},
                    {instruction:'×¦×™×¤×•×¨× ×™×™×',draw:c=>{c.strokeStyle='#FFA500';c.lineWidth=2;c.beginPath();c.moveTo(190,295);c.lineTo(185,300);c.moveTo(190,295);c.lineTo(190,300);c.moveTo(190,295);c.lineTo(195,300);c.stroke();c.beginPath();c.moveTo(210,295);c.lineTo(205,300);c.moveTo(210,295);c.lineTo(210,300);c.moveTo(210,295);c.lineTo(215,300);c.stroke()}},
                    {instruction:'×©××©',draw:c=>{c.fillStyle='#FFD700';c.beginPath();c.arc(80,60,25,0,Math.PI*2);c.fill()}}
                ]
            },
            beach: {
                name: '×—×•×£ ×™×',
                icon: 'ğŸ–ï¸',
                steps: [
                    { instruction: '×©××™×™×', draw: c => { var sky = c.createLinearGradient(0, 0, 0, 200); sky.addColorStop(0, '#87CEEB'); sky.addColorStop(1, '#B0E0E6'); c.fillStyle = sky; c.fillRect(0, 0, 400, 200); }},
                    { instruction: '×™×', draw: c => { var sea = c.createLinearGradient(0, 200, 0, 266); sea.addColorStop(0, '#4682B4'); sea.addColorStop(1, '#1E90FF'); c.fillStyle = sea; c.fillRect(0, 200, 400, 66); }},
                    { instruction: '×—×•×œ', draw: c => { c.fillStyle = '#F4A460'; c.fillRect(0, 266, 400, 134); }},
                    { instruction: '×’×œ×™×', draw: c => { c.strokeStyle = '#FFFFFF'; c.lineWidth = 2; for(var i = 0; i < 3; i++) { c.beginPath(); for(var x = 0; x < 400; x += 20) { c.lineTo(x, 213 + i*20 + Math.sin(x/15) * 3); } c.stroke(); }}},
                    { instruction: '×©××©', draw: c => { c.fillStyle = '#FFD700'; c.beginPath(); c.arc(300, 80, 30, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '×§×¨× ×™ ×©××©', draw: c => { c.strokeStyle = '#FFA500'; c.lineWidth = 3; for(var i = 0; i < 12; i++) { var angle = (i * 30) * Math.PI / 180; c.beginPath(); c.moveTo(300 + Math.cos(angle) * 35, 80 + Math.sin(angle) * 35); c.lineTo(300 + Math.cos(angle) * 50, 80 + Math.sin(angle) * 50); c.stroke(); }}},
                    { instruction: '×’×–×¢ ×“×§×œ', draw: c => { c.strokeStyle = '#8B4513'; c.lineWidth = 8; c.lineCap = 'round'; c.beginPath(); c.moveTo(93, 320); c.quadraticCurveTo(100, 280, 107, 240); c.stroke(); }},
                    { instruction: '×¢×œ×™ ×“×§×œ', draw: c => { c.fillStyle = '#228B22'; c.strokeStyle = '#006400'; c.lineWidth = 2; for(var i = 0; i < 6; i++) { var angle = (i * 60 - 30) * Math.PI / 180; c.beginPath(); c.ellipse(107 + Math.cos(angle) * 25, 240 + Math.sin(angle) * 25, 35, 12, angle, 0, Math.PI * 2); c.fill(); c.stroke(); }}},
                    { instruction: '×§×•×§×•×¡×™×', draw: c => { c.fillStyle = '#8B4513'; for(var i = 0; i < 3; i++) { c.beginPath(); c.arc(100 + i*8, 250 + i*5, 6, 0, Math.PI * 2); c.fill(); }}},
                    { instruction: '××•×˜ ××˜×¨×™×™×”', draw: c => { c.strokeStyle = '#DC143C'; c.lineWidth = 4; c.beginPath(); c.moveTo(240, 320); c.lineTo(240, 253); c.stroke(); }},
                    { instruction: '×›×™×¤×ª ××˜×¨×™×™×”', draw: c => { c.fillStyle = '#DC143C'; c.beginPath(); c.arc(240, 253, 35, Math.PI, 2 * Math.PI); c.fill(); c.strokeStyle = '#8B0000'; c.lineWidth = 2; c.stroke(); }},
                    { instruction: '×¤×¡×™ ××˜×¨×™×™×”', draw: c => { c.strokeStyle = '#FFFFFF'; c.lineWidth = 2; for(var i = 0; i < 5; i++) { var angle = Math.PI + (i * Math.PI / 4); c.beginPath(); c.moveTo(240, 253); c.lineTo(240 + Math.cos(angle) * 35, 253 + Math.sin(angle) * 35); c.stroke(); }}},
                    { instruction: '×›×“×•×¨ ×—×•×£', draw: c => { c.fillStyle = '#FF69B4'; c.beginPath(); c.arc(307, 307, 20, 0, Math.PI * 2); c.fill(); c.fillStyle = '#FFFFFF'; c.beginPath(); c.arc(307, 307, 20, 0, Math.PI); c.fill(); c.fillStyle = '#00CED1'; c.beginPath(); c.arc(307, 307, 20, Math.PI/2, 3*Math.PI/2); c.fill(); }},
                    { instruction: '×›×•×›×‘ ×™× 1', draw: c => { c.fillStyle = '#FF6347'; c.strokeStyle = '#DC143C'; c.lineWidth = 2; c.beginPath(); for(var i = 0; i < 5; i++) { var angle = (i * 72 - 90) * Math.PI / 180; var x1 = 53 + Math.cos(angle) * 12; var y1 = 360 + Math.sin(angle) * 12; if(i === 0) c.moveTo(x1, y1); else c.lineTo(x1, y1); angle = (i * 72 - 54) * Math.PI / 180; var x2 = 53 + Math.cos(angle) * 5; var y2 = 360 + Math.sin(angle) * 5; c.lineTo(x2, y2); } c.closePath(); c.fill(); c.stroke(); }},
                    { instruction: '×›×•×›×‘ ×™× 2', draw: c => { c.fillStyle = '#FF6347'; c.strokeStyle = '#DC143C'; c.lineWidth = 2; c.beginPath(); for(var i = 0; i < 5; i++) { var angle = (i * 72 - 90) * Math.PI / 180; var x1 = 160 + Math.cos(angle) * 10; var y1 = 347 + Math.sin(angle) * 10; if(i === 0) c.moveTo(x1, y1); else c.lineTo(x1, y1); angle = (i * 72 - 54) * Math.PI / 180; var x2 = 160 + Math.cos(angle) * 4; var y2 = 347 + Math.sin(angle) * 4; c.lineTo(x2, y2); } c.closePath(); c.fill(); c.stroke(); }}
                ]
            },
            cactus: {
                name: '×§×§×˜×•×¡ ××—×™×™×š',
                icon: 'ğŸŒµ',
                steps: [
                    { instruction: '×¨×§×¢', draw: c => { var sky = c.createLinearGradient(0, 0, 0, 300); sky.addColorStop(0, '#87CEEB'); sky.addColorStop(1, '#FFE4B5'); c.fillStyle = sky; c.fillRect(0, 0, 400, 400); }},
                    { instruction: '×—×•×œ', draw: c => { c.fillStyle = '#F4A460'; c.fillRect(0, 280, 400, 120); }},
                    { instruction: '×©××©', draw: c => { c.fillStyle = '#FFD700'; c.beginPath(); c.arc(320, 80, 30, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '×§×¨× ×™ ×©××©', draw: c => { c.strokeStyle = '#FFA500'; c.lineWidth = 4; c.lineCap = 'round'; for (var i = 0; i < 8; i++) { var angle = (i * 45) * Math.PI / 180; c.beginPath(); c.moveTo(320 + Math.cos(angle) * 38, 80 + Math.sin(angle) * 38); c.lineTo(320 + Math.cos(angle) * 52, 80 + Math.sin(angle) * 52); c.stroke(); }}},
                    { instruction: '×’×•×£ ×§×§×˜×•×¡', draw: c => { c.fillStyle = '#228B22'; c.fillRect(163, 143, 75, 137); }},
                    { instruction: '×¨××© ×§×§×˜×•×¡', draw: c => { c.fillStyle = '#228B22'; c.beginPath(); c.arc(200, 143, 37, Math.PI, 0); c.fill(); }},
                    { instruction: '×–×¨×•×¢ ×©×××œ', draw: c => { c.fillStyle = '#228B22'; c.fillRect(123, 183, 40, 70); c.beginPath(); c.arc(143, 183, 20, Math.PI, 0); c.fill(); c.beginPath(); c.arc(123, 218, 20, Math.PI/2, 3*Math.PI/2); c.fill(); }},
                    { instruction: '×–×¨×•×¢ ×™××™×Ÿ', draw: c => { c.fillStyle = '#228B22'; c.fillRect(238, 173, 40, 60); c.beginPath(); c.arc(258, 173, 20, Math.PI, 0); c.fill(); c.beginPath(); c.arc(278, 203, 20, -Math.PI/2, Math.PI/2); c.fill(); }},
                    { instruction: '××ª××¨', draw: c => { c.strokeStyle = '#006400'; c.lineWidth = 3; c.beginPath(); c.moveTo(163, 280); c.lineTo(163, 143); c.arc(200, 143, 37, Math.PI, 0); c.lineTo(238, 280); c.stroke(); }},
                    { instruction: '×§×•×¦×™×', draw: c => { c.strokeStyle = '#FFFFFF'; c.lineWidth = 2; for (var y = 153; y < 270; y += 18) { for (var x = 170; x < 230; x += 25) { c.beginPath(); c.moveTo(x, y); c.lineTo(x-3, y-6); c.stroke(); c.beginPath(); c.moveTo(x, y); c.lineTo(x+3, y-6); c.stroke(); }}}},
                    { instruction: '×¢×œ×™ ×¤×¨×—', draw: c => { c.fillStyle = '#FF69B4'; var petalCount = 6; for (var i = 0; i < petalCount; i++) { var angle = (i * 2 * Math.PI) / petalCount; c.beginPath(); c.ellipse(200 + Math.cos(angle) * 14, 128 + Math.sin(angle) * 14, 12, 18, angle, 0, Math.PI * 2); c.fill(); }}},
                    { instruction: '××¨×›×– ×¤×¨×—', draw: c => { c.fillStyle = '#FFD700'; c.beginPath(); c.arc(200, 128, 10, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '×¢×™× ×™×™×', draw: c => { c.fillStyle = '#000000'; c.beginPath(); c.arc(185, 193, 6, 0, Math.PI * 2); c.fill(); c.beginPath(); c.arc(215, 193, 6, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '× ×™×¦×•×¥', draw: c => { c.fillStyle = '#FFFFFF'; c.beginPath(); c.arc(186, 192, 2, 0, Math.PI * 2); c.fill(); c.beginPath(); c.arc(216, 192, 2, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '×œ×—×™×™×', draw: c => { c.fillStyle = 'rgba(255, 105, 180, 0.5)'; c.beginPath(); c.arc(170, 208, 10, 0, Math.PI * 2); c.fill(); c.beginPath(); c.arc(230, 208, 10, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '×—×™×•×š', draw: c => { c.strokeStyle = '#000000'; c.lineWidth = 3; c.beginPath(); c.arc(200, 208, 23, 0.1, Math.PI - 0.1); c.stroke(); }}
                ]
            },
            circus: {
                name: '××•×”×œ ×§×¨×§×¡',
                icon: 'ğŸª',
                steps: [
                    { instruction: '×©××™×™×', draw: c => { var sky = c.createLinearGradient(0, 0, 0, 400); sky.addColorStop(0, '#87CEEB'); sky.addColorStop(1, '#E0F6FF'); c.fillStyle = sky; c.fillRect(0, 0, 400, 400); }},
                    { instruction: '×“×©×', draw: c => { c.fillStyle = '#90EE90'; c.fillRect(0, 280, 400, 120); }},
                    { instruction: '×¤×¡ ××“×•× 1', draw: c => { c.fillStyle = '#FF0000'; c.beginPath(); c.moveTo(200, 80); c.lineTo(100, 200); c.lineTo(128, 200); c.closePath(); c.fill(); }},
                    { instruction: '×¤×¡ ×œ×‘×Ÿ 1', draw: c => { c.fillStyle = '#FFFFFF'; c.beginPath(); c.moveTo(200, 80); c.lineTo(128, 200); c.lineTo(156, 200); c.closePath(); c.fill(); }},
                    { instruction: '×¤×¡ ××“×•× 2', draw: c => { c.fillStyle = '#FF0000'; c.beginPath(); c.moveTo(200, 80); c.lineTo(156, 200); c.lineTo(184, 200); c.closePath(); c.fill(); }},
                    { instruction: '×¤×¡ ×œ×‘×Ÿ 2', draw: c => { c.fillStyle = '#FFFFFF'; c.beginPath(); c.moveTo(200, 80); c.lineTo(184, 200); c.lineTo(212, 200); c.closePath(); c.fill(); }},
                    { instruction: '×¤×¡ ××“×•× 3', draw: c => { c.fillStyle = '#FF0000'; c.beginPath(); c.moveTo(200, 80); c.lineTo(212, 200); c.lineTo(240, 200); c.closePath(); c.fill(); }},
                    { instruction: '×¤×¡ ×œ×‘×Ÿ 3', draw: c => { c.fillStyle = '#FFFFFF'; c.beginPath(); c.moveTo(200, 80); c.lineTo(240, 200); c.lineTo(268, 200); c.closePath(); c.fill(); }},
                    { instruction: '×¤×¡ ××“×•× 4', draw: c => { c.fillStyle = '#FF0000'; c.beginPath(); c.moveTo(200, 80); c.lineTo(268, 200); c.lineTo(300, 200); c.closePath(); c.fill(); }},
                    { instruction: '××ª××¨ ×’×’', draw: c => { c.strokeStyle = '#8B0000'; c.lineWidth = 3; c.beginPath(); c.moveTo(100, 200); c.lineTo(200, 80); c.lineTo(300, 200); c.stroke(); }},
                    { instruction: '×§×™×¨×•×ª', draw: c => { c.fillStyle = '#FFD700'; c.fillRect(110, 200, 180, 80); c.strokeStyle = '#B8860B'; c.lineWidth = 2; c.strokeRect(110, 200, 180, 80); }},
                    { instruction: '×›× ×™×¡×”', draw: c => { c.fillStyle = '#000000'; c.beginPath(); c.moveTo(165, 280); c.lineTo(165, 210); c.lineTo(235, 210); c.lineTo(235, 280); c.closePath(); c.fill(); }},
                    { instruction: '×•×™×œ×•×Ÿ ×©×××œ', draw: c => { c.fillStyle = '#8B0000'; c.beginPath(); c.moveTo(165, 210); c.quadraticCurveTo(175, 245, 165, 280); c.lineTo(165, 280); c.closePath(); c.fill(); }},
                    { instruction: '×•×™×œ×•×Ÿ ×™××™×Ÿ', draw: c => { c.fillStyle = '#8B0000'; c.beginPath(); c.moveTo(235, 210); c.quadraticCurveTo(225, 245, 235, 280); c.lineTo(235, 280); c.closePath(); c.fill(); }},
                    { instruction: '×›×“×•×¨ ×¢×œ×™×•×Ÿ', draw: c => { c.fillStyle = '#FFD700'; c.beginPath(); c.arc(200, 70, 15, 0, Math.PI * 2); c.fill(); c.strokeStyle = '#B8860B'; c.lineWidth = 2; c.stroke(); }},
                    { instruction: '×›×•×›×‘', draw: c => { c.fillStyle = '#FF0000'; c.beginPath(); for (var i = 0; i < 5; i++) { var angle = (i * 4 * Math.PI) / 5 - Math.PI / 2; var x = 200 + Math.cos(angle) * 10; var y = 70 + Math.sin(angle) * 10; if (i === 0) c.moveTo(x, y); else c.lineTo(x, y); } c.closePath(); c.fill(); }},
                    { instruction: '×—×•×˜ ×“×’×œ×•× ×™×', draw: c => { c.strokeStyle = '#000000'; c.lineWidth = 2; c.beginPath(); c.moveTo(30, 50); c.lineTo(370, 50); c.stroke(); }},
                    { instruction: '×“×’×œ×•× ×™×', draw: c => { var flags = [{x: 60, color: '#FF69B4'}, {x: 110, color: '#00CED1'}, {x: 160, color: '#FFD700'}, {x: 210, color: '#9370DB'}, {x: 260, color: '#FF6347'}, {x: 310, color: '#32CD32'}]; flags.forEach(function(flag) { c.fillStyle = flag.color; c.beginPath(); c.moveTo(flag.x, 50); c.lineTo(flag.x - 15, 63); c.lineTo(flag.x, 76); c.lineTo(flag.x + 15, 63); c.closePath(); c.fill(); c.strokeStyle = '#000000'; c.lineWidth = 1.5; c.stroke(); }); }},
                    { instruction: '×¢× ×Ÿ', draw: c => { c.fillStyle = 'rgba(255, 255, 255, 0.8)'; c.beginPath(); c.arc(70, 110, 18, 0, Math.PI * 2); c.arc(93, 105, 24, 0, Math.PI * 2); c.arc(116, 110, 18, 0, Math.PI * 2); c.fill(); }}
                ]
            },
            moonStars: {
                name: '×™×¨×— ×•×›×•×›×‘×™×',
                icon: 'ğŸŒ™',
                steps: [
                    { instruction: '×¨×§×¢ ×œ×™×œ×”', draw: c => { var grad = c.createRadialGradient(200, 200, 66, 200, 200, 266); grad.addColorStop(0, '#191970'); grad.addColorStop(1, '#000033'); c.fillStyle = grad; c.fillRect(0, 0, 400, 400); }},
                    { instruction: '×›×•×›×‘×™× ×§×˜× ×™×', draw: c => { c.fillStyle = 'rgba(255, 255, 255, 0.6)'; var stars = [[40, 53], [106, 40], [333, 66], [360, 133], [53, 200], [346, 240], [66, 306], [373, 333], [160, 360], [266, 373], [120, 133], [293, 146]]; stars.forEach(function(s) { c.beginPath(); c.arc(s[0], s[1], 2, 0, Math.PI * 2); c.fill(); }); }},
                    { instruction: '×™×¨×— ××œ×', draw: c => { c.fillStyle = '#FFE5B4'; c.beginPath(); c.arc(200, 160, 80, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '×¦×œ ×¡×”×¨', draw: c => { c.fillStyle = '#000033'; c.beginPath(); c.arc(226, 153, 73, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '××›×ª×©×™×', draw: c => { c.fillStyle = 'rgba(139, 90, 43, 0.3)'; c.beginPath(); c.arc(180, 146, 10, 0, Math.PI * 2); c.fill(); c.beginPath(); c.arc(193, 173, 8, 0, Math.PI * 2); c.fill(); c.beginPath(); c.arc(170, 180, 6, 0, Math.PI * 2); c.fill(); c.beginPath(); c.arc(186, 126, 5, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '×–×•×”×¨', draw: c => { c.strokeStyle = 'rgba(255, 229, 180, 0.3)'; c.lineWidth = 10; c.beginPath(); c.arc(200, 160, 90, 0, Math.PI * 2); c.stroke(); }},
                    { instruction: '×›×•×›×‘ 1', draw: c => { drawStar(c, 80, 106, 16); }},
                    { instruction: '×›×•×›×‘ 2', draw: c => { drawStar(c, 320, 93, 13); }},
                    { instruction: '×›×•×›×‘ 3', draw: c => { drawStar(c, 93, 266, 14); }},
                    { instruction: '×›×•×›×‘×™× 4-5', draw: c => { drawStar(c, 306, 253, 17); drawStar(c, 200, 320, 16); }}
                ]
            },
            seaCrab: {
                name: '×¡×¨×˜×Ÿ ×™×',
                icon: 'ğŸ¦€',
                steps: [
                    { instruction: '××™×', draw: c => { var water = c.createLinearGradient(0, 0, 0, 400); water.addColorStop(0, '#4682B4'); water.addColorStop(1, '#1E90FF'); c.fillStyle = water; c.fillRect(0, 0, 400, 400); }},
                    { instruction: '×—×•×œ', draw: c => { c.fillStyle = '#F4A460'; c.fillRect(0, 333, 400, 66); }},
                    { instruction: '×‘×•×¢×•×ª', draw: c => { c.fillStyle = 'rgba(255, 255, 255, 0.4)'; var bubbles = [[66, 133, 8], [240, 106, 10], [306, 173, 6], [120, 240, 9], [346, 266, 8]]; bubbles.forEach(function(b) { c.beginPath(); c.arc(b[0], b[1], b[2], 0, Math.PI * 2); c.fill(); }); }},
                    { instruction: '×’×•×£', draw: c => { c.fillStyle = '#FF6347'; c.beginPath(); c.ellipse(200, 200, 60, 46, 0, 0, Math.PI * 2); c.fill(); c.strokeStyle = '#DC143C'; c.lineWidth = 3; c.stroke(); }},
                    { instruction: '×¨×’×œ×™×™× ×©×××œ', draw: c => { c.strokeStyle = '#DC143C'; c.lineWidth = 5; c.lineCap = 'round'; for(var i = 0; i < 4; i++) { var y = 180 + i * 13; c.beginPath(); c.moveTo(146, y); c.lineTo(113, y + 10); c.lineTo(100, y + 20); c.stroke(); }}},
                    { instruction: '×¨×’×œ×™×™× ×™××™×Ÿ', draw: c => { c.strokeStyle = '#DC143C'; c.lineWidth = 5; c.lineCap = 'round'; for(var i = 0; i < 4; i++) { var y = 180 + i * 13; c.beginPath(); c.moveTo(253, y); c.lineTo(286, y + 10); c.lineTo(300, y + 20); c.stroke(); }}},
                    { instruction: '×–×¨×•×¢ ×©×××œ', draw: c => { c.strokeStyle = '#DC143C'; c.lineWidth = 10; c.beginPath(); c.moveTo(160, 193); c.lineTo(106, 173); c.lineTo(80, 160); c.stroke(); }},
                    { instruction: '×¦×‘×ª ×©×××œ', draw: c => { c.fillStyle = '#FF6347'; c.beginPath(); c.moveTo(80, 160); c.quadraticCurveTo(53, 153, 46, 140); c.lineTo(50, 144); c.quadraticCurveTo(57, 154, 80, 164); c.closePath(); c.fill(); c.strokeStyle = '#DC143C'; c.lineWidth = 3; c.stroke(); c.fillStyle = '#FF6347'; c.beginPath(); c.moveTo(80, 160); c.quadraticCurveTo(60, 166, 53, 180); c.lineTo(57, 176); c.quadraticCurveTo(64, 165, 80, 164); c.closePath(); c.fill(); c.stroke(); }},
                    { instruction: '×–×¨×•×¢ ×™××™×Ÿ', draw: c => { c.strokeStyle = '#DC143C'; c.lineWidth = 10; c.beginPath(); c.moveTo(240, 193); c.lineTo(293, 173); c.lineTo(320, 160); c.stroke(); }},
                    { instruction: '×¦×‘×ª ×™××™×Ÿ', draw: c => { c.fillStyle = '#FF6347'; c.beginPath(); c.moveTo(320, 160); c.quadraticCurveTo(346, 153, 353, 140); c.lineTo(350, 144); c.quadraticCurveTo(342, 154, 320, 164); c.closePath(); c.fill(); c.strokeStyle = '#DC143C'; c.lineWidth = 3; c.stroke(); c.fillStyle = '#FF6347'; c.beginPath(); c.moveTo(320, 160); c.quadraticCurveTo(340, 166, 346, 180); c.lineTo(342, 176); c.quadraticCurveTo(336, 165, 320, 164); c.closePath(); c.fill(); c.stroke(); }},
                    { instruction: '×’×‘×©×•×©×™×•×ª ×¢×™× ×™×™×', draw: c => { c.fillStyle = '#FF6347'; c.beginPath(); c.ellipse(180, 173, 8, 20, 0, 0, Math.PI * 2); c.fill(); c.beginPath(); c.ellipse(220, 173, 8, 20, 0, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '×¢×™× ×™×™×', draw: c => { c.fillStyle = '#FFFFFF'; c.beginPath(); c.arc(180, 163, 8, 0, Math.PI * 2); c.fill(); c.beginPath(); c.arc(220, 163, 8, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '××™×©×•× ×™×', draw: c => { c.fillStyle = '#000000'; c.beginPath(); c.arc(181, 162, 5, 0, Math.PI * 2); c.fill(); c.beginPath(); c.arc(221, 162, 5, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '× ×™×¦×•×¦×•×ª', draw: c => { c.fillStyle = '#FFFFFF'; c.beginPath(); c.arc(183, 161, 2, 0, Math.PI * 2); c.fill(); c.beginPath(); c.arc(223, 161, 2, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '×¤×”', draw: c => { c.strokeStyle = '#DC143C'; c.lineWidth = 3; c.beginPath(); c.arc(200, 206, 16, 0.3, Math.PI - 0.3); c.stroke(); }},
                    { instruction: '× ×§×•×“×•×ª', draw: c => { c.fillStyle = '#DC143C'; var dots = [[186, 193], [213, 196], [193, 210], [206, 206]]; dots.forEach(function(d) { c.beginPath(); c.arc(d[0], d[1], 3, 0, Math.PI * 2); c.fill(); }); }},
                    { instruction: '×§×•×•×™ ×©×¨×™×•×Ÿ', draw: c => { c.strokeStyle = '#DC143C'; c.lineWidth = 2; c.beginPath(); c.moveTo(160, 186); c.lineTo(240, 186); c.stroke(); c.beginPath(); c.moveTo(166, 213); c.lineTo(233, 213); c.stroke(); }},
                    { instruction: '×¦×œ×œ×™×', draw: c => { c.fillStyle = 'rgba(220, 20, 60, 0.3)'; c.beginPath(); c.ellipse(200, 220, 40, 20, 0, 0, Math.PI); c.fill(); }}
                ]
            },
            frog: {
                name: '×¦×¤×¨×“×¢ ×—××•×“×”',
                icon: 'ğŸ¸',
                steps: [
                    { instruction: '×©××™×™×', draw: c => { c.fillStyle = '#87CEEB'; c.fillRect(0, 0, 400, 400); }},
                    { instruction: '×“×©×', draw: c => { c.fillStyle = '#228B22'; c.fillRect(0, 293, 400, 107); }},
                    { instruction: '×’×•×£', draw: c => { c.fillStyle = '#32CD32'; c.beginPath(); c.ellipse(200, 240, 66, 53, 0, 0, Math.PI * 2); c.fill(); c.strokeStyle = '#228B22'; c.lineWidth = 3; c.stroke(); }},
                    { instruction: '×‘×˜×Ÿ', draw: c => { c.fillStyle = '#90EE90'; c.beginPath(); c.ellipse(200, 253, 40, 33, 0, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '×¨×’×œ ×©×××œ', draw: c => { c.fillStyle = '#32CD32'; c.beginPath(); c.ellipse(153, 266, 24, 40, -0.5, 0, Math.PI * 2); c.fill(); c.strokeStyle = '#228B22'; c.stroke(); }},
                    { instruction: '×›×£ ×©×××œ', draw: c => { c.fillStyle = '#32CD32'; c.beginPath(); c.ellipse(133, 300, 33, 16, 0, 0, Math.PI * 2); c.fill(); c.strokeStyle = '#228B22'; c.stroke(); }},
                    { instruction: '×¨×’×œ ×™××™×Ÿ', draw: c => { c.fillStyle = '#32CD32'; c.beginPath(); c.ellipse(246, 266, 24, 40, 0.5, 0, Math.PI * 2); c.fill(); c.strokeStyle = '#228B22'; c.stroke(); }},
                    { instruction: '×›×£ ×™××™×Ÿ', draw: c => { c.fillStyle = '#32CD32'; c.beginPath(); c.ellipse(266, 300, 33, 16, 0, 0, Math.PI * 2); c.fill(); c.strokeStyle = '#228B22'; c.stroke(); }},
                    { instruction: '×™×“ ×©×××œ', draw: c => { c.strokeStyle = '#228B22'; c.lineWidth = 10; c.lineCap = 'round'; c.beginPath(); c.moveTo(160, 240); c.lineTo(126, 260); c.stroke(); c.fillStyle = '#32CD32'; c.beginPath(); c.arc(126, 260, 10, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '×™×“ ×™××™×Ÿ', draw: c => { c.strokeStyle = '#228B22'; c.lineWidth = 10; c.lineCap = 'round'; c.beginPath(); c.moveTo(240, 240); c.lineTo(273, 260); c.stroke(); c.fillStyle = '#32CD32'; c.beginPath(); c.arc(273, 260, 10, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '×¢×™× ×™×™×', draw: c => { c.fillStyle = '#FFFFFF'; c.beginPath(); c.arc(180, 220, 24, 0, Math.PI * 2); c.fill(); c.strokeStyle = '#228B22'; c.lineWidth = 3; c.stroke(); c.fillStyle = '#FFFFFF'; c.beginPath(); c.arc(220, 220, 24, 0, Math.PI * 2); c.fill(); c.stroke(); }},
                    { instruction: '××™×©×•× ×™×', draw: c => { c.fillStyle = '#000000'; c.beginPath(); c.arc(184, 220, 10, 0, Math.PI * 2); c.fill(); c.beginPath(); c.arc(224, 220, 10, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '× ×™×¦×•×¦×•×ª', draw: c => { c.fillStyle = '#FFFFFF'; c.beginPath(); c.arc(187, 216, 4, 0, Math.PI * 2); c.fill(); c.beginPath(); c.arc(227, 216, 4, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '×¤×”', draw: c => { c.strokeStyle = '#228B22'; c.lineWidth = 4; c.beginPath(); c.arc(200, 246, 20, 0.2, Math.PI - 0.2); c.stroke(); }}
                ]
            },
            bee: {
                name: '×“×‘×•×¨×” ×•×›×•×•×¨×ª',
                icon: 'ğŸ',
                steps: [
                    { instruction: '×©××™×™×', draw: c => { var sky = c.createLinearGradient(0, 0, 0, 400); sky.addColorStop(0, '#87CEEB'); sky.addColorStop(1, '#E0F6FF'); c.fillStyle = sky; c.fillRect(0, 0, 400, 400); }},
                    { instruction: '×“×©×', draw: c => { c.fillStyle = '#90EE90'; c.fillRect(0, 320, 400, 80); }},
                    { instruction: '×¨××©', draw: c => { c.fillStyle = '#000000'; c.beginPath(); c.arc(150, 180, 28, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '×’×•×£', draw: c => { c.fillStyle = '#FFD700'; c.beginPath(); c.ellipse(150, 235, 32, 45, 0, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '×¤×¡ 1', draw: c => { c.fillStyle = '#000000'; c.fillRect(118, 205, 64, 12); }},
                    { instruction: '×¤×¡ 2', draw: c => { c.fillStyle = '#000000'; c.fillRect(118, 230, 64, 12); }},
                    { instruction: '×¤×¡ 3', draw: c => { c.fillStyle = '#000000'; c.fillRect(118, 255, 64, 12); }},
                    { instruction: '×›× ×£ ×©×××œ', draw: c => { c.fillStyle = 'rgba(255, 255, 255, 0.8)'; c.beginPath(); c.ellipse(115, 215, 25, 40, -0.3, 0, Math.PI * 2); c.fill(); c.strokeStyle = '#CCC'; c.lineWidth = 2; c.stroke(); }},
                    { instruction: '×›× ×£ ×™××™×Ÿ', draw: c => { c.fillStyle = 'rgba(255, 255, 255, 0.8)'; c.beginPath(); c.ellipse(185, 215, 25, 40, 0.3, 0, Math.PI * 2); c.fill(); c.strokeStyle = '#CCC'; c.lineWidth = 2; c.stroke(); }},
                    { instruction: '×¢×™×Ÿ ×©×××œ', draw: c => { c.fillStyle = '#FFFFFF'; c.beginPath(); c.arc(140, 175, 10, 0, Math.PI * 2); c.fill(); c.fillStyle = '#000000'; c.beginPath(); c.arc(142, 177, 5, 0, Math.PI * 2); c.fill(); c.fillStyle = '#FFFFFF'; c.beginPath(); c.arc(143, 176, 2, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '×¢×™×Ÿ ×™××™×Ÿ', draw: c => { c.fillStyle = '#FFFFFF'; c.beginPath(); c.arc(160, 175, 10, 0, Math.PI * 2); c.fill(); c.fillStyle = '#000000'; c.beginPath(); c.arc(158, 177, 5, 0, Math.PI * 2); c.fill(); c.fillStyle = '#FFFFFF'; c.beginPath(); c.arc(157, 176, 2, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '×—×™×•×š', draw: c => { c.strokeStyle = '#000000'; c.lineWidth = 2; c.beginPath(); c.arc(150, 185, 8, 0.2, Math.PI - 0.2); c.stroke(); }},
                    { instruction: '××—×•×© ×©×××œ', draw: c => { c.strokeStyle = '#000000'; c.lineWidth = 3; c.lineCap = 'round'; c.beginPath(); c.moveTo(140, 160); c.quadraticCurveTo(130, 145, 125, 135); c.stroke(); c.fillStyle = '#000000'; c.beginPath(); c.arc(125, 135, 3, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '××—×•×© ×™××™×Ÿ', draw: c => { c.strokeStyle = '#000000'; c.lineWidth = 3; c.lineCap = 'round'; c.beginPath(); c.moveTo(160, 160); c.quadraticCurveTo(170, 145, 175, 135); c.stroke(); c.fillStyle = '#000000'; c.beginPath(); c.arc(175, 135, 3, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '×¢×•×§×¥', draw: c => { c.strokeStyle = '#000000'; c.lineWidth = 4; c.lineCap = 'round'; c.beginPath(); c.moveTo(150, 280); c.lineTo(150, 295); c.stroke(); c.fillStyle = '#8B0000'; c.beginPath(); c.moveTo(150, 295); c.lineTo(145, 305); c.lineTo(155, 305); c.closePath(); c.fill(); }},
                    { instruction: '×›×•×•×¨×ª ××¨×›×–', draw: c => { c.fillStyle = '#FFA500'; c.strokeStyle = '#FF8C00'; c.lineWidth = 2; c.beginPath(); for (var i = 0; i < 6; i++) { var angle = (i * Math.PI) / 3; var x = 280 + Math.cos(angle) * 18; var y = 140 + Math.sin(angle) * 18; if (i === 0) c.moveTo(x, y); else c.lineTo(x, y); } c.closePath(); c.fill(); c.stroke(); }},
                    { instruction: '×›×•×•×¨×ª ×¦×“×“×™×ª', draw: c => { c.fillStyle = '#FFA500'; c.strokeStyle = '#FF8C00'; c.lineWidth = 2; function hexagon(x, y) { c.beginPath(); for (var i = 0; i < 6; i++) { var angle = (i * Math.PI) / 3; var hx = x + Math.cos(angle) * 18; var hy = y + Math.sin(angle) * 18; if (i === 0) c.moveTo(hx, hy); else c.lineTo(hx, hy); } c.closePath(); c.fill(); c.stroke(); } hexagon(249, 157); hexagon(311, 157); hexagon(280, 174); }},
                    { instruction: '×›×•×•×¨×ª ×ª×—×ª×•× ×”', draw: c => { c.fillStyle = '#FFA500'; c.strokeStyle = '#FF8C00'; c.lineWidth = 2; function hexagon(x, y) { c.beginPath(); for (var i = 0; i < 6; i++) { var angle = (i * Math.PI) / 3; var hx = x + Math.cos(angle) * 18; var hy = y + Math.sin(angle) * 18; if (i === 0) c.moveTo(hx, hy); else c.lineTo(hx, hy); } c.closePath(); c.fill(); c.stroke(); } hexagon(249, 191); hexagon(311, 191); }},
                    { instruction: '×›×•×›×‘×™×', draw: c => { c.fillStyle = '#FFD700'; function star(x, y, r) { c.beginPath(); for (var i = 0; i < 5; i++) { var angle = (i * 4 * Math.PI) / 5 - Math.PI / 2; var sx = x + Math.cos(angle) * r; var sy = y + Math.sin(angle) * r; if (i === 0) c.moveTo(sx, sy); else c.lineTo(sx, sy); } c.closePath(); c.fill(); } star(60, 120, 7); star(340, 100, 7); star(50, 240, 7); }}
                ]
            },
            octopus: {
                name: '×ª×× ×•×Ÿ',
                icon: 'ğŸ™',
                steps: [
                    { instruction: '×¨××©', draw: c => { c.fillStyle = '#9370DB'; c.beginPath(); c.ellipse(200, 170, 55, 50, 0, Math.PI, 2 * Math.PI); c.fill(); c.strokeStyle = '#8B008B'; c.lineWidth = 3; c.stroke(); }},
                    { instruction: '×–×¨×•×¢ 1', draw: c => { c.strokeStyle = '#9370DB'; c.lineWidth = 15; c.lineCap = 'round'; c.beginPath(); c.moveTo(160, 210); c.bezierCurveTo(140, 250, 130, 280, 135, 310); c.stroke(); c.fillStyle = '#DDA0DD'; for(var i = 0; i < 4; i++) { var y = 230 + i*20; c.beginPath(); c.arc(150 - i*4, y, 4, 0, Math.PI * 2); c.fill(); }}},
                    { instruction: '×–×¨×•×¢ 2', draw: c => { c.strokeStyle = '#9370DB'; c.lineWidth = 15; c.lineCap = 'round'; c.beginPath(); c.moveTo(175, 215); c.bezierCurveTo(155, 260, 145, 290, 150, 320); c.stroke(); c.fillStyle = '#DDA0DD'; for(var i = 0; i < 4; i++) { var y = 240 + i*20; c.beginPath(); c.arc(160 - i*2, y, 4, 0, Math.PI * 2); c.fill(); }}},
                    { instruction: '×–×¨×•×¢ 3', draw: c => { c.strokeStyle = '#9370DB'; c.lineWidth = 15; c.lineCap = 'round'; c.beginPath(); c.moveTo(190, 218); c.bezierCurveTo(175, 270, 170, 300, 170, 330); c.stroke(); c.fillStyle = '#DDA0DD'; for(var i = 0; i < 4; i++) { var y = 250 + i*20; c.beginPath(); c.arc(177, y, 4, 0, Math.PI * 2); c.fill(); }}},
                    { instruction: '×–×¨×•×¢ 4', draw: c => { c.strokeStyle = '#9370DB'; c.lineWidth = 15; c.lineCap = 'round'; c.beginPath(); c.moveTo(205, 220); c.bezierCurveTo(200, 280, 195, 310, 195, 335); c.stroke(); c.fillStyle = '#DDA0DD'; for(var i = 0; i < 4; i++) { var y = 255 + i*20; c.beginPath(); c.arc(198, y, 4, 0, Math.PI * 2); c.fill(); }}},
                    { instruction: '×–×¨×•×¢ 5', draw: c => { c.strokeStyle = '#9370DB'; c.lineWidth = 15; c.lineCap = 'round'; c.beginPath(); c.moveTo(220, 218); c.bezierCurveTo(225, 270, 230, 300, 230, 330); c.stroke(); c.fillStyle = '#DDA0DD'; for(var i = 0; i < 4; i++) { var y = 250 + i*20; c.beginPath(); c.arc(223, y, 4, 0, Math.PI * 2); c.fill(); }}},
                    { instruction: '×–×¨×•×¢ 6', draw: c => { c.strokeStyle = '#9370DB'; c.lineWidth = 15; c.lineCap = 'round'; c.beginPath(); c.moveTo(235, 215); c.bezierCurveTo(245, 260, 255, 290, 250, 320); c.stroke(); c.fillStyle = '#DDA0DD'; for(var i = 0; i < 4; i++) { var y = 240 + i*20; c.beginPath(); c.arc(240 + i*2, y, 4, 0, Math.PI * 2); c.fill(); }}},
                    { instruction: '×–×¨×•×¢ 7', draw: c => { c.strokeStyle = '#9370DB'; c.lineWidth = 15; c.lineCap = 'round'; c.beginPath(); c.moveTo(250, 210); c.bezierCurveTo(260, 250, 270, 280, 265, 310); c.stroke(); c.fillStyle = '#DDA0DD'; for(var i = 0; i < 4; i++) { var y = 230 + i*20; c.beginPath(); c.arc(250 + i*4, y, 4, 0, Math.PI * 2); c.fill(); }}},
                    { instruction: '×–×¨×•×¢ 8', draw: c => { c.strokeStyle = '#9370DB'; c.lineWidth = 15; c.lineCap = 'round'; c.beginPath(); c.moveTo(260, 205); c.bezierCurveTo(275, 240, 285, 270, 280, 300); c.stroke(); c.fillStyle = '#DDA0DD'; for(var i = 0; i < 4; i++) { var y = 220 + i*20; c.beginPath(); c.arc(265 + i*5, y, 4, 0, Math.PI * 2); c.fill(); }}},
                    { instruction: '×¢×™×Ÿ ×©×××œ', draw: c => { c.fillStyle = '#FFFFFF'; c.beginPath(); c.arc(180, 160, 15, 0, Math.PI * 2); c.fill(); c.fillStyle = '#000000'; c.beginPath(); c.arc(183, 160, 8, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '×¢×™×Ÿ ×™××™×Ÿ', draw: c => { c.fillStyle = '#FFFFFF'; c.beginPath(); c.arc(220, 160, 15, 0, Math.PI * 2); c.fill(); c.fillStyle = '#000000'; c.beginPath(); c.arc(223, 160, 8, 0, Math.PI * 2); c.fill(); }},
                    { instruction: '×—×™×•×š', draw: c => { c.strokeStyle = '#8B008B'; c.lineWidth = 3; c.beginPath(); c.arc(200, 175, 25, 0.2, Math.PI - 0.2); c.stroke(); }}
                ]
            },
            train: {
                name: '×¨×›×‘×ª',
                icon: 'ğŸš‚',
                steps: [
                    { instruction: '×¤×¡×™ ×¨×›×‘×ª', draw: c => { c.fillStyle='#8B4513'; c.fillRect(0,293,400,10); c.fillRect(0,320,400,10); }},
                    { instruction: '×—×¦×¥', draw: c => { c.fillStyle='#999'; for(var i=0; i<20; i++) { c.fillRect(i*20+7,303,13,17); }}},
                    { instruction: '×’×•×£ ×§×˜×¨', draw: c => { c.fillStyle='#0066CC'; c.fillRect(40,187,133,107); c.strokeStyle='#003366'; c.lineWidth=3; c.strokeRect(40,187,133,107); }},
                    { instruction: '×’×’ ×§×˜×¨', draw: c => { c.fillStyle='#003366'; c.fillRect(40,173,133,20); }},
                    { instruction: '×ª× × ×”×’', draw: c => { c.fillStyle='#004488'; c.fillRect(53,133,67,53); c.strokeStyle='#003366'; c.lineWidth=2; c.strokeRect(53,133,67,53); }},
                    { instruction: '×’×’ ×ª× × ×”×’', draw: c => { c.fillStyle='#003366'; c.beginPath(); c.moveTo(47,133); c.lineTo(87,113); c.lineTo(127,133); c.closePath(); c.fill(); c.strokeStyle='#001a33'; c.lineWidth=2; c.stroke(); }},
                    { instruction: '×—×œ×•×Ÿ × ×”×’', draw: c => { c.fillStyle='#87CEEB'; c.fillRect(67,147,40,33); c.strokeStyle='#333'; c.lineWidth=2; c.strokeRect(67,147,40,33); }},
                    { instruction: '××¨×•×‘×”', draw: c => { c.fillStyle='#333'; c.fillRect(133,107,20,33); c.strokeStyle='#000'; c.lineWidth=2; c.strokeRect(133,107,20,33); }},
                    { instruction: '×¢×©×Ÿ', draw: c => { c.fillStyle='rgba(150,150,150,0.6)'; c.beginPath(); c.arc(143,80,16,0,Math.PI*2); c.fill(); c.beginPath(); c.arc(153,60,20,0,Math.PI*2); c.fill(); c.beginPath(); c.arc(167,40,24,0,Math.PI*2); c.fill(); }},
                    { instruction: '×—×œ×•× ×•×ª ×§×˜×¨', draw: c => { c.fillStyle='#87CEEB'; c.fillRect(60,207,33,27); c.fillRect(113,207,33,27); c.strokeStyle='#333'; c.lineWidth=2; c.strokeRect(60,207,33,27); c.strokeRect(113,207,33,27); }},
                    { instruction: '×¤×’×•×©', draw: c => { c.fillStyle='#FFD700'; c.fillRect(27,280,20,13); c.strokeStyle='#CC9900'; c.lineWidth=2; c.strokeRect(27,280,20,13); }},
                    { instruction: '×’×œ×’×œ×™ ×§×˜×¨', draw: c => { c.fillStyle='#333'; for(var i=0; i<3; i++) { c.beginPath(); c.arc(67+i*40,293,24,0,Math.PI*2); c.fill(); c.strokeStyle='#666'; c.lineWidth=4; c.stroke(); }}},
                    { instruction: '×’×•×£ ×§×¨×•×Ÿ', draw: c => { c.fillStyle='#CC3333'; c.fillRect(200,200,160,93); c.strokeStyle='#992222'; c.lineWidth=3; c.strokeRect(200,200,160,93); }},
                    { instruction: '×’×’ ×§×¨×•×Ÿ', draw: c => { c.fillStyle='#992222'; c.fillRect(200,187,160,20); }},
                    { instruction: '×—×œ×•× ×•×ª ×§×¨×•×Ÿ', draw: c => { c.fillStyle='#87CEEB'; for(var i=0; i<3; i++) { c.fillRect(220+i*47,220,33,33); c.strokeStyle='#333'; c.lineWidth=2; c.strokeRect(220+i*47,220,33,33); }}},
                    { instruction: '×’×œ×’×œ×™ ×§×¨×•×Ÿ', draw: c => { c.fillStyle='#333'; c.beginPath(); c.arc(233,293,24,0,Math.PI*2); c.fill(); c.strokeStyle='#666'; c.lineWidth=4; c.stroke(); c.beginPath(); c.arc(327,293,24,0,Math.PI*2); c.fill(); c.stroke(); }},
                    { instruction: '×—×™×‘×•×¨', draw: c => { c.strokeStyle='#333'; c.lineWidth=5; c.lineCap='round'; c.beginPath(); c.moveTo(173,253); c.lineTo(200,253); c.stroke(); }}
                ]
            },
            balloon: {
                name: '×›×“×•×¨ ×¤×•×¨×—',
                icon: 'ğŸ¨',
                steps: [
                    {instruction:'×©××™×™×',draw:c=>{c.fillStyle='#87CEEB';c.fillRect(0,0,400,380)}},
                    {instruction:'×¢× ×Ÿ ×©×××œ',draw:c=>{c.fillStyle='#FFFFFF';c.beginPath();c.arc(60,60,20,0,Math.PI*2);c.arc(80,55,25,0,Math.PI*2);c.arc(100,60,20,0,Math.PI*2);c.fill()}},
                    {instruction:'×¢× ×Ÿ ×™××™×Ÿ',draw:c=>{c.fillStyle='#FFFFFF';c.beginPath();c.arc(220,80,18,0,Math.PI*2);c.arc(238,76,22,0,Math.PI*2);c.arc(256,80,18,0,Math.PI*2);c.fill()}},
                    {instruction:'×¤×¡ ××“×•×',draw:c=>{c.fillStyle='#FF0000';c.beginPath();c.moveTo(150,100);const a1=0*Math.PI*2/8;const a2=1*Math.PI*2/8;c.arc(150,180,80,a1-Math.PI/2,a2-Math.PI/2);c.closePath();c.fill()}},
                    {instruction:'×¤×¡ ×›×ª×•×',draw:c=>{c.fillStyle='#FFA500';c.beginPath();c.moveTo(150,100);const a1=1*Math.PI*2/8;const a2=2*Math.PI*2/8;c.arc(150,180,80,a1-Math.PI/2,a2-Math.PI/2);c.closePath();c.fill()}},
                    {instruction:'×¤×¡ ×¦×”×•×‘',draw:c=>{c.fillStyle='#FFFF00';c.beginPath();c.moveTo(150,100);const a1=2*Math.PI*2/8;const a2=3*Math.PI*2/8;c.arc(150,180,80,a1-Math.PI/2,a2-Math.PI/2);c.closePath();c.fill()}},
                    {instruction:'×¤×¡ ×™×¨×•×§',draw:c=>{c.fillStyle='#00FF00';c.beginPath();c.moveTo(150,100);const a1=3*Math.PI*2/8;const a2=4*Math.PI*2/8;c.arc(150,180,80,a1-Math.PI/2,a2-Math.PI/2);c.closePath();c.fill()}},
                    {instruction:'×¤×¡ ×›×—×•×œ',draw:c=>{c.fillStyle='#0000FF';c.beginPath();c.moveTo(150,100);const a1=4*Math.PI*2/8;const a2=5*Math.PI*2/8;c.arc(150,180,80,a1-Math.PI/2,a2-Math.PI/2);c.closePath();c.fill()}},
                    {instruction:'×¤×¡ ×¡×’×•×œ',draw:c=>{c.fillStyle='#800080';c.beginPath();c.moveTo(150,100);const a1=5*Math.PI*2/8;const a2=6*Math.PI*2/8;c.arc(150,180,80,a1-Math.PI/2,a2-Math.PI/2);c.closePath();c.fill()}},
                    {instruction:'×¤×¡ ×¤×•×§×¡×™×”',draw:c=>{c.fillStyle='#FF00FF';c.beginPath();c.moveTo(150,100);const a1=6*Math.PI*2/8;const a2=7*Math.PI*2/8;c.arc(150,180,80,a1-Math.PI/2,a2-Math.PI/2);c.closePath();c.fill()}},
                    {instruction:'×¤×¡ ×•×¨×•×“',draw:c=>{c.fillStyle='#FF1493';c.beginPath();c.moveTo(150,100);const a1=7*Math.PI*2/8;const a2=8*Math.PI*2/8;c.arc(150,180,80,a1-Math.PI/2,a2-Math.PI/2);c.closePath();c.fill()}},
                    {instruction:'×—×œ×§ ×ª×—×ª×•×Ÿ',draw:c=>{c.fillStyle='#8B4513';c.fillRect(130,255,40,15)}},
                    {instruction:'×—×‘×œ ×©×××œ',draw:c=>{c.strokeStyle='#654321';c.lineWidth=2;c.beginPath();c.moveTo(135,270);c.lineTo(90,320);c.stroke()}},
                    {instruction:'×—×‘×œ ×™××™×Ÿ',draw:c=>{c.strokeStyle='#654321';c.lineWidth=2;c.beginPath();c.moveTo(165,270);c.lineTo(210,320);c.stroke()}},
                    {instruction:'×—×‘×œ ×××¦×¢ ×©×××œ',draw:c=>{c.strokeStyle='#654321';c.lineWidth=2;c.beginPath();c.moveTo(145,270);c.lineTo(150,320);c.stroke()}},
                    {instruction:'×—×‘×œ ×××¦×¢ ×™××™×Ÿ',draw:c=>{c.strokeStyle='#654321';c.lineWidth=2;c.beginPath();c.moveTo(155,270);c.lineTo(150,320);c.stroke()}},
                    {instruction:'×¡×œ',draw:c=>{c.fillStyle='#8B4513';c.fillRect(90,320,120,50)}},
                    {instruction:'×§×•×•×™ ×¡×œ',draw:c=>{c.fillStyle='#654321';for(let i=0;i<10;i++)c.fillRect(92+i*12,320,10,50)}},
                    {instruction:'××¡×’×¨×ª ×¡×œ',draw:c=>{c.strokeStyle='#8B4513';c.lineWidth=4;c.strokeRect(90,320,120,50)}},
                    {instruction:'×“×’×œ',draw:c=>{c.fillStyle='#FFD700';c.fillRect(148,90,4,20);c.fillStyle='#FF0000';c.beginPath();c.moveTo(152,95);c.lineTo(172,100);c.lineTo(152,105);c.closePath();c.fill()}}
                ]
            },
            icecream: {
                name: '×’×œ×™×“×”',
                icon: 'ğŸ¦',
                steps: [
                    {instruction:'×¨×§×¢',draw:c=>{c.fillStyle='#FFE4E1';c.fillRect(0,0,400,400)}},
                    {instruction:'×’×‘×™×¢',draw:c=>{c.fillStyle='#D2691E';c.beginPath();c.moveTo(160,240);c.lineTo(200,346);c.lineTo(240,240);c.closePath();c.fill()}},
                    {instruction:'×ª×‘× ×™×ª ××œ×›×¡×•× ×™×',draw:c=>{c.strokeStyle='#8B4513';c.lineWidth=2;for(let i=0;i<5;i++){c.beginPath();c.moveTo(166+i*13,253+i*13);c.lineTo(233-i*13,253+i*13);c.stroke()}}},
                    {instruction:'×ª×‘× ×™×ª ×§×•×•×™×',draw:c=>{c.strokeStyle='#8B4513';c.lineWidth=2;for(let i=0;i<4;i++){c.beginPath();c.moveTo(173+i*13,240);c.lineTo(200,346);c.stroke()}}},
                    {instruction:'×›×“×•×¨ ×ª×—×ª×•×Ÿ ×•×¨×•×“',draw:c=>{c.fillStyle='#FFB6C1';c.beginPath();c.arc(200,226,46,0,Math.PI*2);c.fill()}},
                    {instruction:'×›×“×•×¨ ×××¦×¢×™ ×¦×”×•×‘',draw:c=>{c.fillStyle='#FFFACD';c.beginPath();c.arc(200,166,46,0,Math.PI*2);c.fill()}},
                    {instruction:'×›×“×•×¨ ×¢×œ×™×•×Ÿ ×—×•×',draw:c=>{c.fillStyle='#8B4513';c.beginPath();c.arc(200,106,46,0,Math.PI*2);c.fill()}},
                    {instruction:'×–×œ×£ ×©×•×§×•×œ×“',draw:c=>{c.fillStyle='#654321';c.beginPath();c.moveTo(173,66);c.quadraticCurveTo(180,80,173,93);c.quadraticCurveTo(186,100,180,113);c.lineTo(193,113);c.quadraticCurveTo(193,93,200,80);c.quadraticCurveTo(193,66,200,53);c.quadraticCurveTo(206,66,200,80);c.quadraticCurveTo(206,93,206,113);c.lineTo(220,113);c.quadraticCurveTo(213,100,226,93);c.quadraticCurveTo(220,80,226,66);c.closePath();c.fill()}},
                    {instruction:'×“×•×‘×“×‘×Ÿ',draw:c=>{c.fillStyle='#DC143C';c.beginPath();c.arc(200,46,10,0,Math.PI*2);c.fill()}},
                    {instruction:'×’×‘×¢×•×œ',draw:c=>{c.strokeStyle='#228B22';c.lineWidth=2;c.beginPath();c.moveTo(200,46);c.lineTo(193,26);c.stroke()}}
                ]
            },
            cake: {
                name: '×¢×•×’×”',
                icon: 'ğŸ‚',
                steps: [
                    {instruction:'×¨×§×¢',draw:c=>{c.fillStyle='#FFE4E1';c.fillRect(0,0,400,400)}},
                    {instruction:'×§×•××” ×ª×—×ª×•× ×”',draw:c=>{c.fillStyle='#8B4513';c.fillRect(93,240,213,66)}},
                    {instruction:'×§×•××” ×××¦×¢×™×ª',draw:c=>{c.fillStyle='#D2691E';c.fillRect(113,186,173,60)}},
                    {instruction:'×§×•××” ×¢×œ×™×•× ×”',draw:c=>{c.fillStyle='#CD853F';c.fillRect(133,140,133,53)}},
                    {instruction:'×§×¦×¤×ª ×ª×—×ª×•× ×”',draw:c=>{c.fillStyle='#FFF';for(let i=0;i<11;i++){c.beginPath();c.arc(106+i*26,240,13,0,Math.PI*2);c.fill()}}},
                    {instruction:'×§×¦×¤×ª ×××¦×¢×™×ª',draw:c=>{c.fillStyle='#FFF';for(let i=0;i<8;i++){c.beginPath();c.arc(126+i*26,186,13,0,Math.PI*2);c.fill()}}},
                    {instruction:'×§×¦×¤×ª ×¢×œ×™×•× ×”',draw:c=>{c.fillStyle='#FFF';for(let i=0;i<7;i++){c.beginPath();c.arc(140+i*26,140,13,0,Math.PI*2);c.fill()}}},
                    {instruction:'× ×¨×•×ª',draw:c=>{c.fillStyle='#FFD700';for(let i=0;i<3;i++){c.fillRect(160+i*33,100,13,40)}}},
                    {instruction:'×¤×ª×™×œ×™×',draw:c=>{c.strokeStyle='#000';c.lineWidth=2;for(let i=0;i<3;i++){c.beginPath();c.moveTo(166+i*33,100);c.lineTo(166+i*33,86);c.stroke()}}},
                    {instruction:'×œ×”×‘×•×ª ×›×ª×•××•×ª',draw:c=>{c.fillStyle='#FFA500';for(let i=0;i<3;i++){c.beginPath();c.moveTo(166+i*33,86);c.lineTo(160+i*33,73);c.lineTo(173+i*33,73);c.closePath();c.fill()}}},
                    {instruction:'×œ×”×‘×•×ª ××“×•××•×ª',draw:c=>{c.fillStyle='#FF0000';for(let i=0;i<3;i++){c.beginPath();c.moveTo(166+i*33,80);c.lineTo(162+i*33,73);c.lineTo(170+i*33,73);c.closePath();c.fill()}}},
                    {instruction:'×ª×•×ª×™×',draw:c=>{c.fillStyle='#DC143C';c.beginPath();c.arc(146,220,10,0,Math.PI*2);c.fill();c.beginPath();c.arc(200,220,10,0,Math.PI*2);c.fill();c.beginPath();c.arc(253,220,10,0,Math.PI*2);c.fill()}}
                ]
            },
            royalPeacock: {
                name: '×˜×•×•×¡ ××œ×›×•×ª×™',
                icon: 'ğŸ‘‘',
                steps: [
                    {instruction:'×¨×§×¢ ×©××™×™×',draw:c=>{const g=c.createLinearGradient(0,0,0,400);g.addColorStop(0,'#87CEEB');g.addColorStop(1,'#E0F6FF');c.fillStyle=g;c.fillRect(0,0,400,400)}},
                    {instruction:'×“×©×',draw:c=>{const g=c.createLinearGradient(0,300,0,400);g.addColorStop(0,'#90EE90');g.addColorStop(1,'#228B22');c.fillStyle=g;c.fillRect(0,300,400,100)}},
                    {instruction:'×©××© ×–×•×”×¨×ª',draw:c=>{c.fillStyle='#FFD700';c.shadowColor='#FFA500';c.shadowBlur=30;c.beginPath();c.arc(330,70,35,0,Math.PI*2);c.fill();c.shadowBlur=0}},
                    {instruction:'× ×•×¦×•×ª ×©×××œ',draw:c=>{for(let i=0;i<4;i++){const a=-0.8+i*0.2;c.save();c.translate(200,280);c.rotate(a);const g=c.createRadialGradient(0,-100,10,0,-100,60);g.addColorStop(0,'#00CED1');g.addColorStop(0.5,'#1E90FF');g.addColorStop(1,'#000080');c.fillStyle=g;c.beginPath();c.ellipse(0,-100,35,85,0,0,Math.PI*2);c.fill();c.fillStyle='#4169E1';c.beginPath();c.arc(0,-100,15,0,Math.PI*2);c.fill();c.fillStyle='#00CED1';c.beginPath();c.arc(0,-100,8,0,Math.PI*2);c.fill();c.fillStyle='#000080';c.beginPath();c.arc(0,-100,4,0,Math.PI*2);c.fill();c.restore()}}},
                    {instruction:'× ×•×¦×•×ª ×™××™×Ÿ',draw:c=>{for(let i=0;i<4;i++){const a=0.2+i*0.2;c.save();c.translate(200,280);c.rotate(a);const g=c.createRadialGradient(0,-100,10,0,-100,60);g.addColorStop(0,'#9370DB');g.addColorStop(0.5,'#8A2BE2');g.addColorStop(1,'#4B0082');c.fillStyle=g;c.beginPath();c.ellipse(0,-100,35,85,0,0,Math.PI*2);c.fill();c.fillStyle='#BA55D3';c.beginPath();c.arc(0,-100,15,0,Math.PI*2);c.fill();c.fillStyle='#9370DB';c.beginPath();c.arc(0,-100,8,0,Math.PI*2);c.fill();c.fillStyle='#4B0082';c.beginPath();c.arc(0,-100,4,0,Math.PI*2);c.fill();c.restore()}}},
                    {instruction:'× ×•×¦×•×ª ××¨×›×–',draw:c=>{for(let i=0;i<3;i++){const a=-0.15+i*0.15;c.save();c.translate(200,280);c.rotate(a);const g=c.createRadialGradient(0,-110,10,0,-110,65);g.addColorStop(0,'#00FF7F');g.addColorStop(0.5,'#00CED1');g.addColorStop(1,'#1E90FF');c.fillStyle=g;c.beginPath();c.ellipse(0,-110,38,90,0,0,Math.PI*2);c.fill();c.fillStyle='#FFD700';c.beginPath();c.arc(0,-110,18,0,Math.PI*2);c.fill();c.fillStyle='#00CED1';c.beginPath();c.arc(0,-110,10,0,Math.PI*2);c.fill();c.fillStyle='#000080';c.beginPath();c.arc(0,-110,5,0,Math.PI*2);c.fill();c.restore()}}},
                    {instruction:'×’×•×£',draw:c=>{const g=c.createLinearGradient(200,230,200,300);g.addColorStop(0,'#1E90FF');g.addColorStop(1,'#4169E1');c.fillStyle=g;c.beginPath();c.ellipse(200,265,45,55,0,0,Math.PI*2);c.fill()}},
                    {instruction:'×›× ×¤×™×™×',draw:c=>{c.fillStyle='#6A5ACD';c.strokeStyle='#483D8B';c.lineWidth=2;c.beginPath();c.ellipse(160,255,22,48,-0.3,0,Math.PI*2);c.fill();c.stroke();c.beginPath();c.ellipse(240,255,22,48,0.3,0,Math.PI*2);c.fill();c.stroke()}},
                    {instruction:'×¦×•×•××¨',draw:c=>{const g=c.createLinearGradient(200,200,200,240);g.addColorStop(0,'#00CED1');g.addColorStop(1,'#1E90FF');c.fillStyle=g;c.fillRect(190,210,20,35)}},
                    {instruction:'×¨××©',draw:c=>{c.fillStyle='#00CED1';c.beginPath();c.arc(200,210,22,0,Math.PI*2);c.fill()}},
                    {instruction:'×›×ª×¨',draw:c=>{c.fillStyle='#4169E1';for(let i=0;i<5;i++){c.beginPath();c.ellipse(188+i*6,195,4,12,0,0,Math.PI*2);c.fill()}}},
                    {instruction:'××§×•×¨',draw:c=>{c.fillStyle='#FFD700';c.beginPath();c.moveTo(210,210);c.lineTo(235,205);c.lineTo(235,215);c.closePath();c.fill()}},
                    {instruction:'×¢×™×Ÿ',draw:c=>{c.fillStyle='#000';c.beginPath();c.arc(207,205,4,0,Math.PI*2);c.fill();c.fillStyle='#FFF';c.beginPath();c.arc(208,204,1.5,0,Math.PI*2);c.fill()}},
                    {instruction:'×¨×’×œ×™×™×',draw:c=>{c.strokeStyle='#8B4513';c.lineWidth=6;c.lineCap='round';c.beginPath();c.moveTo(192,320);c.lineTo(188,355);c.stroke();c.beginPath();c.moveTo(208,320);c.lineTo(212,355);c.stroke();c.lineWidth=3;c.strokeStyle='#654321';for(let i=-1;i<=1;i++){c.beginPath();c.moveTo(188,355);c.lineTo(188+i*8,365);c.stroke();c.beginPath();c.moveTo(212,355);c.lineTo(212+i*8,365);c.stroke()}}}
                ]
            },
            lighthouse: {
                name: '××’×“×œ×•×¨',
                icon: 'ğŸŒŠ',
                steps: [
                    {instruction:'×©×§×™×¢×”',draw:c=>{const g=c.createLinearGradient(0,0,0,250);g.addColorStop(0,'#FF6B6B');g.addColorStop(0.3,'#FFA07A');g.addColorStop(0.6,'#FFD700');g.addColorStop(1,'#87CEEB');c.fillStyle=g;c.fillRect(0,0,400,250)}},
                    {instruction:'×©××©',draw:c=>{const g=c.createRadialGradient(100,180,10,100,180,60);g.addColorStop(0,'#FFF');g.addColorStop(0.3,'#FFD700');g.addColorStop(1,'#FFA500');c.fillStyle=g;c.beginPath();c.arc(100,180,50,0,Math.PI*2);c.fill()}},
                    {instruction:'×¢× × ×™×',draw:c=>{c.fillStyle='rgba(255,140,140,0.6)';c.beginPath();c.ellipse(80,150,40,15,0,0,Math.PI*2);c.fill();c.beginPath();c.ellipse(120,160,50,18,0,0,Math.PI*2);c.fill()}},
                    {instruction:'×™×',draw:c=>{const g=c.createLinearGradient(0,250,0,400);g.addColorStop(0,'#4682B4');g.addColorStop(1,'#1E4D6D');c.fillStyle=g;c.fillRect(0,250,400,150)}},
                    {instruction:'×’×œ×™×',draw:c=>{c.strokeStyle='rgba(255,255,255,0.4)';c.lineWidth=3;for(let i=0;i<5;i++){c.beginPath();for(let x=0;x<=400;x+=20){const y=260+i*20+Math.sin(x*0.05)*8;if(x===0)c.moveTo(x,y);else c.lineTo(x,y)}c.stroke()}}},
                    {instruction:'×¦×•×§',draw:c=>{c.fillStyle='#696969';c.beginPath();c.moveTo(220,400);c.lineTo(220,280);c.lineTo(250,260);c.lineTo(280,265);c.lineTo(310,270);c.lineTo(340,280);c.lineTo(370,295);c.lineTo(400,310);c.lineTo(400,400);c.closePath();c.fill()}},
                    {instruction:'×¡×œ×¢×™×',draw:c=>{c.fillStyle='#808080';c.beginPath();c.arc(240,290,15,0,Math.PI*2);c.fill();c.beginPath();c.arc(290,275,12,0,Math.PI*2);c.fill();c.beginPath();c.arc(350,295,18,0,Math.PI*2);c.fill()}},
                    {instruction:'×‘×¡×™×¡',draw:c=>{c.fillStyle='#8B4513';c.fillRect(265,230,50,25);c.strokeStyle='#654321';c.lineWidth=3;c.strokeRect(265,230,50,25)}},
                    {instruction:'××’×“×œ×•×¨ ×ª×—×ª×•×Ÿ',draw:c=>{c.fillStyle='#FFF';c.fillRect(275,180,30,50);c.strokeStyle='#CCC';c.lineWidth=2;c.strokeRect(275,180,30,50)}},
                    {instruction:'×¤×¡ ××“×•×',draw:c=>{c.fillStyle='#DC143C';c.fillRect(275,150,30,30);c.strokeRect(275,150,30,30)}},
                    {instruction:'×¤×¡ ×¢×œ×™×•×Ÿ',draw:c=>{c.fillStyle='#FFF';c.fillRect(275,120,30,30);c.strokeRect(275,120,30,30)}},
                    {instruction:'×—×“×¨ ××•×¨',draw:c=>{c.fillStyle='#4682B4';c.fillRect(272,105,36,20);c.strokeStyle='#000';c.lineWidth=2;c.strokeRect(272,105,36,20);c.fillStyle='#FFD700';c.fillRect(277,110,8,10);c.fillRect(295,110,8,10)}},
                    {instruction:'×’×’',draw:c=>{c.fillStyle='#DC143C';c.beginPath();c.moveTo(268,105);c.lineTo(290,85);c.lineTo(312,105);c.closePath();c.fill();c.strokeStyle='#8B0000';c.stroke()}},
                    {instruction:'×§×¨× ×™ ××•×¨',draw:c=>{c.fillStyle='rgba(255,255,0,0.2)';c.beginPath();c.moveTo(272,115);c.lineTo(150,80);c.lineTo(150,150);c.closePath();c.fill();c.beginPath();c.moveTo(308,115);c.lineTo(400,100);c.lineTo(400,160);c.closePath();c.fill()}}
                ]
            },
            fox: {
                name: '×©×•×¢×œ',
                icon: 'ğŸ¦Š',
                steps: [
                    {instruction:'×©××™×™×',draw:c=>{const g=c.createLinearGradient(0,0,0,200);g.addColorStop(0,'#87CEEB');g.addColorStop(1,'#B0E0E6');c.fillStyle=g;c.fillRect(0,0,400,200)}},
                    {instruction:'×™×¢×¨ ×‘×¨×§×¢',draw:c=>{c.fillStyle='rgba(34,139,34,0.4)';for(let i=0;i<8;i++){c.beginPath();c.moveTo(i*60+20,200);c.lineTo(i*60+35,120);c.lineTo(i*60+50,200);c.closePath();c.fill()}}},
                    {instruction:'×“×©×',draw:c=>{const g=c.createLinearGradient(0,250,0,400);g.addColorStop(0,'#90EE90');g.addColorStop(1,'#228B22');c.fillStyle=g;c.fillRect(0,250,400,150)}},
                    {instruction:'×–× ×‘',draw:c=>{c.strokeStyle='#FF6347';c.lineWidth=35;c.lineCap='round';c.beginPath();c.moveTo(155,275);c.quadraticCurveTo(100,280,80,250);c.stroke();c.strokeStyle='#FFF';c.lineWidth=20;c.beginPath();c.moveTo(100,260);c.lineTo(80,250);c.stroke()}},
                    {instruction:'×’×•×£',draw:c=>{const g=c.createRadialGradient(200,280,20,200,280,60);g.addColorStop(0,'#FF8C00');g.addColorStop(1,'#FF6347');c.fillStyle=g;c.beginPath();c.ellipse(200,280,55,45,0,0,Math.PI*2);c.fill()}},
                    {instruction:'×‘×˜×Ÿ',draw:c=>{c.fillStyle='#FFFAF0';c.beginPath();c.ellipse(200,290,35,30,0,0,Math.PI*2);c.fill()}},
                    {instruction:'×¨×’×œ×™×™×',draw:c=>{c.fillStyle='#FF6347';c.fillRect(175,315,12,35);c.fillStyle='#2F4F2F';c.fillRect(175,345,12,5);c.fillStyle='#FF6347';c.fillRect(205,315,12,35);c.fillStyle='#2F4F2F';c.fillRect(205,345,12,5)}},
                    {instruction:'×¨××©',draw:c=>{const g=c.createRadialGradient(200,240,15,200,240,40);g.addColorStop(0,'#FF8C00');g.addColorStop(1,'#FF6347');c.fillStyle=g;c.beginPath();c.arc(200,240,38,0,Math.PI*2);c.fill()}},
                    {instruction:'×œ×—×™×™×',draw:c=>{c.fillStyle='#FFFAF0';c.beginPath();c.ellipse(175,248,15,12,0,0,Math.PI*2);c.fill();c.beginPath();c.ellipse(225,248,15,12,0,0,Math.PI*2);c.fill();c.beginPath();c.ellipse(200,252,10,8,0,0,Math.PI*2);c.fill()}},
                    {instruction:'××•×–× ×™×™×',draw:c=>{c.fillStyle='#FF6347';c.beginPath();c.moveTo(175,215);c.lineTo(165,180);c.lineTo(185,205);c.closePath();c.fill();c.beginPath();c.moveTo(225,215);c.lineTo(235,180);c.lineTo(215,205);c.closePath();c.fill();c.fillStyle='#FFFAF0';c.beginPath();c.moveTo(175,212);c.lineTo(170,190);c.lineTo(182,208);c.closePath();c.fill();c.beginPath();c.moveTo(225,212);c.lineTo(230,190);c.lineTo(218,208);c.closePath();c.fill()}},
                    {instruction:'×¢×™× ×™×™×',draw:c=>{c.fillStyle='#FFF';c.beginPath();c.ellipse(185,235,12,15,0,0,Math.PI*2);c.fill();c.beginPath();c.ellipse(215,235,12,15,0,0,Math.PI*2);c.fill();c.fillStyle='#000';c.beginPath();c.ellipse(185,238,8,11,0,0,Math.PI*2);c.fill();c.beginPath();c.ellipse(215,238,8,11,0,0,Math.PI*2);c.fill();c.fillStyle='#FFF';c.beginPath();c.arc(188,233,3,0,Math.PI*2);c.fill();c.beginPath();c.arc(218,233,3,0,Math.PI*2);c.fill()}},
                    {instruction:'××£',draw:c=>{c.fillStyle='#000';c.beginPath();c.moveTo(200,252);c.lineTo(195,258);c.lineTo(205,258);c.closePath();c.fill()}},
                    {instruction:'×¤×” ×•×©×¤×',draw:c=>{c.strokeStyle='#000';c.lineWidth=2;c.beginPath();c.moveTo(200,258);c.lineTo(200,262);c.stroke();c.beginPath();c.arc(192,262,8,0,Math.PI/2);c.stroke();c.beginPath();c.arc(208,262,8,Math.PI/2,Math.PI);c.stroke();c.lineWidth=1.5;for(let i=0;i<3;i++){c.beginPath();c.moveTo(175,245+i*3);c.lineTo(150,243+i*3);c.stroke();c.beginPath();c.moveTo(225,245+i*3);c.lineTo(250,243+i*3);c.stroke()}}}
                ]
            }
        };

        function drawStar(c, x, y, size) {
            c.save();
            c.translate(x, y);
            var grad = c.createRadialGradient(0, 0, 0, 0, 0, size*2);
            grad.addColorStop(0, 'rgba(255, 255, 255, 0.8)');
            grad.addColorStop(0.5, 'rgba(255, 255, 255, 0.3)');
            grad.addColorStop(1, 'rgba(255, 255, 255, 0)');
            c.fillStyle = grad;
            c.beginPath();
            c.arc(0, 0, size*2, 0, Math.PI * 2);
            c.fill();
            c.fillStyle = '#FFFFFF';
            c.beginPath();
            for(var i = 0; i < 5; i++) {
                var angle = (i * 4 * Math.PI / 5) - Math.PI / 2;
                var r = (i % 2 === 0) ? size : size * 0.4;
                var px = Math.cos(angle) * r;
                var py = Math.sin(angle) * r;
                if(i === 0) c.moveTo(px, py);
                else c.lineTo(px, py);
            }
            c.closePath();
            c.fill();
            c.restore();
        }

        function selectDifficulty(level) {
            difficulty = level;
            document.querySelectorAll('.difficulty-btn').forEach(btn => btn.classList.remove('selected'));
            event.target.classList.add('selected');
            updateStartButton();
        }

        function selectDrawing(name) {
            selectedDrawing = name;
            document.querySelectorAll('.drawing-option').forEach(opt => opt.classList.remove('selected'));
            event.target.closest('.drawing-option').classList.add('selected');
            updateStartButton();
        }

        function updateStartButton() {
            const btn = document.getElementById('startButton');
            if (difficulty && selectedDrawing) {
                btn.disabled = false;
            } else {
                btn.disabled = true;
            }
        }

        function startGame() {
            if (!difficulty || !selectedDrawing) return;

            document.getElementById('mainMenu').style.display = 'none';
            document.getElementById('gameContainer').style.display = 'block';

            const drawing = drawings[selectedDrawing];
            document.getElementById('drawingTitle').textContent = `ğŸ¨ ${drawing.icon} ${drawing.name}`;
            
            currentStep = 0;
            lives = 5;
            questionNumber = 0;
            gameRunning = true;

            updateStats();
            drawCurrentProgress();
            generateQuestion();
        }

        function drawCurrentProgress() {
            const canvas = document.getElementById('gameCanvas');
            const ctx = canvas.getContext('2d');
            const drawing = drawings[selectedDrawing];

            ctx.clearRect(0, 0, 400, 400);
            
            // Draw all steps up to current step
            for (let i = 0; i <= currentStep && i < drawing.steps.length; i++) {
                drawing.steps[i].draw(ctx);
            }

            const totalSteps = drawing.steps.length;
            document.getElementById('progressInfo').textContent = 
                `×©×œ×‘ ${currentStep} ××ª×•×š ${totalSteps} | ${Math.round((currentStep / totalSteps) * 100)}% ×”×•×©×œ×`;
        }

        function updateStats() {
            document.getElementById('questionNum').textContent = questionNumber + 1;
            document.getElementById('lives').textContent = lives;
        }

        function generateQuestion() {
            if (!gameRunning) return;

            questionNumber++;
            updateStats();

            const settings = difficultySettings[difficulty];
            
            // ×‘×—×¨ ×©× ×™ ××¡×¤×¨×™× ××”×˜×•×•×—
            const num1 = Math.floor(Math.random() * (settings.max - settings.min + 1)) + settings.min;
            const num2 = Math.floor(Math.random() * (settings.max - settings.min + 1)) + settings.min;
            
            // ×‘×—×¨ ×‘×™×Ÿ ×›×¤×œ ×œ×—×™×œ×•×§
            const operations = ['Ã—', 'Ã·'];
            const operation = operations[Math.floor(Math.random() * operations.length)];

            let question, answer;
            if (operation === 'Ã—') {
                // ×©××œ×ª ×›×¤×œ
                question = `${num1} Ã— ${num2}`;
                answer = num1 * num2;
            } else {
                // ×©××œ×ª ×—×™×œ×•×§ - ×ª××™×“ ×—×œ×•×§×” ×©×œ××”
                const result = num1; // ×”×ª×•×¦××”
                const divisor = num2; // ×”××—×œ×§
                const dividend = result * divisor; // ×”××—×•×œ×§
                question = `${dividend} Ã· ${divisor}`;
                answer = result;
            }

            currentAnswer = answer;
            document.getElementById('questionText').textContent = question + ' = ?';
            document.getElementById('answerInput').value = '';
            document.getElementById('feedback').textContent = '';
            
            // ×”×¤×¢×œ ××—×“×© ×›×¤×ª×•×¨ ×•×©×“×” ×§×œ×˜
            document.querySelector('.submit-btn').disabled = false;
            document.getElementById('answerInput').disabled = false;
            document.getElementById('answerInput').focus();
        }

        function checkAnswer() {
            const userAnswer = parseInt(document.getElementById('answerInput').value);
            const feedback = document.getElementById('feedback');
            const submitBtn = document.querySelector('.submit-btn');
            const answerInput = document.getElementById('answerInput');

            if (isNaN(userAnswer)) {
                feedback.textContent = 'âŒ ×”×›× ×¡ ××¡×¤×¨!';
                feedback.className = 'feedback wrong';
                return;
            }

            // ×”×©×‘×ª ×›×¤×ª×•×¨ ×•×©×“×” ×§×œ×˜
            submitBtn.disabled = true;
            answerInput.disabled = true;

            if (userAnswer === currentAnswer) {
                // Correct answer - reveal next step
                feedback.textContent = 'âœ… × ×›×•×Ÿ ×××•×“! ×”×¦×™×•×¨ ××ª×’×œ×”!';
                feedback.className = 'feedback correct';
                playSound('correct');

                const drawing = drawings[selectedDrawing];
                
                if (currentStep < drawing.steps.length - 1) {
                    currentStep++;
                    drawCurrentProgress();
                    
                    setTimeout(() => {
                        generateQuestion();
                    }, 1500);
                } else {
                    // Drawing complete - win!
                    setTimeout(() => {
                        winGame();
                    }, 1500);
                }
            } else {
                // Wrong answer - lose life
                feedback.textContent = `âŒ ×œ× × ×›×•×Ÿ! ×”×ª×©×•×‘×” ×”× ×›×•× ×” ×”×™× ${currentAnswer}`;
                feedback.className = 'feedback wrong';
                playSound('wrong');
                
                lives--;
                updateStats();

                if (lives <= 0) {
                    setTimeout(() => {
                        loseGame();
                    }, 2000);
                } else {
                    setTimeout(() => {
                        generateQuestion();
                    }, 2000);
                }
            }
        }

        function winGame() {
            gameRunning = false;
            
            // Draw final drawing on game over canvas
            const finalCanvas = document.getElementById('finalCanvas');
            finalCanvas.width = 350;
            finalCanvas.height = 350;
            const ctx = finalCanvas.getContext('2d');
            const drawing = drawings[selectedDrawing];
            
            ctx.clearRect(0, 0, 350, 350);
            ctx.scale(0.875, 0.875); // Scale down to fit 350x350
            for (let i = 0; i < drawing.steps.length; i++) {
                drawing.steps[i].draw(ctx);
            }

            document.getElementById('gameOverTitle').textContent = 'ğŸ† ××¦×•×™×Ÿ! ×”×¦×™×•×¨ ×”×•×©×œ×! ğŸ†';
            document.getElementById('gameOverTitle').style.color = '#00cc66';
            document.getElementById('gameOverMessage').textContent = 
                `×¢× ×™×ª ×¢×œ ${questionNumber} ×©××œ×•×ª ×‘×¨×¦×£ ×•×”×©×œ××ª ××ª ×›×œ ×”×¦×™×•×¨!\n× ×©××¨×• ×œ×š ${lives} ×—×™×™× â¤ï¸\n××™×–×” ×›×™×£ ×œ×’×œ×•×ª ××ª ×”×¦×™×•×¨!`;
            
            document.getElementById('overlay').style.display = 'block';
            document.getElementById('gameOverScreen').style.display = 'block';
            
            playSound('win');
        }

        function loseGame() {
            gameRunning = false;
            
            // Draw current progress on game over canvas
            const finalCanvas = document.getElementById('finalCanvas');
            finalCanvas.width = 350;
            finalCanvas.height = 350;
            const ctx = finalCanvas.getContext('2d');
            const drawing = drawings[selectedDrawing];
            
            ctx.clearRect(0, 0, 350, 350);
            ctx.scale(0.875, 0.875); // Scale down to fit 350x350
            for (let i = 0; i <= currentStep && i < drawing.steps.length; i++) {
                drawing.steps[i].draw(ctx);
            }

            const totalSteps = drawing.steps.length;
            const percentage = Math.round((currentStep / totalSteps) * 100);

            document.getElementById('gameOverTitle').textContent = 'ğŸ’” × ×’××¨×• ×”×—×™×™× ğŸ’”';
            document.getElementById('gameOverTitle').style.color = '#f5576c';
            document.getElementById('gameOverMessage').textContent = 
                `×¢× ×™×ª ×¢×œ ${questionNumber} ×©××œ×•×ª ×‘×¨×¦×£.\n×”×¦×œ×—×ª ×œ×’×œ×•×ª ${currentStep} ××ª×•×š ${totalSteps} ×©×œ×‘×™× (${percentage}%).\n× ×¡×” ×©×•×‘ ×œ×”×©×œ×™× ××ª ×”×¦×™×•×¨!`;
            
            document.getElementById('overlay').style.display = 'block';
            document.getElementById('gameOverScreen').style.display = 'block';
            
            playSound('lose');
        }

        function returnToMenu() {
            document.getElementById('gameContainer').style.display = 'none';
            document.getElementById('gameOverScreen').style.display = 'none';
            document.getElementById('overlay').style.display = 'none';
            document.getElementById('mainMenu').style.display = 'block';
            
            // Reset selections
            document.querySelectorAll('.difficulty-btn').forEach(btn => btn.classList.remove('selected'));
            document.querySelectorAll('.drawing-option').forEach(opt => opt.classList.remove('selected'));
            difficulty = null;
            selectedDrawing = null;
            updateStartButton();
        }

        function playSound(type) {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            
            if (type === 'correct') {
                // ×¦×œ×™×œ × ×¢×™× ×©×œ ×ª×©×•×‘×” × ×›×•× ×” - ××§×•×¨×“ ××–'×•×¨ ×¢×•×œ×”
                const notes = [
                    {freq: 523.25, start: 0, duration: 0.15},      // C5
                    {freq: 659.25, start: 0.08, duration: 0.15},   // E5
                    {freq: 783.99, start: 0.16, duration: 0.2}     // G5
                ];
                
                notes.forEach(note => {
                    const osc = audioContext.createOscillator();
                    const gain = audioContext.createGain();
                    
                    osc.type = 'sine'; // ×’×œ ×¡×™× ×•×¡ × ×¢×™×
                    osc.connect(gain);
                    gain.connect(audioContext.destination);
                    
                    osc.frequency.setValueAtTime(note.freq, audioContext.currentTime + note.start);
                    gain.gain.setValueAtTime(0, audioContext.currentTime + note.start);
                    gain.gain.linearRampToValueAtTime(0.15, audioContext.currentTime + note.start + 0.02);
                    gain.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + note.start + note.duration);
                    
                    osc.start(audioContext.currentTime + note.start);
                    osc.stop(audioContext.currentTime + note.start + note.duration);
                });
                
            } else if (type === 'wrong') {
                // ×¦×œ×™×œ ×¢×“×™×Ÿ ×©×œ ×ª×©×•×‘×” ×©×’×•×™×” - ×©×ª×™ × ×•×˜×•×ª ×™×•×¨×“×•×ª
                const notes = [
                    {freq: 440, start: 0, duration: 0.2},      // A4
                    {freq: 349.23, start: 0.15, duration: 0.25} // F4
                ];
                
                notes.forEach(note => {
                    const osc = audioContext.createOscillator();
                    const gain = audioContext.createGain();
                    
                    osc.type = 'sine';
                    osc.connect(gain);
                    gain.connect(audioContext.destination);
                    
                    osc.frequency.setValueAtTime(note.freq, audioContext.currentTime + note.start);
                    gain.gain.setValueAtTime(0, audioContext.currentTime + note.start);
                    gain.gain.linearRampToValueAtTime(0.12, audioContext.currentTime + note.start + 0.02);
                    gain.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + note.start + note.duration);
                    
                    osc.start(audioContext.currentTime + note.start);
                    osc.stop(audioContext.currentTime + note.start + note.duration);
                });
                
            } else if (type === 'win') {
                // ×× ×’×™× ×ª × ×™×¦×—×•×Ÿ ×©××—×”
                const melody = [
                    {freq: 523.25, start: 0, duration: 0.15},
                    {freq: 587.33, start: 0.12, duration: 0.15},
                    {freq: 659.25, start: 0.24, duration: 0.15},
                    {freq: 783.99, start: 0.36, duration: 0.25}
                ];
                
                melody.forEach(note => {
                    const osc = audioContext.createOscillator();
                    const gain = audioContext.createGain();
                    
                    osc.type = 'sine';
                    osc.connect(gain);
                    gain.connect(audioContext.destination);
                    
                    osc.frequency.setValueAtTime(note.freq, audioContext.currentTime + note.start);
                    gain.gain.setValueAtTime(0, audioContext.currentTime + note.start);
                    gain.gain.linearRampToValueAtTime(0.2, audioContext.currentTime + note.start + 0.02);
                    gain.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + note.start + note.duration);
                    
                    osc.start(audioContext.currentTime + note.start);
                    osc.stop(audioContext.currentTime + note.start + note.duration);
                });
                
            } else if (type === 'lose') {
                // ×× ×’×™× ×ª ×”×¤×¡×“ ×¢×“×™× ×”
                const melody = [
                    {freq: 523.25, start: 0, duration: 0.2},
                    {freq: 466.16, start: 0.18, duration: 0.2},
                    {freq: 415.30, start: 0.36, duration: 0.2},
                    {freq: 349.23, start: 0.54, duration: 0.3}
                ];
                
                melody.forEach(note => {
                    const osc = audioContext.createOscillator();
                    const gain = audioContext.createGain();
                    
                    osc.type = 'sine';
                    osc.connect(gain);
                    gain.connect(audioContext.destination);
                    
                    osc.frequency.setValueAtTime(note.freq, audioContext.currentTime + note.start);
                    gain.gain.setValueAtTime(0, audioContext.currentTime + note.start);
                    gain.gain.linearRampToValueAtTime(0.15, audioContext.currentTime + note.start + 0.02);
                    gain.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + note.start + note.duration);
                    
                    osc.start(audioContext.currentTime + note.start);
                    osc.stop(audioContext.currentTime + note.start + note.duration);
                });
            }
        }

        // Allow Enter key to submit answer
        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('answerInput').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    checkAnswer();
                }
            });
        });
    </script>
</body>
</html>

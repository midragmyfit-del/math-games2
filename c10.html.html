<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>×©×™×¢×•×¨ ××“×™×“×” - ×›×™×ª×” ×’'</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        h1 {
            color: #667eea;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
        }
        
        .main-menu {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        .menu-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        .menu-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
        }
        .menu-card h2 {
            margin-bottom: 15px;
            font-size: 2.2em;
            font-weight: 900;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        .menu-card p {
            font-size: 1.3em;
            opacity: 0.95;
            font-weight: 600;
        }
        .menu-card .emoji {
            font-size: 3.5em;
            margin-bottom: 10px;
        }
        .menu-card.lesson {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }
        .menu-card.game1 {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }
        .menu-card.game2 {
            background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
        }
        .menu-card.game3 {
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
        }
        
        .back-btn {
            background: #6b7280;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 10px;
            font-size: 16px;
            cursor: pointer;
            margin-bottom: 20px;
            transition: all 0.3s;
        }
        .back-btn:hover {
            background: #4b5563;
        }
        
        .screen {
            display: none;
        }
        .screen.active {
            display: block;
        }
        
        .lesson-section {
            background: #f8f9ff;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            border-right: 5px solid #667eea;
        }
        .lesson-section h2 {
            color: #764ba2;
            margin-bottom: 15px;
        }
        .unit-box {
            background: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .conversion {
            background: #fffbeb;
            padding: 10px;
            margin: 5px 0;
            border-radius: 8px;
            font-weight: bold;
            color: #92400e;
        }
        .game-section {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin: 30px 0;
        }
        .game-section h2 {
            margin-bottom: 20px;
            text-align: center;
        }
        .question-box {
            background: white;
            color: #333;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
        }
        .options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 15px;
        }
        button {
            background: #667eea;
            color: white;
            border: none;
            padding: 15px;
            border-radius: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
        }
        button:hover {
            background: #764ba2;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        button:active {
            transform: translateY(0);
        }
        button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }
        .correct {
            background: #10b981 !important;
        }
        .wrong {
            background: #ef4444 !important;
        }
        .score {
            text-align: center;
            font-size: 24px;
            font-weight: bold;
            margin: 20px 0;
            padding: 15px;
            background: rgba(255,255,255,0.2);
            border-radius: 10px;
        }
        .round-counter {
            text-align: center;
            font-size: 20px;
            font-weight: bold;
            margin: 15px 0;
            padding: 10px;
            background: rgba(255,255,255,0.15);
            border-radius: 10px;
        }
        .input-game {
            margin: 15px 0;
        }
        input[type="number"] {
            padding: 12px;
            font-size: 18px;
            border: 2px solid #667eea;
            border-radius: 8px;
            width: 150px;
            text-align: center;
        }
        input[type="number"]::-webkit-inner-spin-button,
        input[type="number"]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        input[type="number"] {
            -moz-appearance: textfield;
        }
        .check-btn {
            margin-right: 10px;
        }
        .feedback {
            margin-top: 15px;
            padding: 20px;
            border-radius: 10px;
            font-weight: bold;
            text-align: center;
            display: none;
            font-size: 1.4em;
            line-height: 1.6;
        }
        .feedback.show {
            display: block;
        }
        .game1-feedback {
            margin-top: 15px;
            padding: 20px;
            border-radius: 10px;
            font-weight: bold;
            text-align: center;
            display: none;
            color: white;
            font-size: 1.4em;
            line-height: 1.6;
        }
        .game1-feedback.show {
            display: block;
        }
        .emoji {
            font-size: 2.5em;
            display: block;
            margin-bottom: 8px;
        }
        .game-over {
            background: white;
            color: #333;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            margin: 20px 0;
        }
        .game-over h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 2em;
        }
        .game-over .final-score {
            font-size: 3em;
            color: #f5576c;
            margin: 20px 0;
        }
        .new-round-btn {
            background: #10b981;
            font-size: 18px;
            padding: 18px 35px;
            margin-top: 15px;
        }
        .new-round-btn:hover {
            background: #059669;
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="home-screen" class="screen active">
            <h1>ğŸ“š ×œ×•××“×™× ××“×™×“×” - ×›×™×ª×” ×’' ğŸ“</h1>
            <div class="main-menu">
                <div class="menu-card lesson" onclick="showScreen('lesson-screen')">
                    <div class="emoji">ğŸ“–</div>
                    <h2>×©×™×¢×•×¨</h2>
                    <p>×œ××“ ×¢×œ ××•×¨×š, ××©×§×œ, × ×¤×— ×•×”×™×§×£</p>
                </div>
                <div class="menu-card game1" onclick="showScreen('game1-screen')">
                    <div class="emoji">ğŸ®</div>
                    <h2>××©×—×§ 1</h2>
                    <p>×”××¨×•×ª - ×‘×—×™×¨×” ××¨×•×‘×”</p>
                </div>
                <div class="menu-card game2" onclick="showScreen('game2-screen')">
                    <div class="emoji">âœï¸</div>
                    <h2>××©×—×§ 2</h2>
                    <p>×”×©×œ× ××ª ×”×”××¨×”</p>
                </div>
                <div class="menu-card game3" onclick="showScreen('game3-screen')">
                    <div class="emoji">ğŸ†</div>
                    <h2>××©×—×§ 3</h2>
                    <p>×—×™×©×•×‘ ×”×™×§×£</p>
                </div>
            </div>
        </div>

        <div id="lesson-screen" class="screen">
            <button class="back-btn" onclick="showScreen('home-screen')">â† ×—×–×¨×” ×œ×ª×¤×¨×™×˜</button>
            <h1>ğŸ“ ×©×™×¢×•×¨ ××“×™×“×” âš–ï¸</h1>
            
            <div class="lesson-section">
                <h2>ğŸ”· ××•×¨×š</h2>
                <div class="unit-box">
                    <strong>×¡× ×˜×™××˜×¨ (×¡"×)</strong> - ×™×—×™×“×” ×§×˜× ×” ×œ××“×™×“×ª ×¢×¤×¨×•×Ÿ, ×¡×¤×¨, ×˜×œ×¤×•×Ÿ
                </div>
                <div class="unit-box">
                    <strong>××˜×¨ (×')</strong> - ×™×—×™×“×” ×‘×™× ×•× ×™×ª ×œ××“×™×“×ª ×’×•×‘×” ××“×, ×—×“×¨, ×©×•×œ×—×Ÿ
                </div>
                <div class="unit-box">
                    <strong>×§×™×œ×•××˜×¨ (×§"×)</strong> - ×™×—×™×“×” ×’×“×•×œ×” ×œ××“×™×“×ª ××¨×—×§×™× ×‘×™×Ÿ ×¢×™×™×¨×•×ª
                </div>
                <div class="conversion">ğŸ“ 1 ××˜×¨ = 100 ×¡"×</div>
                <div class="conversion">ğŸ“ 1 ×§"× = 1,000 ××˜×¨</div>
            </div>

            <div class="lesson-section">
                <h2>âš–ï¸ ××©×§×œ</h2>
                <div class="unit-box">
                    <strong>×’×¨× (×’×¨')</strong> - ×™×—×™×“×” ×§×˜× ×” ×œ××“×™×“×ª ×¢×•×’×™×™×”, ×ª×¤×•×—, ×¢×™×¤×¨×•×Ÿ
                </div>
                <div class="unit-box">
                    <strong>×§×™×œ×•×’×¨× (×§"×’)</strong> - ×™×—×™×“×” ×’×“×•×œ×” ×œ××“×™×“×ª ××“×, ×ª×™×§, ×©×§ ×ª×¤×•×—×™ ××“××”
                </div>
                <div class="conversion">âš–ï¸ 1 ×§×™×œ×•×’×¨× = 1,000 ×’×¨×</div>
            </div>

            <div class="lesson-section">
                <h2>ğŸ¥¤ × ×¤×—</h2>
                <div class="unit-box">
                    <strong>××™×œ×™×œ×™×˜×¨ (×"×œ)</strong> - ×™×—×™×“×” ×§×˜× ×” ×œ××“×™×“×ª ×›×¤×™×ª, ×›×•×¡ ×§×˜× ×”
                </div>
                <div class="unit-box">
                    <strong>×œ×™×˜×¨ (×œ')</strong> - ×™×—×™×“×” ×’×“×•×œ×” ×œ××“×™×“×ª ×‘×§×‘×•×§, ×§× ×§×Ÿ
                </div>
                <div class="conversion">ğŸ¥¤ 1 ×œ×™×˜×¨ = 1,000 ×"×œ</div>
            </div>

            <div class="lesson-section">
                <h2>ğŸ“Š ×”×™×§×£</h2>
                <div class="unit-box">
                    <strong>×”×™×§×£</strong> = ×¡×›×•× ×›×œ ×”×¦×œ×¢×•×ª ×©×œ ×¦×•×¨×”
                </div>
                
                <div class="unit-box" style="background: #e0f2fe;">
                    <strong style="font-size: 1.2em;">â¬› ×“×•×’××” 1 - ×¨×™×‘×•×¢:</strong><br><br>
                    ×¨×™×‘×•×¢ ×¢× ×¦×œ×¢ 5 ×¡"×<br>
                    ×œ×¨×™×‘×•×¢ ×™×© 4 ×¦×œ×¢×•×ª ×©×•×•×ª<br><br>
                    <strong>×—×™×©×•×‘:</strong><br>
                    ×”×™×§×£ = 5 + 5 + 5 + 5 = <strong style="color: #0ea5e9; font-size: 1.3em;">20 ×¡"×</strong><br>
                    <strong>××• ×‘×§×™×¦×•×¨:</strong> ×”×™×§×£ = 5 Ã— 4 = <strong style="color: #0ea5e9; font-size: 1.3em;">20 ×¡"×</strong>
                </div>
                
                <div class="unit-box" style="background: #fef3c7;">
                    <strong style="font-size: 1.2em;">ğŸ“ ×“×•×’××” 2 - ××œ×‘×Ÿ:</strong><br><br>
                    ××œ×‘×Ÿ ×©××•×¨×›×• 8 ××˜×¨ ×•×¨×•×—×‘×• 3 ××˜×¨<br>
                    ×œ××œ×‘×Ÿ ×™×© 2 ×¦×œ×¢×•×ª ××¨×•×›×•×ª ×•-2 ×¦×œ×¢×•×ª ×§×¦×¨×•×ª<br><br>
                    <strong>×—×™×©×•×‘:</strong><br>
                    ×”×™×§×£ = 8 + 3 + 8 + 3 = <strong style="color: #d97706; font-size: 1.3em;">22 ××˜×¨</strong><br>
                    <strong>××• ×‘×§×™×¦×•×¨:</strong> ×”×™×§×£ = (8 + 3) Ã— 2 = <strong style="color: #d97706; font-size: 1.3em;">22 ××˜×¨</strong>
                </div>
                
                <div class="unit-box" style="background: #dcfce7;">
                    <strong style="font-size: 1.2em;">ğŸ”º ×“×•×’××” 3 - ××©×•×œ×© ×©×•×•×” ×¦×œ×¢×•×ª:</strong><br><br>
                    ××©×•×œ×© ×©×•×•×” ×¦×œ×¢×•×ª ×©×›×œ ×¦×œ×¢ ×©×œ×• 6 ×¡"×<br>
                    ×œ××©×•×œ×© ×©×•×•×” ×¦×œ×¢×•×ª ×™×© 3 ×¦×œ×¢×•×ª ×©×•×•×ª<br><br>
                    <strong>×—×™×©×•×‘:</strong><br>
                    ×”×™×§×£ = 6 + 6 + 6 = <strong style="color: #16a34a; font-size: 1.3em;">18 ×¡"×</strong><br>
                    <strong>××• ×‘×§×™×¦×•×¨:</strong> ×”×™×§×£ = 6 Ã— 3 = <strong style="color: #16a34a; font-size: 1.3em;">18 ×¡"×</strong>
                </div>
                
                <div class="conversion">ğŸ“ ×–×›×•×¨: ×”×™×§×£ = ×¡×›×•× ×›×œ ×”×¦×œ×¢×•×ª!</div>
            </div>
        </div>

        <div id="game1-screen" class="screen">
            <button class="back-btn" onclick="showScreen('home-screen')">â† ×—×–×¨×” ×œ×ª×¤×¨×™×˜</button>
            <div class="game-section">
                <h2>ğŸ® ××©×—×§ 1: ×”××¨×•×ª</h2>
                <div class="score">× ×™×§×•×“: <span id="score1">0</span></div>
                <div class="round-counter">×¡×™×‘×•×‘: <span id="round1">1</span> / 12</div>
                <div id="game1" class="question-box"></div>
                <div class="options" id="options1"></div>
                <div class="game1-feedback" id="feedback1"></div>
                <div id="game1-over" style="display:none;" class="game-over">
                    <h2>ğŸ‰ ×›×œ ×”×›×‘×•×“! ×¡×™×™××ª!</h2>
                    <div class="final-score" id="final-score1"></div>
                    <button class="new-round-btn" onclick="playClickSound(); resetGame1();">ğŸ”„ ×¡×™×‘×•×‘ × ×•×¡×£</button>
                    <button class="back-btn" onclick="showScreen('home-screen')" style="margin-right: 10px;">â† ×—×–×¨×” ×œ×ª×¤×¨×™×˜</button>
                </div>
            </div>
        </div>

        <div id="game2-screen" class="screen">
            <button class="back-btn" onclick="showScreen('home-screen')">â† ×—×–×¨×” ×œ×ª×¤×¨×™×˜</button>
            <div class="game-section" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                <h2>ğŸ¯ ××©×—×§ 2: ×”×©×œ× ××ª ×”×”××¨×”</h2>
                <div class="score">× ×™×§×•×“: <span id="score2">0</span></div>
                <div class="round-counter">×¡×™×‘×•×‘: <span id="round2">1</span> / 12</div>
                <div id="game2" class="question-box"></div>
                <div class="feedback" id="feedback2"></div>
                <div id="game2-over" style="display:none;" class="game-over">
                    <h2>ğŸ‰ ×›×œ ×”×›×‘×•×“! ×¡×™×™××ª!</h2>
                    <div class="final-score" id="final-score2"></div>
                    <button class="new-round-btn" onclick="playClickSound(); resetGame2();">ğŸ”„ ×¡×™×‘×•×‘ × ×•×¡×£</button>
                    <button class="back-btn" onclick="showScreen('home-screen')" style="margin-right: 10px;">â† ×—×–×¨×” ×œ×ª×¤×¨×™×˜</button>
                </div>
            </div>
        </div>

        <div id="game3-screen" class="screen">
            <button class="back-btn" onclick="showScreen('home-screen')">â† ×—×–×¨×” ×œ×ª×¤×¨×™×˜</button>
            <div class="game-section" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);">
                <h2>ğŸ† ××©×—×§ 3: ×—×™×©×•×‘ ×”×™×§×£</h2>
                <div class="score">× ×™×§×•×“: <span id="score3">0</span></div>
                <div class="round-counter">×¡×™×‘×•×‘: <span id="round3">1</span> / 12</div>
                <div id="game3" class="question-box"></div>
                <div class="feedback" id="feedback3"></div>
                <div id="game3-over" style="display:none;" class="game-over">
                    <h2>ğŸ‰ ×›×œ ×”×›×‘×•×“! ×¡×™×™××ª!</h2>
                    <div class="final-score" id="final-score3"></div>
                    <button class="new-round-btn" onclick="playClickSound(); resetGame3();">ğŸ”„ ×¡×™×‘×•×‘ × ×•×¡×£</button>
                    <button class="back-btn" onclick="showScreen('home-screen')" style="margin-right: 10px;">â† ×—×–×¨×” ×œ×ª×¤×¨×™×˜</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let audioContext;
        let isChecking2 = false;
        let isChecking3 = false;
        
        function initAudio() {
            if (!audioContext) {
                try {
                    audioContext = new (window.AudioContext || window.webkitAudioContext)();
                } catch (e) {
                    console.log('Audio not supported');
                }
            }
        }
        
        function playClickSound() {
            initAudio();
            if (!audioContext) return;
            
            try {
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                oscillator.frequency.value = 800;
                oscillator.type = 'sine';
                gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 0.1);
            } catch (e) {
                console.log('Sound error');
            }
        }
        
        function playCorrectSound() {
            initAudio();
            if (!audioContext) return;
            
            try {
                const times = [0, 0.12, 0.24];
                const frequencies = [523.25, 659.25, 783.99];
                
                for (let i = 0; i < times.length; i++) {
                    (function(time, freq) {
                        const oscillator = audioContext.createOscillator();
                        const gainNode = audioContext.createGain();
                        
                        oscillator.connect(gainNode);
                        gainNode.connect(audioContext.destination);
                        
                        oscillator.frequency.value = freq;
                        oscillator.type = 'sine';
                        
                        gainNode.gain.setValueAtTime(0, audioContext.currentTime + time);
                        gainNode.gain.linearRampToValueAtTime(0.12, audioContext.currentTime + time + 0.04);
                        gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + time + 0.3);
                        
                        oscillator.start(audioContext.currentTime + time);
                        oscillator.stop(audioContext.currentTime + time + 0.3);
                    })(times[i], frequencies[i]);
                }
            } catch (e) {
                console.log('Sound error');
            }
        }
        
        function playWrongSound() {
            initAudio();
            if (!audioContext) return;
            
            try {
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.frequency.value = 200;
                oscillator.type = 'sine';
                
                gainNode.gain.setValueAtTime(0, audioContext.currentTime);
                gainNode.gain.linearRampToValueAtTime(0.08, audioContext.currentTime + 0.03);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.35);
                
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 0.35);
            } catch (e) {
                console.log('Sound error');
            }
        }

        function showScreen(screenId) {
            playClickSound();
            document.querySelectorAll('.screen').forEach(function(s) {
                s.classList.remove('active');
            });
            document.getElementById(screenId).classList.add('active');
            
            if (screenId === 'game1-screen') {
                resetGame1();
            } else if (screenId === 'game2-screen') {
                resetGame2();
            } else if (screenId === 'game3-screen') {
                resetGame3();
            }
        }

        let score1 = 0, round1 = 1, currentAnswer1 = 0;
        let score2 = 0, round2 = 1, currentAnswer2 = 0;
        let score3 = 0, round3 = 1, currentAnswer3 = 0;

        const conversionQuestions = [
            {q: "×›××” ×¡\"× ×™×© ×‘-3 ××˜×¨?", a: 300, options: [30, 300, 3000, 3]},
            {q: "×›××” ××˜×¨ ×™×© ×‘-500 ×¡\"×?", a: 5, options: [5, 50, 500, 0.5]},
            {q: "×›××” ×’×¨× ×™×© ×‘-2 ×§×™×œ×•×’×¨×?", a: 2000, options: [20, 200, 2000, 20000]},
            {q: "×›××” ×\"×œ ×™×© ×‘-4 ×œ×™×˜×¨?", a: 4000, options: [40, 400, 4000, 40000]},
            {q: "×›××” ×§\"×’ ×™×© ×‘-5000 ×’×¨×?", a: 5, options: [5, 50, 500, 0.5]},
            {q: "×›××” ×œ×™×˜×¨ ×™×© ×‘-3000 ×\"×œ?", a: 3, options: [3, 30, 300, 0.3]},
            {q: "×›××” ×¡\"× ×™×© ×‘-7 ××˜×¨?", a: 700, options: [7, 70, 700, 7000]},
            {q: "×›××” ×’×¨× ×™×© ×‘-1.5 ×§×™×œ×•×’×¨×?", a: 1500, options: [15, 150, 1500, 15000]},
            {q: "×›××” ××˜×¨ ×™×© ×‘-250 ×¡\"×?", a: 2.5, options: [2.5, 25, 250, 0.25]},
            {q: "×›××” ×\"×œ ×™×© ×‘-2.5 ×œ×™×˜×¨?", a: 2500, options: [25, 250, 2500, 25000]},
            {q: "×›××” ×§\"×’ ×™×© ×‘-3500 ×’×¨×?", a: 3.5, options: [3.5, 35, 350, 0.35]},
            {q: "×›××” ×¡\"× ×™×© ×‘-4.5 ××˜×¨?", a: 450, options: [45, 450, 4500, 4.5]}
        ];

        const fillInQuestions = [
            {q: "8 ××˜×¨ = ___ ×¡\"×", a: 800},
            {q: "6000 ×’×¨× = ___ ×§\"×’", a: 6},
            {q: "2500 ×\"×œ = ___ ×œ×™×˜×¨", a: 2.5},
            {q: "450 ×¡\"× = ___ ××˜×¨", a: 4.5},
            {q: "3.5 ×§\"×’ = ___ ×’×¨×", a: 3500},
            {q: "9 ×œ×™×˜×¨ = ___ ×\"×œ", a: 9000},
            {q: "1200 ×¡\"× = ___ ××˜×¨", a: 12},
            {q: "4500 ×’×¨× = ___ ×§\"×’", a: 4.5},
            {q: "7.5 ×œ×™×˜×¨ = ___ ×\"×œ", a: 7500},
            {q: "350 ×¡\"× = ___ ××˜×¨", a: 3.5},
            {q: "2.8 ×§\"×’ = ___ ×’×¨×", a: 2800},
            {q: "6500 ×\"×œ = ___ ×œ×™×˜×¨", a: 6.5}
        ];

        const perimeterQuestions = [
            {q: "×—×©×‘ ××ª ×”×™×§×£ ×¨×™×‘×•×¢ ×©×¦×œ×¢×• 6 ×¡\"×", a: 24},
            {q: "×—×©×‘ ××ª ×”×™×§×£ ××œ×‘×Ÿ ×©××•×¨×›×• 8 ××˜×¨ ×•×¨×•×—×‘×• 5 ××˜×¨", a: 26},
            {q: "×—×©×‘ ××ª ×”×™×§×£ ××©×•×œ×© ×©×•×•×” ×¦×œ×¢×•×ª ×©×¦×œ×¢×• 7 ×¡\"×", a: 21},
            {q: "×—×©×‘ ××ª ×”×™×§×£ ×¨×™×‘×•×¢ ×©×¦×œ×¢×• 9 ××˜×¨", a: 36},
            {q: "×—×©×‘ ××ª ×”×™×§×£ ××œ×‘×Ÿ ×©××•×¨×›×• 12 ×¡\"× ×•×¨×•×—×‘×• 4 ×¡\"×", a: 32},
            {q: "×—×©×‘ ××ª ×”×™×§×£ ×¨×™×‘×•×¢ ×©×¦×œ×¢×• 11 ××˜×¨", a: 44},
            {q: "×—×©×‘ ××ª ×”×™×§×£ ××©×•×œ×© ×©×•×•×” ×¦×œ×¢×•×ª ×©×¦×œ×¢×• 9 ×¡\"×", a: 27},
            {q: "×—×©×‘ ××ª ×”×™×§×£ ××œ×‘×Ÿ ×©××•×¨×›×• 15 ××˜×¨ ×•×¨×•×—×‘×• 7 ××˜×¨", a: 44},
            {q: "×—×©×‘ ××ª ×”×™×§×£ ×¨×™×‘×•×¢ ×©×¦×œ×¢×• 8 ×¡\"×", a: 32},
            {q: "×—×©×‘ ××ª ×”×™×§×£ ××œ×‘×Ÿ ×©××•×¨×›×• 10 ××˜×¨ ×•×¨×•×—×‘×• 6 ××˜×¨", a: 32},
            {q: "×—×©×‘ ××ª ×”×™×§×£ ××©×•×œ×© ×©×•×•×” ×¦×œ×¢×•×ª ×©×¦×œ×¢×• 12 ×¡\"×", a: 36},
            {q: "×—×©×‘ ××ª ×”×™×§×£ ×¨×™×‘×•×¢ ×©×¦×œ×¢×• 13 ××˜×¨", a: 52}
        ];

        function loadGame1() {
            if (round1 > 12) {
                endGame1();
                return;
            }
            const q = conversionQuestions[round1 - 1];
            currentAnswer1 = q.a;
            document.getElementById('game1').innerHTML = '<h3>' + q.q + '</h3>';
            const optionsHtml = q.options.map(function(opt) {
                return '<button onclick="checkAnswer1(' + opt + ')">' + opt + '</button>';
            }).join('');
            document.getElementById('options1').innerHTML = optionsHtml;
            document.getElementById('feedback1').classList.remove('show');
        }

        function checkAnswer1(answer) {
            const feedback = document.getElementById('feedback1');
            const buttons = document.getElementById('options1').getElementsByTagName('button');
            
            for (let i = 0; i < buttons.length; i++) {
                buttons[i].disabled = true;
                if (parseFloat(buttons[i].textContent) === currentAnswer1) {
                    buttons[i].classList.add('correct');
                }
            }
            
            if (answer === currentAnswer1) {
                playCorrectSound();
                score1 += 10;
                document.getElementById('score1').textContent = score1;
                feedback.style.background = '#10b981';
                feedback.innerHTML = '<span class="emoji">ğŸ‰</span> ×ª×©×•×‘×” × ×›×•× ×”!';
                feedback.classList.add('show');
                setTimeout(function() {
                    feedback.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }, 100);
            } else {
                playWrongSound();
                for (let i = 0; i < buttons.length; i++) {
                    if (parseFloat(buttons[i].textContent) === answer) {
                        buttons[i].classList.add('wrong');
                    }
                }
                feedback.style.background = '#ef4444';
                feedback.innerHTML = '<span class="emoji">âŒ</span> ×ª×©×•×‘×” ×œ× × ×›×•× ×”<br>×”×ª×©×•×‘×” ×”× ×›×•× ×” ×”×™×: ' + currentAnswer1;
                feedback.classList.add('show');
                setTimeout(function() {
                    feedback.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }, 100);
            }
            
            round1++;
            document.getElementById('round1').textContent = round1 > 12 ? 12 : round1;
            
            setTimeout(function() {
                feedback.classList.remove('show');
                loadGame1();
            }, 2000);
        }

        function endGame1() {
            document.getElementById('game1').style.display = 'none';
            document.getElementById('options1').style.display = 'none';
            document.getElementById('game1-over').style.display = 'block';
            document.getElementById('final-score1').textContent = score1 + ' × ×§×•×“×•×ª';
        }

        function resetGame1() {
            score1 = 0;
            round1 = 1;
            document.getElementById('score1').textContent = '0';
            document.getElementById('round1').textContent = '1';
            document.getElementById('game1').style.display = 'block';
            document.getElementById('options1').style.display = 'grid';
            document.getElementById('game1-over').style.display = 'none';
            document.getElementById('feedback1').classList.remove('show');
            loadGame1();
        }

        function loadGame2() {
            if (round2 > 12) {
                endGame2();
                return;
            }
            const q = fillInQuestions[round2 - 1];
            currentAnswer2 = q.a;
            const feedback = document.getElementById('feedback2');
            feedback.classList.remove('show');
            feedback.style.display = 'none';
            
            document.getElementById('game2').innerHTML = `
                <h3>${q.q}</h3>
                <div class="input-game">
                    <input type="number" id="answer2" placeholder="×”×ª×©×•×‘×” ×©×œ×š" step="0.1">
                    <button class="check-btn" onclick="checkAnswer2()">×‘×“×•×§ âœ“</button>
                </div>
            `;
            isChecking2 = false;
        }

        function checkAnswer2() {
            if (isChecking2) return;
            
            const userAnswer = parseFloat(document.getElementById('answer2').value);
            const feedback = document.getElementById('feedback2');
            
            if (isNaN(userAnswer)) {
                feedback.style.background = '#ef4444';
                feedback.innerHTML = '<span class="emoji">âš ï¸</span> ×× × ×”×›× ×¡ ×ª×©×•×‘×”!';
                feedback.classList.add('show');
                playWrongSound();
                return;
            }
            
            isChecking2 = true;
            
            if (userAnswer === currentAnswer2) {
                playCorrectSound();
                feedback.style.background = '#10b981';
                feedback.style.display = 'block';
                feedback.innerHTML = '<span class="emoji">ğŸ‰</span> ×ª×©×•×‘×” × ×›×•× ×”! ×›×œ ×”×›×‘×•×“!';
                score2 += 10;
                document.getElementById('score2').textContent = score2;
                feedback.classList.add('show');
                setTimeout(function() {
                    feedback.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }, 100);
                round2++;
                document.getElementById('round2').textContent = round2 > 12 ? 12 : round2;
                setTimeout(function() {
                    loadGame2();
                }, 2000);
            } else {
                playWrongSound();
                feedback.style.background = '#ef4444';
                feedback.style.display = 'block';
                feedback.innerHTML = '<span class="emoji">âŒ</span> ×ª×©×•×‘×” ×œ× × ×›×•× ×”<br>×”×ª×©×•×‘×” ×”× ×›×•× ×” ×”×™×: ' + currentAnswer2;
                feedback.classList.add('show');
                setTimeout(function() {
                    feedback.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }, 100);
                round2++;
                document.getElementById('round2').textContent = round2 > 12 ? 12 : round2;
                setTimeout(function() {
                    loadGame2();
                }, 3000);
            }
        }

        function endGame2() {
            document.getElementById('game2').style.display = 'none';
            document.getElementById('feedback2').style.display = 'none';
            document.getElementById('game2-over').style.display = 'block';
            document.getElementById('final-score2').textContent = score2 + ' × ×§×•×“×•×ª';
        }

        function resetGame2() {
            score2 = 0;
            round2 = 1;
            isChecking2 = false;
            document.getElementById('score2').textContent = '0';
            document.getElementById('round2').textContent = '1';
            document.getElementById('game2').style.display = 'block';
            document.getElementById('feedback2').style.display = 'block';
            document.getElementById('feedback2').classList.remove('show');
            document.getElementById('game2-over').style.display = 'none';
            loadGame2();
        }

        function loadGame3() {
            if (round3 > 12) {
                endGame3();
                return;
            }
            const q = perimeterQuestions[round3 - 1];
            currentAnswer3 = q.a;
            const feedback = document.getElementById('feedback3');
            feedback.classList.remove('show');
            feedback.style.display = 'none';
            
            document.getElementById('game3').innerHTML = `
                <h3>${q.q}</h3>
                <div class="input-game">
                    <input type="number" id="answer3" placeholder="×”×ª×©×•×‘×” ×©×œ×š">
                    <button class="check-btn" onclick="checkAnswer3()">×‘×“×•×§ âœ“</button>
                </div>
            `;
            isChecking3 = false;
        }

        function checkAnswer3() {
            if (isChecking3) return;
            
            const userAnswer = parseFloat(document.getElementById('answer3').value);
            const feedback = document.getElementById('feedback3');
            
            if (isNaN(userAnswer)) {
                feedback.style.background = '#ef4444';
                feedback.innerHTML = '<span class="emoji">âš ï¸</span> ×× × ×”×›× ×¡ ×ª×©×•×‘×”!';
                feedback.classList.add('show');
                playWrongSound();
                return;
            }
            
            isChecking3 = true;
            
            if (userAnswer === currentAnswer3) {
                playCorrectSound();
                feedback.style.background = '#10b981';
                feedback.style.display = 'block';
                feedback.innerHTML = '<span class="emoji">ğŸ†</span> ×ª×©×•×‘×” × ×›×•× ×”! ××¢×•×œ×”!';
                score3 += 10;
                document.getElementById('score3').textContent = score3;
                feedback.classList.add('show');
                setTimeout(function() {
                    feedback.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }, 100);
                round3++;
                document.getElementById('round3').textContent = round3 > 12 ? 12 : round3;
                setTimeout(function() {
                    loadGame3();
                }, 2000);
            } else {
                playWrongSound();
                feedback.style.background = '#ef4444';
                feedback.style.display = 'block';
                feedback.innerHTML = '<span class="emoji">âŒ</span> ×ª×©×•×‘×” ×œ× × ×›×•× ×”<br>×”×ª×©×•×‘×” ×”× ×›×•× ×” ×”×™×: ' + currentAnswer3;
                feedback.classList.add('show');
                setTimeout(function() {
                    feedback.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }, 100);
                round3++;
                document.getElementById('round3').textContent = round3 > 12 ? 12 : round3;
                setTimeout(function() {
                    loadGame3();
                }, 3000);
            }
        }

        function endGame3() {
            document.getElementById('game3').style.display = 'none';
            document.getElementById('feedback3').style.display = 'none';
            document.getElementById('game3-over').style.display = 'block';
            document.getElementById('final-score3').textContent = score3 + ' × ×§×•×“×•×ª';
        }

        function resetGame3() {
            score3 = 0;
            round3 = 1;
            isChecking3 = false;
            document.getElementById('score3').textContent = '0';
            document.getElementById('round3').textContent = '1';
            document.getElementById('game3').style.display = 'block';
            document.getElementById('feedback3').style.display = 'block';
            document.getElementById('feedback3').classList.remove('show');
            document.getElementById('game3-over').style.display = 'none';
            loadGame3();
        }

        loadGame1();
        loadGame2();
        loadGame3();
        
        document.addEventListener('wheel', function(e) {
            if (document.activeElement && document.activeElement.type === 'number') {
                document.activeElement.blur();
            }
        });
    </script>
</body>
</html>
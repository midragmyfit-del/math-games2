<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>×—×©×™×‘×” ××œ×’×‘×¨×™×ª - ×›×™×ª×” ×“'</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 20px; }
        .container { max-width: 1100px; margin: 0 auto; background: white; border-radius: 25px; padding: 40px; box-shadow: 0 25px 70px rgba(0,0,0,0.4); }
        h1 { color: #667eea; text-align: center; margin-bottom: 15px; font-size: 3em; text-shadow: 2px 2px 4px rgba(0,0,0,0.1); }
        .subtitle { text-align: center; color: #666; margin-bottom: 35px; font-size: 1.3em; }
        .tabs { display: flex; gap: 12px; margin-bottom: 35px; flex-wrap: wrap; justify-content: center; }
        .tab { padding: 16px 28px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border: none; border-radius: 12px; cursor: pointer; font-size: 1.15em; font-weight: bold; transition: all 0.3s; box-shadow: 0 4px 6px rgba(0,0,0,0.1); color: white; }
        .tab:hover { transform: translateY(-3px); box-shadow: 0 6px 12px rgba(0,0,0,0.15); background: linear-gradient(135deg, #7c8ef5 0%, #8a5eb8 100%); }
        .tab.active { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); transform: scale(1.05); }
        .content { display: none; }
        .content.active { display: block; animation: fadeIn 0.5s; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
        .lesson { background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); padding: 30px; border-radius: 20px; margin-bottom: 25px; box-shadow: 0 8px 16px rgba(0,0,0,0.1); }
        .lesson h2 { color: #ff6b6b; margin-bottom: 20px; font-size: 1.8em; }
        .lesson p { font-size: 1.2em; line-height: 1.8; margin-bottom: 15px; color: #333; }
        .example { background: white; padding: 20px; border-right: 5px solid #667eea; margin: 20px 0; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.08); }
        .example h3 { color: #f093fb; margin-bottom: 12px; font-size: 1.3em; }
        .game { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 30px; border-radius: 20px; margin-bottom: 25px; color: white; box-shadow: 0 10px 25px rgba(0,0,0,0.2); }
        .game h2 { margin-bottom: 20px; font-size: 2em; }
        .question-counter { text-align: center; font-size: 1.3em; margin: 15px 0; color: #fff; background: rgba(255,255,255,0.2); padding: 10px; border-radius: 10px; }
        .score { text-align: center; font-size: 1.8em; margin: 25px 0; color: #fff; font-weight: bold; background: rgba(255,255,255,0.2); padding: 15px; border-radius: 12px; }
        .problem-display { font-size: 1.5em; text-align: center; margin: 30px 0; padding: 25px; background: rgba(255,255,255,0.3); border-radius: 15px; font-weight: bold; line-height: 1.6; }
        input[type="number"] { width: 200px; padding: 15px; font-size: 1.8em; border: 4px solid white; border-radius: 10px; text-align: center; margin: 10px; font-weight: bold; }
        input[type="number"]::-webkit-inner-spin-button,
        input[type="number"]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }
        input[type="number"] { -moz-appearance: textfield; }
        button { background: white; color: #667eea; border: none; padding: 14px 35px; font-size: 1.2em; border-radius: 10px; cursor: pointer; transition: all 0.3s; font-weight: bold; box-shadow: 0 6px 12px rgba(0,0,0,0.2); margin: 5px; }
        button:hover { transform: translateY(-2px); box-shadow: 0 8px 16px rgba(0,0,0,0.3); }
        .feedback { padding: 20px; border-radius: 12px; margin-top: 20px; font-size: 1.3em; text-align: center; font-weight: bold; }
        .correct { background: #51cf66; color: white; }
        .incorrect { background: #ff6b6b; color: white; }
        .controls { text-align: center; margin: 25px 0; }
        .round-complete { background: linear-gradient(135deg, #51cf66 0%, #37b24d 100%); padding: 40px; border-radius: 20px; text-align: center; color: white; margin: 20px 0; }
        .round-complete h3 { font-size: 2.5em; margin-bottom: 20px; }
        .round-complete p { font-size: 1.5em; margin: 15px 0; }
        .new-round-btn { background: white; color: #51cf66; font-size: 1.5em; padding: 20px 40px; margin-top: 20px; border: none; border-radius: 15px; cursor: pointer; font-weight: bold; box-shadow: 0 8px 16px rgba(0,0,0,0.2); transition: all 0.3s; }
        .new-round-btn:hover { transform: scale(1.05); box-shadow: 0 12px 24px rgba(0,0,0,0.3); }
        .steps { background: rgba(255,255,255,0.2); padding: 20px; border-radius: 10px; margin: 20px 0; text-align: right; }
        .steps p { margin: 10px 0; font-size: 1.1em; }
        .formula-box { background: #fff3cd; border: 3px solid #ffc107; padding: 15px; border-radius: 10px; margin: 15px 0; text-align: center; font-size: 1.3em; font-weight: bold; color: #856404; }
        .pattern-visual { background: white; padding: 30px; border-radius: 15px; margin: 20px 0; text-align: center; }
        .pattern-row { display: flex; justify-content: center; align-items: center; gap: 15px; margin: 20px 0; font-size: 2em; font-weight: bold; }
        .pattern-item { width: 60px; height: 60px; background: linear-gradient(135deg, #667eea, #764ba2); border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-size: 1.2em; box-shadow: 0 4px 8px rgba(0,0,0,0.2); }
        .shape-circle { border-radius: 50%; background: linear-gradient(135deg, #f093fb, #f5576c); }
        .shape-triangle { width: 0; height: 0; border-left: 30px solid transparent; border-right: 30px solid transparent; border-bottom: 52px solid #51cf66; background: none; }
    </style>
</head>
<body>
    <div class="container">
        <h1>×—×©×™×‘×” ××œ×’×‘×¨×™×ª ğŸ§®</h1>
        <div class="subtitle">×›×™×ª×” ×“' - ×‘×•××• ×œ×œ××•×“ ×¢×œ ×“×¤×•×¡×™×, ××©×•×•××•×ª ×•×¡×“×¨ ×¤×¢×•×œ×•×ª!</div>
        
        <div class="tabs">
            <button class="tab active" data-tab="lesson1">ğŸ“š ×©×™×¢×•×¨: ×“×¤×•×¡×™× ××¡×¤×¨×™×™×</button>
            <button class="tab" data-tab="game1">ğŸ® ××©×—×§: ×“×¤×•×¡×™×</button>
            <button class="tab" data-tab="lesson2">ğŸ“š ×©×™×¢×•×¨: ××©×•×•××•×ª ×¤×©×•×˜×•×ª</button>
            <button class="tab" data-tab="game2">ğŸ¯ ××©×—×§: ××©×•×•××•×ª</button>
            <button class="tab" data-tab="lesson3">ğŸ“š ×©×™×¢×•×¨: ×¡×“×¨ ×¤×¢×•×œ×•×ª</button>
            <button class="tab" data-tab="game3">ğŸ† ××©×—×§: ×¡×“×¨ ×¤×¢×•×œ×•×ª</button>
        </div>
        
        <div id="lesson1" class="content active">
            <div class="lesson">
                <h2>×“×¤×•×¡×™× ××¡×¤×¨×™×™× ×•×’××•××˜×¨×™×™×</h2>
                <p>×“×¤×•×¡ ×”×•× ×¡×“×¨×” ×©×œ ××¡×¤×¨×™× ××• ×¦×•×¨×•×ª ×©×—×•×–×¨×™× ×¢×œ ×¢×¦×× ×œ×¤×™ ×›×œ×œ ××¡×•×™×.</p>
                
                <div class="formula-box">
                    ××¦× ××ª ×”×›×œ×œ â†’ ×”××©×š ××ª ×”×“×¤×•×¡
                </div>
                
                <div class="example">
                    <h3>×“×•×’××” 1: ×“×¤×•×¡ ×—×™×‘×•×¨ ×§×‘×•×¢</h3>
                    <p><strong>×‘×¢×™×”:</strong> 3, 7, 11, 15, ?</p>
                    <div class="steps">
                        <p><strong>×¤×ª×¨×•×Ÿ:</strong></p>
                        <p>× ×‘×“×•×§ ××ª ×”×”×¤×¨×©×™×:</p>
                        <p style="direction: ltr; text-align: center; font-size: 1.3em;">7 - 3 = 4</p>
                        <p style="direction: ltr; text-align: center; font-size: 1.3em;">11 - 7 = 4</p>
                        <p style="direction: ltr; text-align: center; font-size: 1.3em;">15 - 11 = 4</p>
                        <p><strong>×”×›×œ×œ:</strong> ××•×¡×™×¤×™× 4 ×‘×›×œ ×¤×¢×</p>
                        <p style="direction: ltr; text-align: center; font-size: 1.3em;"><strong>15 + 4 = 19</strong></p>
                        <p><strong>×ª×©×•×‘×”:</strong> ×”××¡×¤×¨ ×”×‘× ×”×•× 19</p>
                    </div>
                </div>
                
                <div class="example">
                    <h3>×“×•×’××” 2: ×“×¤×•×¡ ×›×¤×•×œ×•×ª</h3>
                    <p><strong>×‘×¢×™×”:</strong> 3, 6, 9, 12, ?</p>
                    <div class="steps">
                        <p><strong>×¤×ª×¨×•×Ÿ:</strong></p>
                        <p>× ×‘×“×•×§ ××ª ×”×”×¤×¨×©×™×:</p>
                        <p style="direction: ltr; text-align: center; font-size: 1.3em;">6 - 3 = 3</p>
                        <p style="direction: ltr; text-align: center; font-size: 1.3em;">9 - 6 = 3</p>
                        <p style="direction: ltr; text-align: center; font-size: 1.3em;">12 - 9 = 3</p>
                        <p><strong>×”×›×œ×œ:</strong> ××•×¡×™×¤×™× 3 ×‘×›×œ ×¤×¢× (×›×¤×•×œ×•×ª ×©×œ 3 ××œ×•×— ×”×›×¤×œ!)</p>
                        <p style="direction: ltr; text-align: center; font-size: 1.3em;"><strong>12 + 3 = 15</strong></p>
                        <p><strong>×ª×©×•×‘×”:</strong> ×”××¡×¤×¨ ×”×‘× ×”×•× 15</p>
                    </div>
                </div>
                
                <div class="example">
                    <h3>×“×•×’××” 3: ×“×¤×•×¡ ××¡×¤×¨×™× ×–×•×’×™×™×</h3>
                    <p><strong>×‘×¢×™×”:</strong> 10, 20, 30, 40, ?</p>
                    <div class="steps">
                        <p><strong>×¤×ª×¨×•×Ÿ:</strong></p>
                        <p><strong>×”×›×œ×œ:</strong> ××•×¡×™×¤×™× 10 ×‘×›×œ ×¤×¢× (×›×¤×•×œ×•×ª ×©×œ 10)</p>
                        <p style="direction: ltr; text-align: center; font-size: 1.3em;"><strong>40 + 10 = 50</strong></p>
                        <p><strong>×ª×©×•×‘×”:</strong> ×”××¡×¤×¨ ×”×‘× ×”×•× 50</p>
                    </div>
                </div>
                
                <div class="example">
                    <h3>×“×•×’××” 4: ×“×¤×•×¡ ×’××•××˜×¨×™</h3>
                    <p><strong>×‘×¢×™×”:</strong> ××” ×”×¦×•×¨×” ×”×‘××”?</p>
                    <div class="pattern-visual">
                        <div class="pattern-row">
                            <div class="pattern-item">â– </div>
                            <div class="pattern-item shape-circle">â—</div>
                            <div class="pattern-item">â– </div>
                            <div class="pattern-item shape-circle">â—</div>
                            <div style="font-size: 1.5em;">?</div>
                        </div>
                    </div>
                    <div class="steps">
                        <p><strong>×¤×ª×¨×•×Ÿ:</strong></p>
                        <p>×”×“×¤×•×¡: ×¨×™×‘×•×¢, ×¢×™×’×•×œ, ×¨×™×‘×•×¢, ×¢×™×’×•×œ...</p>
                        <p><strong>×ª×©×•×‘×”:</strong> ×”×¦×•×¨×” ×”×‘××” ×”×™× ×¨×™×‘×•×¢ â– </p>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 30px; padding: 25px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 15px;">
                    <h3 style="color: white; margin-bottom: 15px; font-size: 1.5em;">âœ¨ ××•×›× ×™× ×œ×ª×¨×’×œ?</h3>
                    <p style="color: white; font-size: 1.2em; margin-bottom: 20px;">×¢×›×©×™×• ×©×œ××“×ª× ×¢×œ ×“×¤×•×¡×™×, ×‘×•××• × ×ª×¨×’×œ ×‘××©×—×§!</p>
                    <button class="tab" data-tab="game1" style="font-size: 1.3em; padding: 18px 40px;">ğŸ® ×œ××©×—×§ ×“×¤×•×¡×™×</button>
                </div>
            </div>
        </div>
        
        <div id="game1" class="content">
            <div class="game">
                <h2>××©×—×§ ×“×¤×•×¡×™× ××¡×¤×¨×™×™×</h2>
                <div class="question-counter">×©××œ×” <span id="q-count1">1</span> ××ª×•×š 12</div>
                <div class="score">× ×™×§×•×“: <span id="score1">0</span></div>
                <div class="problem-display" id="problem1">×˜×•×¢×Ÿ...</div>
                <div class="controls">
                    <input type="number" id="answer1" placeholder="×”×›× ×¡ ×ª×©×•×‘×”">
                    <br><br>
                    <button onclick="checkAns(1);">×‘×“×•×§</button>
                </div>
                <div id="feedback1"></div>
                <div id="round-end1" style="display: none;"></div>
            </div>
        </div>
        
        <div id="lesson2" class="content">
            <div class="lesson">
                <h2>××©×•×•××•×ª ×¤×©×•×˜×•×ª ×¢× ××©×ª× ×”</h2>
                <p>××©×•×•××” ×”×™× ×©×•×•×™×•×Ÿ ××ª××˜×™ ×©×‘×• ×™×© ××¡×¤×¨ ×œ× ×™×“×•×¢ (××©×ª× ×”) ×©×× ×—× ×• ×¦×¨×™×›×™× ×œ××¦×•×.</p>
                
                <div class="formula-box">
                    x = ×”××¡×¤×¨ ×”×œ× ×™×“×•×¢ (×”××©×ª× ×”)
                </div>
                
                <div class="example">
                    <h3>×“×•×’××” 1: ××©×•×•××” ×¤×©×•×˜×” - ×—×™×‘×•×¨</h3>
                    <p><strong>×‘×¢×™×”:</strong> x + 5 = 12</p>
                    <div class="steps">
                        <p><strong>×¤×ª×¨×•×Ÿ:</strong></p>
                        <p>× ×©××œ ××ª ×¢×¦×× ×•: ××™×–×” ××¡×¤×¨ + 5 = 12?</p>
                        <p style="direction: ltr; text-align: center; font-size: 1.3em;"><strong>12 - 5 = 7</strong></p>
                        <p style="direction: ltr; text-align: center; font-size: 1.3em;">×‘×“×™×§×”: 12 = 7 + 5 âœ“</p>
                        <p><strong>×ª×©×•×‘×”:</strong> x = 7</p>
                    </div>
                </div>
                
                <div class="example">
                    <h3>×“×•×’××” 2: ××©×•×•××” ×¤×©×•×˜×” - ×›×¤×œ</h3>
                    <p><strong>×‘×¢×™×”:</strong> 3x = 15</p>
                    <div class="steps">
                        <p><strong>×¤×ª×¨×•×Ÿ:</strong></p>
                        <p>× ×©××œ: ××™×–×” ××¡×¤×¨ Ã— 3 = 15?</p>
                        <p style="direction: ltr; text-align: center; font-size: 1.3em;"><strong>15 Ã· 3 = 5</strong></p>
                        <p style="direction: ltr; text-align: center; font-size: 1.3em;">×‘×“×™×§×”: 15 = 3 Ã— 5 âœ“</p>
                        <p><strong>×ª×©×•×‘×”:</strong> x = 5</p>
                    </div>
                </div>
                
                <div class="example">
                    <h3>×“×•×’××” 3: ××©×•×•××” - ×—×™×¡×•×¨</h3>
                    <p><strong>×‘×¢×™×”:</strong> x - 8 = 10</p>
                    <div class="steps">
                        <p><strong>×¤×ª×¨×•×Ÿ:</strong></p>
                        <p>× ×©××œ: ××™×–×” ××¡×¤×¨ - 8 = 10?</p>
                        <p style="direction: ltr; text-align: center; font-size: 1.3em;"><strong>10 + 8 = 18</strong></p>
                        <p style="direction: ltr; text-align: center; font-size: 1.3em;">×‘×“×™×§×”: 10 = 18 - 8 âœ“</p>
                        <p><strong>×ª×©×•×‘×”:</strong> x = 18</p>
                    </div>
                </div>
                
                <div class="example">
                    <h3>×“×•×’××” 4: ××©×•×•××” - ×—×™×œ×•×§</h3>
                    <p><strong>×‘×¢×™×”:</strong> x Ã· 4 = 6</p>
                    <div class="steps">
                        <p><strong>×¤×ª×¨×•×Ÿ:</strong></p>
                        <p>× ×©××œ: ××™×–×” ××¡×¤×¨ Ã· 4 = 6?</p>
                        <p style="direction: ltr; text-align: center; font-size: 1.3em;"><strong>6 Ã— 4 = 24</strong></p>
                        <p style="direction: ltr; text-align: center; font-size: 1.3em;">×‘×“×™×§×”: 6 = 24 Ã· 4 âœ“</p>
                        <p><strong>×ª×©×•×‘×”:</strong> x = 24</p>
                    </div>
                </div>
                
                <h2 style="color: #ff6b6b; margin-top: 30px;">ğŸ’¡ ×–×›×¨×•!</h2>
                <div class="example">
                    <p>â€¢ <strong>×—×™×‘×•×¨ â†” ×—×™×¡×•×¨</strong> (×¤×¢×•×œ×•×ª ×”×¤×•×›×•×ª)</p>
                    <p>â€¢ <strong>×›×¤×œ â†” ×—×™×œ×•×§</strong> (×¤×¢×•×œ×•×ª ×”×¤×•×›×•×ª)</p>
                    <p>â€¢ ×ª××™×“ ×‘×“×§×• ××ª ×”×ª×©×•×‘×”!</p>
                </div>
                
                <div style="text-align: center; margin-top: 30px; padding: 25px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 15px;">
                    <h3 style="color: white; margin-bottom: 15px; font-size: 1.5em;">âœ¨ ××•×›× ×™× ×œ×ª×¨×’×œ?</h3>
                    <p style="color: white; font-size: 1.2em; margin-bottom: 20px;">×¢×›×©×™×• ×©×œ××“×ª× ×¢×œ ××©×•×•××•×ª, ×‘×•××• × ×ª×¨×’×œ ×‘××©×—×§!</p>
                    <button class="tab" data-tab="game2" style="font-size: 1.3em; padding: 18px 40px;">ğŸ¯ ×œ××©×—×§ ××©×•×•××•×ª</button>
                </div>
            </div>
        </div>
        
        <div id="game2" class="content">
            <div class="game">
                <h2>××©×—×§ ××©×•×•××•×ª ×¤×©×•×˜×•×ª</h2>
                <div class="question-counter">×©××œ×” <span id="q-count2">1</span> ××ª×•×š 12</div>
                <div class="score">× ×™×§×•×“: <span id="score2">0</span></div>
                <div class="problem-display" id="problem2">×˜×•×¢×Ÿ...</div>
                <div class="controls">
                    <input type="number" id="answer2" placeholder="××” ×¢×¨×š x?">
                    <br><br>
                    <button onclick="checkAns(2);">×‘×“×•×§</button>
                </div>
                <div id="feedback2"></div>
                <div id="round-end2" style="display: none;"></div>
            </div>
        </div>
        
        <div id="lesson3" class="content">
            <div class="lesson">
                <h2>×¡×“×¨ ×¤×¢×•×œ×•×ª ×—×©×‘×•×Ÿ</h2>
                <p>×›×©×™×© ×›××” ×¤×¢×•×œ×•×ª ×‘×‘×™×˜×•×™, ×™×© ×¡×“×¨ ×§×‘×•×¢ ×œ×‘×™×¦×•×¢×Ÿ.</p>
                
                <div class="formula-box">
                    ×¡×“×¨ ×”×¤×¢×•×œ×•×ª: ×›×¤×œ ×•×—×™×œ×•×§ ×œ×¤× ×™ ×—×™×‘×•×¨ ×•×—×™×¡×•×¨
                </div>
                
                <div class="example">
                    <h3>×“×•×’××” 1: ×›×¤×œ ×œ×¤× ×™ ×—×™×‘×•×¨</h3>
                    <p><strong>×‘×¢×™×”:</strong></p>
                    <p style="direction: ltr; text-align: center; font-size: 1.4em;"><strong>3 + 4 Ã— 2 = ?</strong></p>
                    <div class="steps">
                        <p><strong>×¤×ª×¨×•×Ÿ:</strong></p>
                        <p>×©×œ×‘ 1: ×¢×•×©×™× ×›×¤×œ ×¨××©×•×Ÿ</p>
                        <p style="direction: ltr; text-align: center; font-size: 1.3em;"><strong>4 Ã— 2 = 8</strong></p>
                        <p>×©×œ×‘ 2: ×¢×›×©×™×• ×—×™×‘×•×¨</p>
                        <p style="direction: ltr; text-align: center; font-size: 1.3em;"><strong>3 + 8 = 11</strong></p>
                        <p><strong>×ª×©×•×‘×”:</strong> 11</p>
                        <p style="color: #ff6b6b; text-align: center;">âŒ ×˜×¢×•×ª × ×¤×•×¦×”: <span style="direction: ltr; display: inline-block;">3+4=7</span>, ××– <span style="direction: ltr; display: inline-block;">7Ã—2=14</span> (×œ× × ×›×•×Ÿ!)</p>
                    </div>
                </div>
                
                <div class="example">
                    <h3>×“×•×’××” 2: ×—×™×œ×•×§ ×œ×¤× ×™ ×—×™×¡×•×¨</h3>
                    <p><strong>×‘×¢×™×”:</strong></p>
                    <p style="direction: ltr; text-align: center; font-size: 1.4em;"><strong>20 - 12 Ã· 3 = ?</strong></p>
                    <div class="steps">
                        <p><strong>×¤×ª×¨×•×Ÿ:</strong></p>
                        <p>×©×œ×‘ 1: ×¢×•×©×™× ×—×™×œ×•×§ ×¨××©×•×Ÿ</p>
                        <p style="direction: ltr; text-align: center; font-size: 1.3em;"><strong>12 Ã· 3 = 4</strong></p>
                        <p>×©×œ×‘ 2: ×¢×›×©×™×• ×—×™×¡×•×¨</p>
                        <p style="direction: ltr; text-align: center; font-size: 1.3em;"><strong>20 - 4 = 16</strong></p>
                        <p><strong>×ª×©×•×‘×”:</strong> 16</p>
                    </div>
                </div>
                
                <div class="example">
                    <h3>×“×•×’××” 3: ×›××” ×¤×¢×•×œ×•×ª ×‘×™×—×“</h3>
                    <p><strong>×‘×¢×™×”:</strong></p>
                    <p style="direction: ltr; text-align: center; font-size: 1.4em;"><strong>5 Ã— 3 + 10 Ã· 2 = ?</strong></p>
                    <div class="steps">
                        <p><strong>×¤×ª×¨×•×Ÿ:</strong></p>
                        <p>×©×œ×‘ 1: ×›×¤×œ ×•×—×™×œ×•×§ (××©×××œ ×œ×™××™×Ÿ)</p>
                        <p style="direction: ltr; text-align: center; font-size: 1.3em;"><strong>5 Ã— 3 = 15</strong></p>
                        <p style="direction: ltr; text-align: center; font-size: 1.3em;"><strong>10 Ã· 2 = 5</strong></p>
                        <p>×©×œ×‘ 2: ×¢×›×©×™×• ×—×™×‘×•×¨</p>
                        <p style="direction: ltr; text-align: center; font-size: 1.3em;"><strong>15 + 5 = 20</strong></p>
                        <p><strong>×ª×©×•×‘×”:</strong> 20</p>
                    </div>
                </div>
                
                <div class="example">
                    <h3>×“×•×’××” 4: ×¨×§ ×—×™×‘×•×¨ ×•×—×™×¡×•×¨</h3>
                    <p><strong>×‘×¢×™×”:</strong></p>
                    <p style="direction: ltr; text-align: center; font-size: 1.4em;"><strong>15 - 3 + 8 = ?</strong></p>
                    <div class="steps">
                        <p><strong>×¤×ª×¨×•×Ÿ:</strong></p>
                        <p>×›×©×™×© ×¨×§ ×—×™×‘×•×¨ ×•×—×™×¡×•×¨ - ×¢×•×©×™× ××©×××œ ×œ×™××™×Ÿ</p>
                        <p style="direction: ltr; text-align: center; font-size: 1.3em;"><strong>15 - 3 = 12</strong></p>
                        <p style="direction: ltr; text-align: center; font-size: 1.3em;"><strong>12 + 8 = 20</strong></p>
                        <p><strong>×ª×©×•×‘×”:</strong> 20</p>
                    </div>
                </div>
                
                <h2 style="color: #ff6b6b; margin-top: 30px;">ğŸ“ ×›×œ×œ×™ ×”×–×”×‘</h2>
                <div class="example">
                    <p><strong>1.</strong> ×›×¤×œ ×•×—×™×œ×•×§ ×ª××™×“ ×œ×¤× ×™ ×—×™×‘×•×¨ ×•×—×™×¡×•×¨</p>
                    <p><strong>2.</strong> ×× ×™×© ×¨×§ ×›×¤×œ ×•×—×™×œ×•×§ - ××©×××œ ×œ×™××™×Ÿ</p>
                    <p><strong>3.</strong> ×× ×™×© ×¨×§ ×—×™×‘×•×¨ ×•×—×™×¡×•×¨ - ××©×××œ ×œ×™××™×Ÿ</p>
                </div>
                
                <div style="text-align: center; margin-top: 30px; padding: 25px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 15px;">
                    <h3 style="color: white; margin-bottom: 15px; font-size: 1.5em;">âœ¨ ××•×›× ×™× ×œ×ª×¨×’×œ?</h3>
                    <p style="color: white; font-size: 1.2em; margin-bottom: 20px;">×¢×›×©×™×• ×©×œ××“×ª× ×¢×œ ×¡×“×¨ ×¤×¢×•×œ×•×ª, ×‘×•××• × ×ª×¨×’×œ ×‘××©×—×§!</p>
                    <button class="tab" data-tab="game3" style="font-size: 1.3em; padding: 18px 40px;">ğŸ† ×œ××©×—×§ ×¡×“×¨ ×¤×¢×•×œ×•×ª</button>
                </div>
            </div>
        </div>
        
        <div id="game3" class="content">
            <div class="game">
                <h2>××©×—×§ ×¡×“×¨ ×¤×¢×•×œ×•×ª</h2>
                <div class="question-counter">×©××œ×” <span id="q-count3">1</span> ××ª×•×š 12</div>
                <div class="score">× ×™×§×•×“: <span id="score3">0</span></div>
                <div class="problem-display" id="problem3">×˜×•×¢×Ÿ...</div>
                <div class="controls">
                    <input type="number" id="answer3" placeholder="×”×›× ×¡ ×ª×©×•×‘×”">
                    <br><br>
                    <button onclick="checkAns(3);">×‘×“×•×§</button>
                </div>
                <div id="feedback3"></div>
                <div id="round-end3" style="display: none;"></div>
            </div>
        </div>
    </div>

    <script>
var scores = {1: 0, 2: 0, 3: 0};
var currentQuestion = {1: 0, 2: 0, 3: 0};
var questionBank = {1: [], 2: [], 3: []};
var gameData = {1: {}, 2: {}, 3: {}};
var answerLocked = {1: false, 2: false, 3: false};

function generateQ1TypeBased(typeNum) {
    if (typeNum === 0) {
        return { text: '××¦× ××ª ×”××¡×¤×¨ ×”×‘×:<br>2, 4, 6, 8, ?', answer: 10 };
    } else if (typeNum === 1) {
        return { text: '××¦× ××ª ×”××¡×¤×¨ ×”×‘×:<br>5, 10, 15, 20, ?', answer: 25 };
    } else if (typeNum === 2) {
        return { text: '××¦× ××ª ×”××¡×¤×¨ ×”×‘×:<br>3, 6, 9, 12, ?', answer: 15 };
    } else if (typeNum === 3) {
        return { text: '××¦× ××ª ×”××¡×¤×¨ ×”×‘×:<br>10, 20, 30, 40, ?', answer: 50 };
    } else if (typeNum === 4) {
        return { text: '××¦× ××ª ×”××¡×¤×¨ ×”×‘×:<br>1, 3, 5, 7, ?', answer: 9 };
    } else if (typeNum === 5) {
        return { text: '××¦× ××ª ×”××¡×¤×¨ ×”×‘×:<br>100, 90, 80, 70, ?', answer: 60 };
    } else if (typeNum === 6) {
        return { text: '××¦× ××ª ×”××¡×¤×¨ ×”×‘×:<br>12, 14, 16, 18, ?', answer: 20 };
    } else if (typeNum === 7) {
        return { text: '××¦× ××ª ×”××¡×¤×¨ ×”×‘×:<br>50, 45, 40, 35, ?', answer: 30 };
    } else if (typeNum === 8) {
        return { text: '××¦× ××ª ×”××¡×¤×¨ ×”×‘×:<br>13, 16, 19, 22, ?', answer: 25 };
    } else if (typeNum === 9) {
        return { text: '××¦× ××ª ×”××¡×¤×¨ ×”×‘×:<br>25, 30, 35, 40, ?', answer: 45 };
    } else if (typeNum === 10) {
        return { text: '××¦× ××ª ×”××¡×¤×¨ ×”×‘×:<br>4, 8, 12, 16, ?', answer: 20 };
    } else if (typeNum === 11) {
        return { text: '××¦× ××ª ×”××¡×¤×¨ ×”×‘×:<br>11, 22, 33, 44, ?', answer: 55 };
    } else if (typeNum === 12) {
        return { text: '××¦× ××ª ×”××¡×¤×¨ ×”×‘×:<br>7, 14, 21, 28, ?', answer: 35 };
    } else if (typeNum === 13) {
        return { text: '××¦× ××ª ×”××¡×¤×¨ ×”×‘×:<br>60, 55, 50, 45, ?', answer: 40 };
    } else if (typeNum === 14) {
        return { text: '××¦× ××ª ×”××¡×¤×¨ ×”×‘×:<br>15, 12, 9, 6, ?', answer: 3 };
    } else if (typeNum === 15) {
        return { text: '××¦× ××ª ×”××¡×¤×¨ ×”×‘×:<br>6, 12, 18, 24, ?', answer: 30 };
    } else if (typeNum === 16) {
        return { text: '××¦× ××ª ×”××¡×¤×¨ ×”×‘×:<br>8, 16, 24, 32, ?', answer: 40 };
    } else if (typeNum === 17) {
        return { text: '××¦× ××ª ×”××¡×¤×¨ ×”×‘×:<br>9, 18, 27, 36, ?', answer: 45 };
    } else if (typeNum === 18) {
        return { text: '××¦× ××ª ×”××¡×¤×¨ ×”×‘×:<br>20, 18, 16, 14, ?', answer: 12 };
    } else {
        return { text: '××¦× ××ª ×”××¡×¤×¨ ×”×‘×:<br>17, 20, 23, 26, ?', answer: 29 };
    }
}

function generateQ2TypeBased(typeNum) {
    if (typeNum === 0) {
        return { text: '×¤×ª×•×¨:<br>x + 5 = 12<br>××” ×¢×¨×š x?', answer: 7 };
    } else if (typeNum === 1) {
        return { text: '×¤×ª×•×¨:<br>x + 10 = 20<br>××” ×¢×¨×š x?', answer: 10 };
    } else if (typeNum === 2) {
        return { text: '×¤×ª×•×¨:<br>x - 8 = 10<br>××” ×¢×¨×š x?', answer: 18 };
    } else if (typeNum === 3) {
        return { text: '×¤×ª×•×¨:<br>3x = 15<br>××” ×¢×¨×š x?', answer: 5 };
    } else if (typeNum === 4) {
        return { text: '×¤×ª×•×¨:<br>2x = 20<br>××” ×¢×¨×š x?', answer: 10 };
    } else if (typeNum === 5) {
        return { text: '×¤×ª×•×¨:<br>x Ã· 4 = 5<br>××” ×¢×¨×š x?', answer: 20 };
    } else if (typeNum === 6) {
        return { text: '×¤×ª×•×¨:<br>x + 7 = 15<br>××” ×¢×¨×š x?', answer: 8 };
    } else if (typeNum === 7) {
        return { text: '×¤×ª×•×¨:<br>x - 5 = 20<br>××” ×¢×¨×š x?', answer: 25 };
    } else if (typeNum === 8) {
        return { text: '×¤×ª×•×¨:<br>4x = 20<br>××” ×¢×¨×š x?', answer: 5 };
    } else if (typeNum === 9) {
        return { text: '×¤×ª×•×¨:<br>5x = 25<br>××” ×¢×¨×š x?', answer: 5 };
    } else if (typeNum === 10) {
        return { text: '×¤×ª×•×¨:<br>x Ã· 3 = 10<br>××” ×¢×¨×š x?', answer: 30 };
    } else if (typeNum === 11) {
        return { text: '×¤×ª×•×¨:<br>x + 15 = 30<br>××” ×¢×¨×š x?', answer: 15 };
    } else if (typeNum === 12) {
        return { text: '×¤×ª×•×¨:<br>x - 12 = 8<br>××” ×¢×¨×š x?', answer: 20 };
    } else if (typeNum === 13) {
        return { text: '×¤×ª×•×¨:<br>6x = 30<br>××” ×¢×¨×š x?', answer: 5 };
    } else if (typeNum === 14) {
        return { text: '×¤×ª×•×¨:<br>x Ã· 5 = 4<br>××” ×¢×¨×š x?', answer: 20 };
    } else if (typeNum === 15) {
        return { text: '×¤×ª×•×¨:<br>x + 20 = 50<br>××” ×¢×¨×š x?', answer: 30 };
    } else if (typeNum === 16) {
        return { text: '×¤×ª×•×¨:<br>x - 15 = 25<br>××” ×¢×¨×š x?', answer: 40 };
    } else if (typeNum === 17) {
        return { text: '×¤×ª×•×¨:<br>10x = 50<br>××” ×¢×¨×š x?', answer: 5 };
    } else if (typeNum === 18) {
        return { text: '×¤×ª×•×¨:<br>x Ã· 2 = 15<br>××” ×¢×¨×š x?', answer: 30 };
    } else {
        return { text: '×¤×ª×•×¨:<br>x + 8 = 18<br>××” ×¢×¨×š x?', answer: 10 };
    }
}

function generateQ3TypeBased(typeNum) {
    if (typeNum === 0) {
        return { text: '×—×©×‘:<br>? = 2 Ã— 4 + 3', answer: 11 };
    } else if (typeNum === 1) {
        return { text: '×—×©×‘:<br>? = 3 Ã· 12 - 20', answer: 16 };
    } else if (typeNum === 2) {
        return { text: '×—×©×‘:<br>? = 10 + 3 Ã— 5', answer: 25 };
    } else if (typeNum === 3) {
        return { text: '×—×©×‘:<br>? = 4 + 5 Ã· 30', answer: 10 };
    } else if (typeNum === 4) {
        return { text: '×—×©×‘:<br>? = 2 Ã— 3 + 5 Ã— 2', answer: 16 };
    } else if (typeNum === 5) {
        return { text: '×—×©×‘:<br>? = 8 + 3 - 15', answer: 20 };
    } else if (typeNum === 6) {
        return { text: '×—×©×‘:<br>? = 4 Ã· 20 + 10', answer: 15 };
    } else if (typeNum === 7) {
        return { text: '×—×©×‘:<br>? = 5 - 3 Ã— 4', answer: 7 };
    } else if (typeNum === 8) {
        return { text: '×—×©×‘:<br>? = 7 + 3 Ã· 18', answer: 13 };
    } else if (typeNum === 9) {
        return { text: '×—×©×‘:<br>? = 4 Ã— 3 + 6', answer: 18 };
    } else if (typeNum === 10) {
        return { text: '×—×©×‘:<br>? = 2 Ã· 10 - 25', answer: 20 };
    } else if (typeNum === 11) {
        return { text: '×—×©×‘:<br>? = 4 + 2 Ã— 8', answer: 20 };
    } else if (typeNum === 12) {
        return { text: '×—×©×‘:<br>? = 5 Ã— 4 - 30', answer: 10 };
    } else if (typeNum === 13) {
        return { text: '×—×©×‘:<br>? = 10 + 2 Ã· 10', answer: 15 };
    } else if (typeNum === 14) {
        return { text: '×—×©×‘:<br>? = 6 - 2 Ã— 7', answer: 8 };
    } else if (typeNum === 15) {
        return { text: '×—×©×‘:<br>? = 6 + 5 Ã· 40', answer: 14 };
    } else if (typeNum === 16) {
        return { text: '×—×©×‘:<br>? = 2 Ã— 10 + 5', answer: 25 };
    } else if (typeNum === 17) {
        return { text: '×—×©×‘:<br>? = 8 + 4 Ã· 24', answer: 14 };
    } else if (typeNum === 18) {
        return { text: '×—×©×‘:<br>? = 7 - 3 Ã— 9', answer: 20 };
    } else {
        return { text: '×—×©×‘:<br>? = 5 Ã· 20 + 15', answer: 19 };
    }
}

function initGame(g) {
    questionBank[g] = [];
    var typeOrder = [];
    
    for (var i = 0; i < 20; i++) {
        typeOrder.push(i);
    }
    
    typeOrder.sort(function() { return Math.random() - 0.5; });
    
    for (var i = 0; i < 12; i++) {
        var newQ;
        if (g === 1) {
            newQ = generateQ1TypeBased(typeOrder[i]);
        } else if (g === 2) {
            newQ = generateQ2TypeBased(typeOrder[i]);
        } else {
            newQ = generateQ3TypeBased(typeOrder[i]);
        }
        questionBank[g].push(newQ);
    }
    
    nextQ(g);
}

function nextQ(g) {
    if (currentQuestion[g] >= 12) {
        var feedbackEl = document.getElementById('feedback' + g);
        if (feedbackEl) feedbackEl.innerHTML = '';
        showEnd(g);
        return;
    }
    answerLocked[g] = false;
    gameData[g] = questionBank[g][currentQuestion[g]];
    document.getElementById('q-count' + g).textContent = currentQuestion[g] + 1;
    document.getElementById('problem' + g).innerHTML = gameData[g].text;
    document.getElementById('answer' + g).value = '';
    document.getElementById('feedback' + g).innerHTML = '';
}

function checkAns(g) {
    if (answerLocked[g]) return;
    var answerEl = document.getElementById('answer' + g);
    var ans = parseFloat(answerEl.value);
    if (isNaN(ans)) return;
    answerLocked[g] = true;
    currentQuestion[g]++;
    if (ans === gameData[g].answer) {
        scores[g]++;
        playSound('correct');
        document.getElementById('feedback' + g).innerHTML = '<div class="feedback correct">× ×›×•×Ÿ ××¢×•×œ×”! âœ“</div>';
    } else {
        playSound('incorrect');
        document.getElementById('feedback' + g).innerHTML = '<div class="feedback incorrect">×œ× × ×›×•×Ÿ. ×ª×©×•×‘×” × ×›×•× ×”: ' + gameData[g].answer + '</div>';
    }
    document.getElementById('score' + g).textContent = scores[g];
    if (currentQuestion[g] < 12) {
        setTimeout(function() {
            var feedbackEl = document.getElementById('feedback' + g);
            if (feedbackEl) {
                feedbackEl.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        }, 100);
    }
    setTimeout(function() { nextQ(g); }, 2000);
}

function showEnd(g) {
    var roundEndEl = document.getElementById('round-end' + g);
    var problemEl = document.getElementById('problem' + g);
    var feedbackEl = document.getElementById('feedback' + g);
    var controlsEl = document.querySelector('#game' + g + ' .controls');
    if (!roundEndEl || !problemEl) return;
    if (feedbackEl) {
        feedbackEl.innerHTML = '';
        feedbackEl.style.display = 'none';
    }
    if (controlsEl) {
        controlsEl.style.display = 'none';
    }
    var pct = Math.round((scores[g] / 12) * 100);
    var msg = pct >= 80 ? '××¢×•×œ×”! ğŸŒŸ' : pct >= 60 ? '×™×¤×” ×××•×“! ğŸ‘' : '×›×œ ×”×›×‘×•×“! ×”××©×š ×œ×”×ª×××Ÿ! ğŸ’ª';
    roundEndEl.innerHTML = '<div class="round-complete"><h3>×¡×™×™××ª!</h3><p>' + msg + '</p><p>×¦×™×•×Ÿ: ' + scores[g] + '/12 (' + pct + '%)</p><button class="new-round-btn" onclick="resetGame(' + g + ')">×¡×™×‘×•×‘ × ×•×¡×£</button></div>';
    roundEndEl.style.display = 'block';
    problemEl.style.display = 'none';
}

function resetGame(g) {
    scores[g] = 0;
    currentQuestion[g] = 0;
    answerLocked[g] = false;
    questionBank[g] = [];
    var scoreEl = document.getElementById('score' + g);
    var roundEndEl = document.getElementById('round-end' + g);
    var feedbackEl = document.getElementById('feedback' + g);
    var problemEl = document.getElementById('problem' + g);
    var controlsEl = document.querySelector('#game' + g + ' .controls');
    if (scoreEl) scoreEl.textContent = '0';
    if (roundEndEl) roundEndEl.style.display = 'none';
    if (feedbackEl) {
        feedbackEl.innerHTML = '';
        feedbackEl.style.display = 'block';
    }
    if (problemEl) problemEl.style.display = 'block';
    if (controlsEl) controlsEl.style.display = 'block';
    initGame(g);
}

window.onload = function() {
    var tabs = document.querySelectorAll('.tab');
    for (var i = 0; i < tabs.length; i++) {
        tabs[i].onclick = function() {
            playSound('click');
            var tabId = this.getAttribute('data-tab');
            var allContent = document.querySelectorAll('.content');
            var allTabs = document.querySelectorAll('.tab');
            for (var j = 0; j < allContent.length; j++) allContent[j].classList.remove('active');
            for (var k = 0; k < allTabs.length; k++) allTabs[k].classList.remove('active');
            document.getElementById(tabId).classList.add('active');
            this.classList.add('active');
            if (tabId === 'game1') {
                scores[1] = 0;
                currentQuestion[1] = 0;
                answerLocked[1] = false;
                questionBank[1] = [];
                document.getElementById('score1').textContent = '0';
                document.getElementById('round-end1').style.display = 'none';
                document.getElementById('problem1').style.display = 'block';
                document.getElementById('feedback1').innerHTML = '';
                document.getElementById('feedback1').style.display = 'block';
                document.getElementById('answer1').value = '';
                var controls1 = document.querySelector('#game1 .controls');
                if (controls1) controls1.style.display = 'block';
                setTimeout(function() { initGame(1); }, 50);
            } else if (tabId === 'game2') {
                scores[2] = 0;
                currentQuestion[2] = 0;
                answerLocked[2] = false;
                questionBank[2] = [];
                document.getElementById('score2').textContent = '0';
                document.getElementById('round-end2').style.display = 'none';
                document.getElementById('problem2').style.display = 'block';
                document.getElementById('feedback2').innerHTML = '';
                document.getElementById('feedback2').style.display = 'block';
                document.getElementById('answer2').value = '';
                var controls2 = document.querySelector('#game2 .controls');
                if (controls2) controls2.style.display = 'block';
                setTimeout(function() { initGame(2); }, 50);
            } else if (tabId === 'game3') {
                scores[3] = 0;
                currentQuestion[3] = 0;
                answerLocked[3] = false;
                questionBank[3] = [];
                document.getElementById('score3').textContent = '0';
                document.getElementById('round-end3').style.display = 'none';
                document.getElementById('problem3').style.display = 'block';
                document.getElementById('feedback3').innerHTML = '';
                document.getElementById('feedback3').style.display = 'block';
                document.getElementById('answer3').value = '';
                var controls3 = document.querySelector('#game3 .controls');
                if (controls3) controls3.style.display = 'block';
                setTimeout(function() { initGame(3); }, 50);
            }
        };
    }
    document.addEventListener('wheel', function(e) {
        if (document.activeElement.type === 'number') {
            document.activeElement.blur();
        }
    });
};

function playSound(type) {
    var audioContext = new (window.AudioContext || window.webkitAudioContext)();
    if (type === 'click') {
        var osc = audioContext.createOscillator();
        var gain = audioContext.createGain();
        osc.connect(gain);
        gain.connect(audioContext.destination);
        osc.type = 'sine';
        osc.frequency.value = 600;
        gain.gain.setValueAtTime(0.15, audioContext.currentTime);
        gain.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.15);
        osc.start(audioContext.currentTime);
        osc.stop(audioContext.currentTime + 0.15);
    } else if (type === 'correct') {
        var notes = [523.25, 659.25, 783.99];
        for (var i = 0; i < notes.length; i++) {
            var osc = audioContext.createOscillator();
            var gain = audioContext.createGain();
            osc.connect(gain);
            gain.connect(audioContext.destination);
            osc.type = 'sine';
            osc.frequency.value = notes[i];
            gain.gain.setValueAtTime(0.1, audioContext.currentTime + i * 0.1);
            gain.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + i * 0.1 + 0.3);
            osc.start(audioContext.currentTime + i * 0.1);
            osc.stop(audioContext.currentTime + i * 0.1 + 0.3);
        }
    } else if (type === 'incorrect') {
        var osc = audioContext.createOscillator();
        var gain = audioContext.createGain();
        osc.connect(gain);
        gain.connect(audioContext.destination);
        osc.type = 'sine';
        osc.frequency.value = 200;
        gain.gain.setValueAtTime(0.15, audioContext.currentTime);
        gain.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
        osc.start(audioContext.currentTime);
        osc.stop(audioContext.currentTime + 0.3);
    }
}
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>×–××Ÿ ×•×›×¡×£ - ×›×™×ª×” ×“'</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 20px; }
        .container { max-width: 1100px; margin: 0 auto; background: white; border-radius: 25px; padding: 40px; box-shadow: 0 25px 70px rgba(0,0,0,0.4); }
        h1 { color: #667eea; text-align: center; margin-bottom: 15px; font-size: 3em; text-shadow: 2px 2px 4px rgba(0,0,0,0.1); }
        .subtitle { text-align: center; color: #666; margin-bottom: 35px; font-size: 1.3em; }
        .tabs { display: flex; gap: 12px; margin-bottom: 35px; flex-wrap: wrap; justify-content: center; }
        .tab { padding: 16px 28px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border: none; border-radius: 12px; cursor: pointer; font-size: 1.15em; font-weight: bold; transition: all 0.3s; box-shadow: 0 4px 6px rgba(0,0,0,0.1); color: white; }
        .tab:hover { transform: translateY(-3px); box-shadow: 0 6px 12px rgba(0,0,0,0.15); background: linear-gradient(135deg, #7c8ef5 0%, #8a5eb8 100%); }
        .tab.active { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); transform: scale(1.05); }
        .content { display: none; }
        .content.active { display: block; animation: fadeIn 0.5s; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
        .lesson { background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); padding: 30px; border-radius: 20px; margin-bottom: 25px; box-shadow: 0 8px 16px rgba(0,0,0,0.1); }
        .lesson h2 { color: #ff6b6b; margin-bottom: 20px; font-size: 1.8em; }
        .lesson p { font-size: 1.2em; line-height: 1.8; margin-bottom: 15px; color: #333; }
        .example { background: white; padding: 20px; border-right: 5px solid #667eea; margin: 20px 0; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.08); }
        .example h3 { color: #f093fb; margin-bottom: 12px; font-size: 1.3em; }
        .game { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 30px; border-radius: 20px; margin-bottom: 25px; color: white; box-shadow: 0 10px 25px rgba(0,0,0,0.2); }
        .game h2 { margin-bottom: 20px; font-size: 2em; }
        .question-counter { text-align: center; font-size: 1.3em; margin: 15px 0; color: #fff; background: rgba(255,255,255,0.2); padding: 10px; border-radius: 10px; }
        .score { text-align: center; font-size: 1.8em; margin: 25px 0; color: #fff; font-weight: bold; background: rgba(255,255,255,0.2); padding: 15px; border-radius: 12px; }
        .problem-display { font-size: 1.8em; text-align: center; margin: 30px 0; padding: 25px; background: rgba(255,255,255,0.3); border-radius: 15px; font-weight: bold; line-height: 1.6; }
        input[type="number"] { width: 200px; padding: 15px; font-size: 1.8em; border: 4px solid white; border-radius: 10px; text-align: center; margin: 10px; font-weight: bold; }
        input[type="number"]::-webkit-inner-spin-button,
        input[type="number"]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }
        input[type="number"] { -moz-appearance: textfield; }
        input[type="number"]::placeholder { text-align: center; font-size: 0.7em; color: #999; }
        button { background: white; color: #667eea; border: none; padding: 14px 35px; font-size: 1.2em; border-radius: 10px; cursor: pointer; transition: all 0.3s; font-weight: bold; box-shadow: 0 6px 12px rgba(0,0,0,0.2); margin: 5px; }
        button:hover { transform: translateY(-2px); box-shadow: 0 8px 16px rgba(0,0,0,0.3); }
        .feedback { padding: 20px; border-radius: 12px; margin-top: 20px; font-size: 1.3em; text-align: center; font-weight: bold; }
        .correct { background: #51cf66; color: white; }
        .incorrect { background: #ff6b6b; color: white; }
        .controls { text-align: center; margin: 25px 0; }
        .round-complete { background: linear-gradient(135deg, #51cf66 0%, #37b24d 100%); padding: 40px; border-radius: 20px; text-align: center; color: white; margin: 20px 0; }
        .round-complete h3 { font-size: 2.5em; margin-bottom: 20px; }
        .round-complete p { font-size: 1.5em; margin: 15px 0; }
        .new-round-btn { background: white; color: #51cf66; font-size: 1.5em; padding: 20px 40px; margin-top: 20px; border: none; border-radius: 15px; cursor: pointer; font-weight: bold; box-shadow: 0 8px 16px rgba(0,0,0,0.2); transition: all 0.3s; }
        .new-round-btn:hover { transform: scale(1.05); box-shadow: 0 12px 24px rgba(0,0,0,0.3); }
        .steps { background: rgba(255,255,255,0.2); padding: 20px; border-radius: 10px; margin: 20px 0; text-align: right; }
        .steps p { margin: 10px 0; font-size: 1.1em; }
        .conversion-table { background: white; padding: 20px; border-radius: 10px; margin: 20px 0; }
        .conversion-table table { width: 100%; border-collapse: collapse; }
        .conversion-table th, .conversion-table td { padding: 12px; border: 2px solid #667eea; text-align: center; font-size: 1.1em; }
        .conversion-table th { background: #667eea; color: white; font-weight: bold; }
        .conversion-table td { background: #f8f9fa; }
        .money-visual { display: flex; gap: 15px; justify-content: center; align-items: center; margin: 20px 0; flex-wrap: wrap; }
        .coin { width: 60px; height: 60px; border-radius: 50%; background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%); display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 1.2em; box-shadow: 0 4px 8px rgba(0,0,0,0.2); border: 3px solid #daa520; }
        .bill { padding: 15px 25px; background: linear-gradient(135deg, #90ee90 0%, #98fb98 100%); border-radius: 8px; font-weight: bold; font-size: 1.2em; box-shadow: 0 4px 8px rgba(0,0,0,0.2); border: 2px solid #228b22; }
    </style>
</head>
<body>
    <div class="container">
        <h1>×–××Ÿ ×•×›×¡×£ â°ğŸ’°</h1>
        <div class="subtitle">×›×™×ª×” ×“' - ×‘×•××• × ×œ××“ ×—×™×©×•×‘×™ ×–××Ÿ, ×›×¡×£ ×•××—×•×–×™×!</div>
        
        <div class="tabs">
            <button class="tab active" data-tab="lesson1">ğŸ“š ×©×™×¢×•×¨: ×—×™×©×•×‘×™ ×–××Ÿ</button>
            <button class="tab" data-tab="game1">ğŸ® ××©×—×§: ×ª×¨×’×™×œ×™ ×–××Ÿ</button>
            <button class="tab" data-tab="lesson2">ğŸ“š ×©×™×¢×•×¨: ×›×¡×£ ×•×ª×§×¦×™×‘</button>
            <button class="tab" data-tab="game2">ğŸ¯ ××©×—×§: ×‘×¢×™×•×ª ×›×¡×£</button>
            <button class="tab" data-tab="lesson3">ğŸ“š ×©×™×¢×•×¨: ××—×•×–×™×</button>
            <button class="tab" data-tab="game3">ğŸ† ××©×—×§: ×—×™×©×•×‘×™ ××—×•×–×™×</button>
        </div>
        
        <div id="lesson1" class="content active">
            <div class="lesson">
                <h2>×—×™×©×•×‘×™ ×–××Ÿ ××•×¨×›×‘×™×</h2>
                <p>×™×—×™×“×•×ª ×–××Ÿ ×©×•× ×•×ª ×•×›×™×¦×“ ×œ×—×©×‘ ××™×ª×Ÿ.</p>
                
                <div class="conversion-table">
                    <table>
                        <tr>
                            <th>×™×—×™×“×”</th>
                            <th>×™×—×¡</th>
                        </tr>
                        <tr>
                            <td>×©×¢×”</td>
                            <td>60 ×“×§×•×ª = 1 ×©×¢×”</td>
                        </tr>
                        <tr>
                            <td>×“×§×”</td>
                            <td>60 ×©× ×™×•×ª = 1 ×“×§×”</td>
                        </tr>
                        <tr>
                            <td>×™×•×</td>
                            <td>24 ×©×¢×•×ª = 1 ×™×•×</td>
                        </tr>
                        <tr>
                            <td>×©×‘×•×¢</td>
                            <td>7 ×™××™× = 1 ×©×‘×•×¢</td>
                        </tr>
                    </table>
                </div>
                
                <div class="example">
                    <h3>×“×•×’××” 1: ×—×™×‘×•×¨ ×–××Ÿ</h3>
                    <p><strong>×‘×¢×™×”:</strong> ×¡×¨×˜ ××ª×—×™×œ ×‘-15:30 ×•× ××©×š ×©×¢×” ×•-45 ×“×§×•×ª. ××ª×™ ×”×•× ××¡×ª×™×™×?</p>
                    <div class="steps">
                        <p><strong>×¤×ª×¨×•×Ÿ:</strong></p>
                        <p>×–××Ÿ ×”×ª×—×œ×”: 15:30</p>
                        <p>××•×¡×™×¤×™× ×©×¢×”: 16:30</p>
                        <p>××•×¡×™×¤×™× 45 ×“×§×•×ª: 17:15</p>
                        <p><strong>×ª×©×•×‘×”:</strong> ×”×¡×¨×˜ ××¡×ª×™×™× ×‘-17:15</p>
                    </div>
                </div>
                
                <div class="example">
                    <h3>×“×•×’××” 2: ×—×™×©×•×‘ ××©×š ×–××Ÿ</h3>
                    <p><strong>×‘×¢×™×”:</strong> ×™×¦×× ×• ××”×‘×™×ª ×‘-8:20 ×•×”×’×¢× ×• ×œ×™×¢×“ ×‘-10:05. ×›××” ×–××Ÿ × ×¡×¢× ×•?</p>
                    <div class="steps">
                        <p><strong>×¤×ª×¨×•×Ÿ:</strong></p>
                        <p>×-8:20 ×¢×“ 9:00 = 40 ×“×§×•×ª</p>
                        <p>×-9:00 ×¢×“ 10:00 = ×©×¢×” (60 ×“×§×•×ª)</p>
                        <p>×-10:00 ×¢×“ 10:05 = 5 ×“×§×•×ª</p>
                        <p style="direction: ltr; text-align: center; font-size: 1.3em;"><strong>40 + 60 + 5 = 105</strong></p>
                        <p><strong>×ª×©×•×‘×”:</strong> ×©×¢×” ×•-45 ×“×§×•×ª (105 ×“×§×•×ª)</p>
                    </div>
                </div>
                
                <div class="example">
                    <h3>×“×•×’××” 3: ×”××¨×ª ×–××Ÿ</h3>
                    <p><strong>×‘×¢×™×”:</strong> ×”××¨ 150 ×“×§×•×ª ×œ×©×¢×•×ª ×•×“×§×•×ª</p>
                    <div class="steps">
                        <p><strong>×¤×ª×¨×•×Ÿ:</strong></p>
                        <p>60 ×“×§×•×ª = 1 ×©×¢×”</p>
                        <p style="direction: ltr; text-align: center; font-size: 1.3em;"><strong>150 Ã· 60 = 2</strong></p>
                        <p>(×›×™ 2 Ã— 60 = 120, ×•× ×©××¨×• 30 ×“×§×•×ª)</p>
                        <p><strong>×ª×©×•×‘×”:</strong> 2 ×©×¢×•×ª ×•-30 ×“×§×•×ª</p>
                    </div>
                </div>
                
                <div class="example">
                    <h3>×“×•×’××” 4: ×ª×›× ×•×Ÿ ×™×•××™</h3>
                    <p><strong>×‘×¢×™×”:</strong> ×™×© ×œ× ×• 3 ×©×¢×•×ª ×¤× ×•×™×•×ª. ×¨×•×¦×™× ×œ×©×—×§ 50 ×“×§×•×ª, ×œ×§×¨×•× 40 ×“×§×•×ª ×•×œ×¦×™×™×¨. ×›××” ×–××Ÿ × ×©××¨ ×œ×¦×™×•×¨?</p>
                    <div class="steps">
                        <p><strong>×¤×ª×¨×•×Ÿ:</strong></p>
                        <p>3 ×©×¢×•×ª = 180 ×“×§×•×ª</p>
                        <p style="direction: ltr; text-align: center; font-size: 1.3em;"><strong>50 + 40 = 90</strong></p>
                        <p style="direction: ltr; text-align: center; font-size: 1.3em;"><strong>180 - 90 = 90</strong></p>
                        <p><strong>×ª×©×•×‘×”:</strong> ×©×¢×” ×•×—×¦×™ (90 ×“×§×•×ª) ×œ×¦×™×•×¨</p>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 30px; padding: 25px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 15px;">
                    <h3 style="color: white; margin-bottom: 15px; font-size: 1.5em;">âœ¨ ××•×›× ×™× ×œ×ª×¨×’×œ?</h3>
                    <p style="color: white; font-size: 1.2em; margin-bottom: 20px;">×¢×›×©×™×• ×©×œ××“×ª× ×¢×œ ×—×™×©×•×‘×™ ×–××Ÿ, ×‘×•××• × ×ª×¨×’×œ ×‘××©×—×§!</p>
                    <button class="tab" data-tab="game1" style="font-size: 1.3em; padding: 18px 40px;">ğŸ® ×œ××©×—×§ ×ª×¨×’×™×œ×™ ×–××Ÿ</button>
                </div>
            </div>
        </div>
        
        <div id="game1" class="content">
            <div class="game">
                <h2>××©×—×§ ×ª×¨×’×™×œ×™ ×–××Ÿ</h2>
                <div class="question-counter">×©××œ×” <span id="q-count1">1</span> ××ª×•×š 12</div>
                <div class="score">× ×™×§×•×“: <span id="score1">0</span></div>
                <div class="problem-display" id="problem1">×˜×•×¢×Ÿ...</div>
                <div class="controls">
                    <input type="number" id="answer1" placeholder="×”×›× ×¡ ×ª×©×•×‘×”">
                    <br><br>
                    <button onclick="checkAns(1);">×‘×“×•×§</button>
                </div>
                <div id="feedback1"></div>
                <div id="round-end1" style="display: none;"></div>
            </div>
        </div>
        
        <div id="lesson2" class="content">
            <div class="lesson">
                <h2>×›×¡×£ ×•×ª×§×¦×™×‘</h2>
                <p>××˜×‘×¢×•×ª ×•×©×˜×¨×•×ª ×‘×™×©×¨××œ ×•×›×™×¦×“ ×œ× ×”×œ ×ª×§×¦×™×‘.</p>
                
                <div class="money-visual">
                    <div class="coin">10 â‚ª</div>
                    <div class="coin">5 â‚ª</div>
                    <div class="coin">2 â‚ª</div>
                    <div class="coin">1 â‚ª</div>
                    <div class="bill">20 â‚ª</div>
                    <div class="bill">50 â‚ª</div>
                    <div class="bill">100 â‚ª</div>
                </div>
                
                <div class="example">
                    <h3>×“×•×’××” 1: ×—×™×©×•×‘ ×¢×•×“×£</h3>
                    <p><strong>×‘×¢×™×”:</strong> ×§× ×™× ×• ××©×—×§ ×‘-85 â‚ª ×•×©×™×œ×× ×• ×‘×©×˜×¨ ×©×œ 100 â‚ª. ×›××” ×¢×•×“×£ ×§×™×‘×œ× ×•?</p>
                    <div class="steps">
                        <p><strong>×¤×ª×¨×•×Ÿ:</strong></p>
                        <p style="direction: ltr; text-align: center; font-size: 1.3em;"><strong>100 - 85 = 15</strong></p>
                        <p><strong>×ª×©×•×‘×”:</strong> 15 â‚ª ×¢×•×“×£</p>
                    </div>
                </div>
                
                <div class="example">
                    <h3>×“×•×’××” 2: ×ª×›× ×•×Ÿ ×ª×§×¦×™×‘</h3>
                    <p><strong>×‘×¢×™×”:</strong> ×™×© ×œ× ×• 150 â‚ª. ×¨×•×¦×™× ×œ×§× ×•×ª 3 ×¡×¤×¨×™× ×‘-35 â‚ª ×›×œ ××—×“. ×”×× ×™×© ×œ× ×• ××¡×¤×™×§ ×›×¡×£?</p>
                    <div class="steps">
                        <p><strong>×¤×ª×¨×•×Ÿ:</strong></p>
                        <p style="direction: ltr; text-align: center; font-size: 1.3em;"><strong>35 Ã— 3 = 105</strong></p>
                        <p style="direction: ltr; text-align: center; font-size: 1.3em;"><strong>150 - 105 = 45</strong></p>
                        <p><strong>×ª×©×•×‘×”:</strong> ×›×Ÿ, ×™×© ××¡×¤×™×§ ×›×¡×£ ×•× ×©××¨×• 45 â‚ª</p>
                    </div>
                </div>
                
                <div class="example">
                    <h3>×“×•×’××” 3: ×—×™×¡×›×•×Ÿ</h3>
                    <p><strong>×‘×¢×™×”:</strong> ×—×•×¡×›×™× 20 â‚ª ×›×œ ×©×‘×•×¢. ×›××” × ×—×¡×•×š ×ª×•×š 8 ×©×‘×•×¢×•×ª?</p>
                    <div class="steps">
                        <p><strong>×¤×ª×¨×•×Ÿ:</strong></p>
                        <p style="direction: ltr; text-align: center; font-size: 1.3em;"><strong>20 Ã— 8 = 160</strong></p>
                        <p><strong>×ª×©×•×‘×”:</strong> 160 â‚ª</p>
                    </div>
                </div>
                
                <div class="example">
                    <h3>×“×•×’××” 4: ×—×œ×•×§×ª ×›×¡×£</h3>
                    <p><strong>×‘×¢×™×”:</strong> 4 ×™×œ×“×™× ××—×œ×§×™× ×‘×™× ×™×”× 240 â‚ª ×‘×©×•×•×”. ×›××” ×›×œ ××—×“ ××§×‘×œ?</p>
                    <div class="steps">
                        <p><strong>×¤×ª×¨×•×Ÿ:</strong></p>
                        <p style="direction: ltr; text-align: center; font-size: 1.3em;"><strong>240 Ã· 4 = 60</strong></p>
                        <p><strong>×ª×©×•×‘×”:</strong> ×›×œ ××—×“ ××§×‘×œ 60 â‚ª</p>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 30px; padding: 25px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 15px;">
                    <h3 style="color: white; margin-bottom: 15px; font-size: 1.5em;">âœ¨ ××•×›× ×™× ×œ×ª×¨×’×œ?</h3>
                    <p style="color: white; font-size: 1.2em; margin-bottom: 20px;">×¢×›×©×™×• ×©×œ××“×ª× ×¢×œ ×›×¡×£ ×•×ª×§×¦×™×‘, ×‘×•××• × ×ª×¨×’×œ ×‘××©×—×§!</p>
                    <button class="tab" data-tab="game2" style="font-size: 1.3em; padding: 18px 40px;">ğŸ¯ ×œ××©×—×§ ×‘×¢×™×•×ª ×›×¡×£</button>
                </div>
            </div>
        </div>
        
        <div id="game2" class="content">
            <div class="game">
                <h2>××©×—×§ ×‘×¢×™×•×ª ×›×¡×£</h2>
                <div class="question-counter">×©××œ×” <span id="q-count2">1</span> ××ª×•×š 12</div>
                <div class="score">× ×™×§×•×“: <span id="score2">0</span></div>
                <div class="problem-display" id="problem2">×˜×•×¢×Ÿ...</div>
                <div class="controls">
                    <input type="number" id="answer2" placeholder="×”×›× ×¡ ×ª×©×•×‘×”">
                    <br><br>
                    <button onclick="checkAns(2);">×‘×“×•×§</button>
                </div>
                <div id="feedback2"></div>
                <div id="round-end2" style="display: none;"></div>
            </div>
        </div>
        
        <div id="lesson3" class="content">
            <div class="lesson">
                <h2>××—×•×–×™× ×¤×©×•×˜×™×</h2>
                <p>××—×•×– ×¤×™×¨×•×©×• "××ª×•×š ×××”". × ×œ××“ ×œ×—×©×‘ 10%, 25% ×•-50%.</p>
                
                <div class="conversion-table">
                    <table>
                        <tr>
                            <th>××—×•×–</th>
                            <th>×©×‘×¨</th>
                            <th>×“×¨×š ×—×™×©×•×‘</th>
                            <th>×“×•×’××”</th>
                        </tr>
                        <tr>
                            <td>10%</td>
                            <td>1/10</td>
                            <td>×—×œ×§ ×‘-10</td>
                            <td>10% ×-50 = 5</td>
                        </tr>
                        <tr>
                            <td>25%</td>
                            <td>1/4</td>
                            <td>×—×œ×§ ×‘-4</td>
                            <td>25% ×-100 = 25</td>
                        </tr>
                        <tr>
                            <td>50%</td>
                            <td>1/2</td>
                            <td>×—×œ×§ ×‘-2</td>
                            <td>50% ×-80 = 40</td>
                        </tr>
                    </table>
                </div>
                
                <div class="example">
                    <h3>×“×•×’××” 1: ×—×™×©×•×‘ 10%</h3>
                    <p><strong>×‘×¢×™×”:</strong> ××”× 10% ×-80?</p>
                    <div class="steps">
                        <p><strong>×¤×ª×¨×•×Ÿ:</strong></p>
                        <p>10% = ×—×œ×§ ×‘-10</p>
                        <p style="direction: ltr; text-align: center; font-size: 1.3em;"><strong>80 Ã· 10 = 8</strong></p>
                        <p><strong>×ª×©×•×‘×”:</strong> 10% ×-80 ×–×” 8</p>
                    </div>
                </div>
                
                <div class="example">
                    <h3>×“×•×’××” 2: ×—×™×©×•×‘ 25%</h3>
                    <p><strong>×‘×¢×™×”:</strong> ××”× 25% ×-120?</p>
                    <div class="steps">
                        <p><strong>×¤×ª×¨×•×Ÿ:</strong></p>
                        <p>25% = ×¨×‘×¢ = ×—×œ×§ ×‘-4</p>
                        <p style="direction: ltr; text-align: center; font-size: 1.3em;"><strong>120 Ã· 4 = 30</strong></p>
                        <p><strong>×ª×©×•×‘×”:</strong> 25% ×-120 ×–×” 30</p>
                    </div>
                </div>
                
                <div class="example">
                    <h3>×“×•×’××” 3: ×—×™×©×•×‘ 50%</h3>
                    <p><strong>×‘×¢×™×”:</strong> ××”× 50% ×-200?</p>
                    <div class="steps">
                        <p><strong>×¤×ª×¨×•×Ÿ:</strong></p>
                        <p>50% = ×—×¦×™ = ×—×œ×§ ×‘-2</p>
                        <p style="direction: ltr; text-align: center; font-size: 1.3em;"><strong>200 Ã· 2 = 100</strong></p>
                        <p><strong>×ª×©×•×‘×”:</strong> 50% ×-200 ×–×” 100</p>
                    </div>
                </div>
                
                <div class="example">
                    <h3>×“×•×’××” 4: ×”× ×—×” ×‘×—× ×•×ª</h3>
                    <p><strong>×‘×¢×™×”:</strong> ××©×—×§ ×¢×•×œ×” 160 â‚ª ×•×™×© ×”× ×—×” ×©×œ 25%. ×›××” × ×©×œ×?</p>
                    <div class="steps">
                        <p><strong>×¤×ª×¨×•×Ÿ:</strong></p>
                        <p>×©×œ×‘ 1: ×—×©×‘ ××ª ×”×”× ×—×”</p>
                        <p style="direction: ltr; text-align: center; font-size: 1.3em;"><strong>160 Ã· 4 = 40</strong></p>
                        <p>×”×”× ×—×” ×”×™× 40 â‚ª</p>
                        <p>×©×œ×‘ 2: ×”××—×™×¨ ×”×—×“×©</p>
                        <p style="direction: ltr; text-align: center; font-size: 1.3em;"><strong>160 - 40 = 120</strong></p>
                        <p><strong>×ª×©×•×‘×”:</strong> × ×©×œ× 120 â‚ª</p>
                    </div>
                </div>
                
                <div class="example">
                    <h3>×“×•×’××” 5: ×‘×¢×™×” ××”×—×™×™×</h3>
                    <p><strong>×‘×¢×™×”:</strong> ×‘×›×™×ª×” 40 ×™×œ×“×™×. 50% ××”× ××©×—×§×™× ×›×“×•×¨×¡×œ. ×›××” ×™×œ×“×™× ××©×—×§×™×?</p>
                    <div class="steps">
                        <p><strong>×¤×ª×¨×•×Ÿ:</strong></p>
                        <p>50% = ×—×¦×™</p>
                        <p style="direction: ltr; text-align: center; font-size: 1.3em;"><strong>40 Ã· 2 = 20</strong></p>
                        <p><strong>×ª×©×•×‘×”:</strong> 20 ×™×œ×“×™× ××©×—×§×™× ×›×“×•×¨×¡×œ</p>
                    </div>
                </div>
                
                <div class="example">
                    <h3>×“×•×’××” 6: ×”× ×—×” ×©×œ 50%</h3>
                    <p><strong>×‘×¢×™×”:</strong> ×—×•×œ×¦×” ×¢×•×œ×” 80 â‚ª. ×‘××‘×¦×¢ ×™×© ×”× ×—×” ×©×œ 50%. ××” ×”××—×™×¨ ×‘××‘×¦×¢?</p>
                    <div class="steps">
                        <p><strong>×¤×ª×¨×•×Ÿ:</strong></p>
                        <p>50% = ×—×¦×™ ××”××—×™×¨</p>
                        <p style="direction: ltr; text-align: center; font-size: 1.3em;"><strong>80 Ã· 2 = 40</strong></p>
                        <p><strong>×ª×©×•×‘×”:</strong> ×”××—×™×¨ ×‘××‘×¦×¢ ×”×•× 40 â‚ª</p>
                    </div>
                </div>
                
                <h2 style="color: #ff6b6b; margin-top: 30px;">×˜×™×¤×™× ×œ×—×™×©×•×‘ ××—×•×–×™×</h2>
                <div class="example">
                    <h3>ğŸ’¡ ×–×›×¨×•!</h3>
                    <p>â€¢ <strong>10%</strong> - ××—×œ×§×™× ×‘-10 (××–×–×™× × ×§×•×“×” ×¢×©×¨×•× ×™×ª ×©×××œ×”)</p>
                    <p>â€¢ <strong>25%</strong> - ××—×œ×§×™× ×‘-4 (×¨×‘×¢ ××”××¡×¤×¨)</p>
                    <p>â€¢ <strong>50%</strong> - ××—×œ×§×™× ×‘-2 (×—×¦×™ ××”××¡×¤×¨)</p>
                    <p style="margin-top: 15px;">×›×“×™ ×œ××¦×•× ××ª ×”××—×™×¨ ××—×¨×™ ×”× ×—×”:</p>
                    <p style="direction: ltr; text-align: center; font-size: 1.2em; background: rgba(255,255,255,0.3); padding: 10px; border-radius: 8px; margin-top: 10px;">
                        <strong>××—×™×¨ ××§×•×¨×™ - ×”× ×—×” = ××—×™×¨ ×¡×•×¤×™</strong>
                    </p>
                </div>
                
                <div style="text-align: center; margin-top: 30px; padding: 25px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 15px;">
                    <h3 style="color: white; margin-bottom: 15px; font-size: 1.5em;">âœ¨ ××•×›× ×™× ×œ×ª×¨×’×œ?</h3>
                    <p style="color: white; font-size: 1.2em; margin-bottom: 20px;">×¢×›×©×™×• ×©×œ××“×ª× ×¢×œ ××—×•×–×™×, ×‘×•××• × ×ª×¨×’×œ ×‘××©×—×§!</p>
                    <button class="tab" data-tab="game3" style="font-size: 1.3em; padding: 18px 40px;">ğŸ† ×œ××©×—×§ ×—×™×©×•×‘×™ ××—×•×–×™×</button>
                </div>
            </div>
        </div>
        
        <div id="game3" class="content">
            <div class="game">
                <h2>××©×—×§ ×—×™×©×•×‘×™ ××—×•×–×™×</h2>
                <div class="question-counter">×©××œ×” <span id="q-count3">1</span> ××ª×•×š 12</div>
                <div class="score">× ×™×§×•×“: <span id="score3">0</span></div>
                <div class="problem-display" id="problem3">×˜×•×¢×Ÿ...</div>
                <div class="controls">
                    <input type="number" id="answer3" placeholder="×”×›× ×¡ ×ª×©×•×‘×”">
                    <br><br>
                    <button onclick="checkAns(3);">×‘×“×•×§</button>
                </div>
                <div id="feedback3"></div>
                <div id="round-end3" style="display: none;"></div>
            </div>
        </div>
    </div>

    <script>
var scores = {1: 0, 2: 0, 3: 0};
var currentQuestion = {1: 0, 2: 0, 3: 0};
var questionBank = {1: [], 2: [], 3: []};
var gameData = {1: {}, 2: {}, 3: {}};
var answerLocked = {1: false, 2: false, 3: false};

function generateQ1() {
    var type = Math.floor(Math.random() * 10);
    if (type === 0) {
        var mins = (Math.floor(Math.random() * 4) + 2) * 60;
        return { text: '×”××¨ ' + mins + ' ×“×§×•×ª ×œ×©×¢×•×ª', answer: mins / 60 };
    } else if (type === 1) {
        var hours = Math.floor(Math.random() * 4) + 2;
        return { text: '×”××¨ ' + hours + ' ×©×¢×•×ª ×œ×“×§×•×ª', answer: hours * 60 };
    } else if (type === 2) {
        var days = Math.floor(Math.random() * 3) + 2;
        return { text: '×›××” ×©×¢×•×ª ×™×© ×‘-' + days + ' ×™××™×?', answer: days * 24 };
    } else if (type === 3) {
        var start = Math.floor(Math.random() * 3) + 1;
        var duration = Math.floor(Math.random() * 4) + 2;
        return { text: '×¤×¢×™×œ×•×ª ××ª×—×™×œ×” ×‘-' + start + ':00<br>×•× ××©×›×ª ' + duration + ' ×©×¢×•×ª.<br>××ª×™ ×”×™× ××¡×ª×™×™××ª? (×‘×©×¢×•×ª)', answer: start + duration };
    } else if (type === 4) {
        var weeks = Math.floor(Math.random() * 3) + 2;
        return { text: '×›××” ×™××™× ×™×© ×‘-' + weeks + ' ×©×‘×•×¢×•×ª?', answer: weeks * 7 };
    } else if (type === 5) {
        var totalMins = (Math.floor(Math.random() * 3) + 2) * 60;
        return { text: '×”××¨ ' + totalMins + ' ×“×§×•×ª ×œ×©×¢×•×ª', answer: totalMins / 60 };
    } else if (type === 6) {
        var hours1 = Math.floor(Math.random() * 3) + 1;
        var mins1 = Math.floor(Math.random() * 6) * 10;
        var totalMins = hours1 * 60 + mins1;
        return { text: hours1 + ' ×©×¢×•×ª ×•-' + mins1 + ' ×“×§×•×ª<br>= ×›××” ×“×§×•×ª?', answer: totalMins };
    } else if (type === 7) {
        var startH = Math.floor(Math.random() * 4) + 8;
        var endH = startH + Math.floor(Math.random() * 3) + 2;
        return { text: '×-' + startH + ':00 ×¢×“ ' + endH + ':00<br>×›××” ×©×¢×•×ª ×¢×‘×¨×•?', answer: endH - startH };
    } else if (type === 8) {
        var task1 = Math.floor(Math.random() * 3) + 1;
        var task2 = Math.floor(Math.random() * 3) + 1;
        return { text: '××©×™××” ×¨××©×•× ×”: ' + task1 + ' ×©×¢×•×ª<br>××©×™××” ×©× ×™×™×”: ' + task2 + ' ×©×¢×•×ª<br>×›××” ×–××Ÿ ×‘×¡×š ×”×›×œ?', answer: task1 + task2 };
    } else {
        var totalHours = Math.floor(Math.random() * 4) + 3;
        var used = Math.floor(Math.random() * 2) + 1;
        return { text: '×™×© ' + totalHours + ' ×©×¢×•×ª ×¤× ×•×™×•×ª<br>×”×©×ª××©× ×• ×‘-' + used + ' ×©×¢×•×ª<br>×›××” ×©×¢×•×ª × ×©××¨×•?', answer: totalHours - used };
    }
}

function generateQ2() {
    var type = Math.floor(Math.random() * 10);
    if (type === 0) {
        var paid = [50, 100, 200][Math.floor(Math.random() * 3)];
        var cost = paid - (Math.floor(Math.random() * 8) + 5) * 5;
        return { text: '×§× ×™×ª ××©×”×• ×‘-' + cost + ' â‚ª<br>×©×™×œ××ª ×‘-' + paid + ' â‚ª<br>×›××” ×¢×•×“×£ ×ª×§×‘×œ?', answer: paid - cost };
    } else if (type === 1) {
        var price = Math.floor(Math.random() * 30) + 15;
        var quantity = Math.floor(Math.random() * 5) + 3;
        return { text: '×§× ×™×ª ' + quantity + ' ×¤×¨×™×˜×™×<br>×›×œ ××—×“ ×¢×•×œ×” ' + price + ' â‚ª<br>×›××” ×©×™×œ××ª ×‘×¡×š ×”×›×œ?', answer: price * quantity };
    } else if (type === 2) {
        var weekly = [15, 20, 25, 30][Math.floor(Math.random() * 4)];
        var weeks = Math.floor(Math.random() * 6) + 4;
        return { text: '×—×•×¡×š ' + weekly + ' â‚ª ×›×œ ×©×‘×•×¢<br>×›××” ×™×—×¡×•×š ×ª×•×š ' + weeks + ' ×©×‘×•×¢×•×ª?', answer: weekly * weeks };
    } else if (type === 3) {
        var total = [120, 180, 240, 300][Math.floor(Math.random() * 4)];
        var people = [3, 4, 5, 6][Math.floor(Math.random() * 4)];
        return { text: total + ' â‚ª ××—×•×œ×§×™× ×‘×™×Ÿ ' + people + ' ×™×œ×“×™×<br>×‘×©×•×•×”. ×›××” ×›×œ ××—×“ ××§×‘×œ?', answer: total / people };
    } else if (type === 4) {
        var item1 = Math.floor(Math.random() * 30) + 20;
        var item2 = Math.floor(Math.random() * 30) + 20;
        return { text: '×§× ×™×ª 2 ×¤×¨×™×˜×™×:<br>' + item1 + ' â‚ª ×•-' + item2 + ' â‚ª<br>×›××” ×©×™×œ××ª?', answer: item1 + item2 };
    } else if (type === 5) {
        var budget = [100, 150, 200][Math.floor(Math.random() * 3)];
        var spent = budget - (Math.floor(Math.random() * 5) + 2) * 10;
        return { text: '×ª×§×¦×™×‘: ' + budget + ' â‚ª<br>×”×•×¦××ª: ' + spent + ' â‚ª<br>×›××” × ×©××¨?', answer: budget - spent };
    } else if (type === 6) {
        var priceEach = [5, 10, 15, 20][Math.floor(Math.random() * 4)];
        var quantity = Math.floor(Math.random() * 6) + 5;
        var total = priceEach * quantity;
        return { text: '×›×œ ×¤×¨×™×˜ ×¢×•×œ×” ' + priceEach + ' â‚ª<br>×§× ×™×ª ×‘-' + total + ' â‚ª<br>×›××” ×¤×¨×™×˜×™× ×§× ×™×ª?', answer: quantity };
    } else if (type === 7) {
        var saved = Math.floor(Math.random() * 50) + 50;
        var goal = saved + (Math.floor(Math.random() * 50) + 30);
        return { text: '×—×¡×›×ª ' + saved + ' â‚ª<br>×”××˜×¨×”: ' + goal + ' â‚ª<br>×›××” ×¢×•×“ ×¦×¨×™×š ×œ×—×¡×•×š?', answer: goal - saved };
    } else if (type === 8) {
        var daily = [5, 10, 15][Math.floor(Math.random() * 3)];
        var days = Math.floor(Math.random() * 5) + 3;
        return { text: '××•×¦×™× ' + daily + ' â‚ª ×›×œ ×™×•×<br>×›××” ×™×•×¦× ×ª×•×š ' + days + ' ×™××™×?', answer: daily * days };
    } else {
        var coins10 = Math.floor(Math.random() * 5) + 2;
        var coins5 = Math.floor(Math.random() * 4) + 1;
        return { text: coins10 + ' ××˜×‘×¢×•×ª ×©×œ 10 â‚ª<br>×•-' + coins5 + ' ××˜×‘×¢×•×ª ×©×œ 5 â‚ª<br>×›××” ×›×¡×£ ×™×©?', answer: coins10 * 10 + coins5 * 5 };
    }
}

function generateQ3() {
    var type = Math.floor(Math.random() * 10);
    if (type === 0) {
        var num = [20, 40, 60, 80, 100, 120][Math.floor(Math.random() * 6)];
        return { text: '××”× 10% ×-' + num + '?', answer: num / 10 };
    } else if (type === 1) {
        var num = [20, 40, 60, 80, 100, 120, 160][Math.floor(Math.random() * 7)];
        return { text: '××”× 25% ×-' + num + '?', answer: num / 4 };
    } else if (type === 2) {
        var num = [20, 40, 60, 80, 100, 120, 140, 160, 200][Math.floor(Math.random() * 9)];
        return { text: '××”× 50% ×-' + num + '?', answer: num / 2 };
    } else if (type === 3) {
        var price = [80, 120, 160, 200][Math.floor(Math.random() * 4)];
        var discount = price / 4;
        return { text: '××—×™×¨: ' + price + ' â‚ª<br>×”× ×—×” ×©×œ 25%<br>×›××” ×”×”× ×—×”?', answer: discount };
    } else if (type === 4) {
        var total = [30, 40, 50, 60][Math.floor(Math.random() * 4)];
        return { text: '×‘×›×™×ª×” ' + total + ' ×ª×œ××™×“×™×<br>50% ××”× ×‘× ×•×ª<br>×›××” ×‘× ×•×ª?', answer: total / 2 };
    } else if (type === 5) {
        var price = [100, 120, 140, 160, 200][Math.floor(Math.random() * 5)];
        var discount = price / 10;
        var final = price - discount;
        return { text: '××—×™×¨: ' + price + ' â‚ª<br>×”× ×—×” 10%<br>××” ×”××—×™×¨ ××—×¨×™ ×”× ×—×”?', answer: final };
    } else if (type === 6) {
        var num = [40, 80, 120, 160][Math.floor(Math.random() * 4)];
        return { text: '××”× 50% ×-' + num + '?', answer: num / 2 };
    } else if (type === 7) {
        var students = [20, 30, 40, 50][Math.floor(Math.random() * 4)];
        var percent10 = students / 10;
        return { text: '×‘×‘×™×ª ×¡×¤×¨ ' + students + ' ×ª×œ××™×“×™×<br>10% ×—×•×œ×™×<br>×›××” ×ª×œ××™×“×™× ×—×•×œ×™×?', answer: percent10 };
    } else if (type === 8) {
        var price = [80, 100, 120, 140][Math.floor(Math.random() * 4)];
        var newPrice = price / 2;
        return { text: '××—×™×¨: ' + price + ' â‚ª<br>×”× ×—×” ×©×œ 50%<br>××” ×”××—×™×¨ ×”×—×“×©?', answer: newPrice };
    } else {
        var num = [100, 200, 300, 400][Math.floor(Math.random() * 4)];
        var percent25 = num / 4;
        return { text: num + ' ×ª×¤×•×—×™×<br>25% ××”× ××“×•××™×<br>×›××” ××“×•××™×?', answer: percent25 };
    }
}

function initGame(g) {
    questionBank[g] = [];
    for (var i = 0; i < 20; i++) {
        var newQ;
        if (g === 1) newQ = generateQ1();
        else if (g === 2) newQ = generateQ2();
        else newQ = generateQ3();
        questionBank[g].push(newQ);
    }
    questionBank[g].sort(function() { return Math.random() - 0.5; });
    questionBank[g] = questionBank[g].slice(0, 12);
    nextQ(g);
}

function nextQ(g) {
    if (currentQuestion[g] >= 12) {
        var feedbackEl = document.getElementById('feedback' + g);
        if (feedbackEl) feedbackEl.innerHTML = '';
        showEnd(g);
        return;
    }
    answerLocked[g] = false;
    gameData[g] = questionBank[g][currentQuestion[g]];
    document.getElementById('q-count' + g).textContent = currentQuestion[g] + 1;
    document.getElementById('problem' + g).innerHTML = gameData[g].text;
    document.getElementById('answer' + g).value = '';
    document.getElementById('feedback' + g).innerHTML = '';
}

function checkAns(g) {
    if (answerLocked[g]) return;
    var answerEl = document.getElementById('answer' + g);
    var ans = parseFloat(answerEl.value);
    if (isNaN(ans)) return;
    answerLocked[g] = true;
    currentQuestion[g]++;
    
    if (ans === gameData[g].answer) {
        scores[g]++;
        playSound('correct');
        document.getElementById('feedback' + g).innerHTML = '<div class="feedback correct">× ×›×•×Ÿ ××¢×•×œ×”! âœ”</div>';
    } else {
        playSound('incorrect');
        document.getElementById('feedback' + g).innerHTML = '<div class="feedback incorrect">×œ× × ×›×•×Ÿ. ×ª×©×•×‘×” × ×›×•× ×”: ' + gameData[g].answer + '</div>';
    }
    document.getElementById('score' + g).textContent = scores[g];
    
    if (currentQuestion[g] < 12) {
        setTimeout(function() {
            var feedbackEl = document.getElementById('feedback' + g);
            if (feedbackEl && feedbackEl.style.display !== 'none') {
                feedbackEl.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        }, 100);
    }
    
    setTimeout(function() { nextQ(g); }, 2000);
}

function showEnd(g) {
    var pct = Math.round((scores[g] / 12) * 100);
    var msg = pct >= 80 ? '××¢×•×œ×”! ğŸŒŸ' : pct >= 60 ? '×™×¤×” ×××•×“! ğŸ‘' : '×›×œ ×”×›×‘×•×“! ×”××©×š ×œ×”×ª×××Ÿ! ğŸ’ª';
    document.getElementById('round-end' + g).innerHTML = '<div class="round-complete"><h3>×¡×™×™××ª!</h3><p>' + msg + '</p><p>×¦×™×•×Ÿ: ' + scores[g] + '/12 (' + pct + '%)</p><button class="new-round-btn" onclick="resetGame(' + g + ')">×¡×™×‘×•×‘ × ×•×¡×£</button></div>';
    document.getElementById('round-end' + g).style.display = 'block';
    document.getElementById('problem' + g).style.display = 'none';
}

function resetGame(g) {
    scores[g] = 0;
    currentQuestion[g] = 0;
    answerLocked[g] = false;
    document.getElementById('score' + g).textContent = '0';
    document.getElementById('round-end' + g).style.display = 'none';
    document.getElementById('problem' + g).style.display = 'block';
    document.getElementById('feedback' + g).innerHTML = '';
    initGame(g);
}

window.onload = function() {
    var tabs = document.querySelectorAll('.tab');
    tabs.forEach(function(tab) {
        tab.onclick = function() {
            playSound('click');
            var tabId = this.getAttribute('data-tab');
            var allContent = document.querySelectorAll('.content');
            var allTabs = document.querySelectorAll('.tab');
            allContent.forEach(function(content) { content.classList.remove('active'); });
            allTabs.forEach(function(t) { t.classList.remove('active'); });
            document.getElementById(tabId).classList.add('active');
            this.classList.add('active');
            
            if (tabId === 'game1' || tabId === 'game2' || tabId === 'game3') {
                var gameNum = parseInt(tabId.replace('game', ''));
                scores[gameNum] = 0;
                currentQuestion[gameNum] = 0;
                answerLocked[gameNum] = false;
                questionBank[gameNum] = [];
                document.getElementById('score' + gameNum).textContent = '0';
                document.getElementById('round-end' + gameNum).style.display = 'none';
                document.getElementById('problem' + gameNum).style.display = 'block';
                document.getElementById('feedback' + gameNum).innerHTML = '';
                document.getElementById('feedback' + gameNum).style.display = 'block';
                document.getElementById('answer' + gameNum).value = '';
                var controls = document.querySelector('#game' + gameNum + ' .controls');
                if (controls) controls.style.display = 'block';
                setTimeout(function() { initGame(gameNum); }, 50);
            }
        };
    });
    
    document.addEventListener('wheel', function(e) {
        if (document.activeElement.type === 'number') {
            document.activeElement.blur();
        }
    });
};

function playSound(type) {
    var audioContext = new (window.AudioContext || window.webkitAudioContext)();
    if (type === 'click') {
        var osc = audioContext.createOscillator();
        var gain = audioContext.createGain();
        osc.connect(gain);
        gain.connect(audioContext.destination);
        osc.type = 'sine';
        osc.frequency.value = 600;
        gain.gain.setValueAtTime(0.15, audioContext.currentTime);
        gain.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.15);
        osc.start(audioContext.currentTime);
        osc.stop(audioContext.currentTime + 0.15);
    } else if (type === 'correct') {
        var notes = [523.25, 659.25, 783.99];
        notes.forEach(function(note, index) {
            var osc = audioContext.createOscillator();
            var gain = audioContext.createGain();
            osc.connect(gain);
            gain.connect(audioContext.destination);
            osc.type = 'sine';
            osc.frequency.value = note;
            gain.gain.setValueAtTime(0.1, audioContext.currentTime + index * 0.1);
            gain.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + index * 0.1 + 0.3);
            osc.start(audioContext.currentTime + index * 0.1);
            osc.stop(audioContext.currentTime + index * 0.1 + 0.3);
        });
    } else if (type === 'incorrect') {
        var osc = audioContext.createOscillator();
        var gain = audioContext.createGain();
        osc.connect(gain);
        gain.connect(audioContext.destination);
        osc.type = 'sine';
        osc.frequency.value = 200;
        gain.gain.setValueAtTime(0.15, audioContext.currentTime);
        gain.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
        osc.start(audioContext.currentTime);
        osc.stop(audioContext.currentTime + 0.3);
    }
}
    </script>
</body>
</html>
                    
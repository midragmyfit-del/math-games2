<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>×©×™×¢×•×¨ ×›×¤×œ ×•×—×™×œ×•×§ ×œ×›×™×ª×” ×‘'</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        h1 {
            color: #667eea;
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        h2 {
            color: #764ba2;
            margin-top: 30px;
            margin-bottom: 15px;
            font-size: 1.8em;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }
        
        h3 {
            color: #667eea;
            margin-top: 20px;
            margin-bottom: 10px;
            font-size: 1.4em;
        }
        
        .example-box {
            background: #f0f4ff;
            border-right: 5px solid #667eea;
            padding: 20px;
            margin: 15px 0;
            border-radius: 10px;
        }
        
        .cookies, .apples {
            font-size: 2em;
            letter-spacing: 5px;
            text-align: center;
            margin: 15px 0;
        }
        
        .multiplication-table {
            background: #fff3cd;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
        }
        
        .multiplication-table div {
            padding: 8px;
            font-size: 1.2em;
            font-weight: bold;
            direction: ltr;
        }
        
        .game-section {
            background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);
            padding: 25px;
            border-radius: 15px;
            margin: 25px 0;
        }
        
        .game-title {
            color: #fff;
            text-align: center;
            font-size: 2em;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .question-display {
            background: white;
            padding: 30px;
            margin: 20px 0;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            text-align: center;
        }
        
        .question-text {
            font-size: 2.5em;
            margin-bottom: 20px;
            font-weight: bold;
            color: #333;
            direction: ltr;
        }
        
        .answer-input {
            width: 150px;
            padding: 15px;
            font-size: 1.8em;
            border: 3px solid #667eea;
            border-radius: 10px;
            text-align: center;
            direction: ltr;
            margin: 10px;
        }
        
        .check-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.3em;
            border-radius: 10px;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s;
        }
        
        .check-btn:hover {
            background: #764ba2;
            transform: scale(1.05);
        }
        
        .next-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.3em;
            border-radius: 10px;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s;
            display: none;
        }
        
        .next-btn:hover {
            background: #218838;
            transform: scale(1.05);
        }
        
        .result {
            display: block;
            margin: 20px 0;
            font-size: 1.5em;
            font-weight: bold;
            padding: 10px 20px;
            border-radius: 10px;
        }
        
        .correct {
            background: #d4edda;
            color: #155724;
        }
        
        .incorrect {
            background: #f8d7da;
            color: #721c24;
        }
        
        .score-board {
            text-align: center;
            font-size: 1.8em;
            padding: 20px;
            background: #fff3cd;
            border-radius: 10px;
            margin: 20px 0;
            font-weight: bold;
        }
        
        .score-item {
            display: inline-block;
            margin: 0 20px;
        }
        
        .tip-box {
            background: #d1ecf1;
            border-right: 4px solid #17a2b8;
            padding: 15px;
            margin: 15px 0;
            border-radius: 8px;
        }
        
        ul {
            margin-right: 20px;
            line-height: 1.8;
        }
        
        li {
            margin: 10px 0;
            font-size: 1.1em;
        }
        
        p {
            line-height: 1.8;
            font-size: 1.1em;
            margin: 10px 0;
        }
        
        strong {
            color: #667eea;
        }
        
        .game-selector {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .game-btn {
            background: white;
            color: #667eea;
            border: 3px solid #667eea;
            padding: 15px 30px;
            font-size: 1.2em;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
        }
        
        .game-btn:hover {
            background: #667eea;
            color: white;
            transform: scale(1.05);
        }
        
        .game-btn.active {
            background: #667eea;
            color: white;
        }
        
        .story-text {
            font-size: 1.3em;
            margin-bottom: 20px;
            line-height: 1.6;
            color: #333;
        }
        
        .game-area {
            display: block;
        }
        
        .game-area.hidden {
            display: none;
        }
        
        .final-results {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            padding: 40px;
            border-radius: 20px;
            color: white;
            text-align: center;
            display: none;
        }
        
        .final-results h2 {
            color: white;
            font-size: 2.5em;
            margin-bottom: 20px;
            border: none;
        }
        
        .final-score {
            font-size: 3em;
            margin: 20px 0;
            font-weight: bold;
        }
        
        .final-details {
            font-size: 1.5em;
            margin: 15px 0;
        }
        
        .restart-btn {
            background: white;
            color: #f5576c;
            border: none;
            padding: 20px 50px;
            font-size: 1.5em;
            border-radius: 15px;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s;
            font-weight: bold;
        }
        
        .restart-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        
        .medal {
            font-size: 5em;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¯ ×©×™×¢×•×¨: ×›×¤×œ ×•×—×™×œ×•×§ ×œ×›×™×ª×” ×‘'</h1>
        
        <h2>×—×œ×§ ×': ×”×¡×‘×¨ ×”××•×©×’ - ××” ×–×” ×›×¤×œ?</h2>
        
        <h3>×›×¤×œ = ×—×™×‘×•×¨ ×—×•×–×¨! ğŸ”¢</h3>
        
        <div class="example-box">
            <p><strong>×“××™×™× ×•:</strong> ×™×© ×œ×›× 4 ×¦×œ×—×•×ª, ×•×‘×›×œ ×¦×œ×—×ª 3 ×¢×•×’×™×•×ª.</p>
            <div class="cookies">
                ğŸªğŸªğŸª | ğŸªğŸªğŸª | ğŸªğŸªğŸª | ğŸªğŸªğŸª
            </div>
            <p><strong>×›××” ×¢×•×’×™×•×ª ×™×© ×‘×¡×š ×”×›×œ?</strong></p>
            <p><strong>×“×¨×š ××¨×•×›×”:</strong> <span dir="ltr">3 + 3 + 3 + 3 = 12</span></p>
            <p><strong>×“×¨×š ×§×¦×¨×”:</strong> <span dir="ltr">4 Ã— 3 = 12</span></p>
            <p><strong>×§×•×¨××™×:</strong> "××¨×‘×¢ ×›×¤×•×œ ×©×œ×•×© ×©×•×•×” ×©×ª×™×™× ×¢×©×¨×”"</p>
            <p><strong>××©××¢×•×ª:</strong> 4 ×§×‘×•×¦×•×ª ×©×œ 3</p>
        </div>
        
        <h2>×—×œ×§ ×‘': ×œ×•×— ×”×›×¤×œ - ×”×ª×—×œ×”</h2>
        
        <h3>×›×¤×œ ×‘-2 (×”×›×™ ×§×œ!) ğŸ˜Š</h3>
        <div class="multiplication-table">
            <div dir="ltr">2 Ã— 1 = 2</div>
            <div dir="ltr">2 Ã— 2 = 4</div>
            <div dir="ltr">2 Ã— 3 = 6</div>
            <div dir="ltr">2 Ã— 4 = 8</div>
            <div dir="ltr">2 Ã— 5 = 10</div>
            <div class="tip-box">
                <strong>×˜×¨×™×§:</strong> ×–×” ×‘×“×™×•×§ ×”×¡×¤×™×¨×” ×‘×“×™×œ×•×’×™× ×©×œ 2!
            </div>
        </div>
        
        <h3>×›×¤×œ ×‘-5 (×’× ×§×œ!) âœ‹</h3>
        <div class="multiplication-table">
            <div dir="ltr">5 Ã— 1 = 5</div>
            <div dir="ltr">5 Ã— 2 = 10</div>
            <div dir="ltr">5 Ã— 3 = 15</div>
            <div dir="ltr">5 Ã— 4 = 20</div>
            <div dir="ltr">5 Ã— 5 = 25</div>
            <div class="tip-box">
                <strong>×˜×¨×™×§:</strong> ×›×œ ×”×ª×•×¦××•×ª ××¡×ª×™×™××•×ª ×‘-0 ××• ×‘-5!
            </div>
        </div>
        
        <h2>×—×œ×§ ×’': ××” ×–×” ×—×™×œ×•×§?</h2>
        
        <h3>×—×™×œ×•×§ = ×œ×—×œ×§ ×‘×¦×•×¨×” ×©×•×•×” ğŸ°</h3>
        
        <div class="example-box">
            <p><strong>×“×•×’××”:</strong> ×™×© ×œ× ×• 12 ×ª×¤×•×—×™× ×•-3 ×¡×œ×™×. ×›××” ×ª×¤×•×—×™× ×‘×›×œ ×¡×œ?</p>
            <div class="apples">
                ğŸğŸğŸğŸ | ğŸğŸğŸğŸ | ğŸğŸğŸğŸ
            </div>
            <p dir="ltr"><strong>12 Ã· 3 = 4</strong></p>
            <p><strong>×§×•×¨××™×:</strong> "×©×ª×™×™× ×¢×©×¨×” ×—×œ×§×™ ×©×œ×•×© ×©×•×•×” ××¨×‘×¢"</p>
        </div>
        
        <h2>×—×œ×§ ×“': ×”×§×©×¨ ×‘×™×Ÿ ×›×¤×œ ×œ×—×™×œ×•×§</h2>
        
        <div class="example-box">
            <p><strong>××©×¤×—×ª ×¢×•×‘×“×•×ª:</strong></p>
            <ul>
                <li dir="ltr">3 Ã— 4 = 12 âœ…</li>
                <li dir="ltr">4 Ã— 3 = 12 âœ…</li>
                <li dir="ltr">12 Ã· 3 = 4 âœ…</li>
                <li dir="ltr">12 Ã· 4 = 3 âœ…</li>
            </ul>
            <p><strong>×›×•×œ× ×§×©×•×¨×™×! ×–×” ×›××• ××©×¤×—×” ×©×œ ××¡×¤×¨×™× ğŸ‘¨â€ğŸ‘©â€ğŸ‘§</strong></p>
        </div>
        
        <h1 class="game-title">ğŸ® ×ª×¨×’×•×œ - ×‘×—×¨×• ××©×—×§!</h1>
        
        <div class="game-selector">
            <button class="game-btn active" onclick="selectGame('multiply')">ğŸ¯ ×›×¤×œ</button>
            <button class="game-btn" onclick="selectGame('divide')">â— ×—×™×œ×•×§</button>
            <button class="game-btn" onclick="selectGame('story')">ğŸ“– ×‘×¢×™×•×ª</button>
            <button class="game-btn" onclick="selectGame('family')">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ ××©×¤×—×•×ª</button>
        </div>
        
        <div class="score-board">
            <div class="score-item">ğŸ“ ×©××œ×”: <span id="current">1</span> / 20</div>
            <div class="score-item">âœ… × ×›×•× ×•×ª: <span id="correct">0</span></div>
            <div class="score-item">âŒ ×˜×¢×•×™×•×ª: <span id="wrong">0</span></div>
        </div>
        
        <div class="game-section game-area" id="gameArea">
            <div class="question-display">
                <div id="storyText" class="story-text" style="display:none;"></div>
                <div class="question-text" id="questionText">2 Ã— 3 = ?</div>
                <input type="number" class="answer-input" id="answer" onkeypress="if(event.key==='Enter') checkAnswer()">
                <br>
                <button class="check-btn" onclick="checkAnswer()">×‘×“×•×§ ×ª×©×•×‘×”</button>
                <button class="next-btn" id="nextBtn" onclick="nextQuestion()">×©××œ×” ×”×‘××” â¡ï¸</button>
                <div class="result" id="result"></div>
            </div>
        </div>
        
        <div class="final-results" id="finalResults">
            <h2>ğŸ‰ ×¡×™×™××ª ××ª ×”×¡×™×‘×•×‘! ğŸ‰</h2>
            <div class="medal" id="medal">ğŸ†</div>
            <div class="final-score">
                <span id="finalCorrect">0</span> / 20
            </div>
            <div class="final-details">
                âœ… ×ª×©×•×‘×•×ª × ×›×•× ×•×ª: <span id="finalCorrectNum">0</span>
            </div>
            <div class="final-details">
                âŒ ×ª×©×•×‘×•×ª ×©×’×•×™×•×ª: <span id="finalWrongNum">0</span>
            </div>
            <div class="final-details">
                ğŸ“Š ××—×•×– ×”×¦×œ×—×”: <span id="finalPercent">0</span>%
            </div>
            <div class="final-details" id="finalMessage"></div>
            <button class="restart-btn" onclick="restartGame()">ğŸ”„ ×¡×™×‘×•×‘ × ×•×¡×£</button>
        </div>
        
        <div class="tip-box">
            <h3>ğŸ’¡ ××™×š ×–×” ×¢×•×‘×“?</h3>
            <ul>
                <li>×‘×—×¨×• ×¡×•×’ ×ª×¨×’×•×œ ×œ××¢×œ×” (×›×¤×œ, ×—×™×œ×•×§, ×‘×¢×™×•×ª, ××• ××©×¤×—×•×ª)</li>
                <li>×›×œ ×¡×™×‘×•×‘ ×–×” 20 ×©××œ×•×ª</li>
                <li>×‘×¡×•×£ ×ª×§×‘×œ×• ×¦×™×•×Ÿ ×•××¤×©×¨×•×ª ×œ×¡×™×‘×•×‘ × ×•×¡×£</li>
                <li>× ×¡×• ×œ×©×¤×¨ ××ª ×”××—×•×– ×©×œ×›×!</li>
            </ul>
        </div>
    </div>
    
    <script>
        let currentGame = 'multiply';
        let currentQuestion = {};
        let correctCount = 0;
        let wrongCount = 0;
        let questionNumber = 1;
        const maxQuestions = 20;
        
        const stories = [
            { text: 'ğŸ¦ ×‘×’×Ÿ ×”×—×™×•×ª ×™×© {0} ×›×œ×•×‘×™×. ×‘×›×œ ×›×œ×•×‘ {1} ××¨×™×•×ª. ×›××” ××¨×™×•×ª ×‘×¡×š ×”×›×œ?', type: 'multiply' },
            { text: 'ğŸ“š ×‘×›×™×ª×” ×™×© {0} ×©×•×œ×—× ×•×ª. ×¢×œ ×›×œ ×©×•×œ×—×Ÿ {1} ×¡×¤×¨×™×. ×›××” ×¡×¤×¨×™× ×™×©?', type: 'multiply' },
            { text: 'âš½ ×‘××’×¨×© ×™×© {0} ×™×œ×“×™×. ×œ×›×œ ×™×œ×“ {1} ×›×“×•×¨×™×. ×›××” ×›×“×•×¨×™× ×™×©?', type: 'multiply' },
            { text: 'ğŸ ×™×© {0} ×ª×¤×•×—×™× ×©×¦×¨×™×š ×œ×—×œ×§ ×œ-{1} ×™×œ×“×™× ×‘××•×¤×Ÿ ×©×•×•×”. ×›××” ×›×œ ×™×œ×“ ×™×§×‘×œ?', type: 'divide' },
            { text: 'ğŸˆ ×™×© {0} ×‘×œ×•× ×™× ×œ×—×œ×§ ×œ-{1} ×§×‘×•×¦×•×ª. ×›××” ×‘×œ×•× ×™× ×‘×›×œ ×§×‘×•×¦×”?', type: 'divide' },
            { text: 'ğŸª ××× ××¤×ª×” {0} ×¢×•×’×™×•×ª ×•×¨×•×¦×” ×œ×©×™× ××•×ª×Ÿ ×‘-{1} ×¦×œ×—×•×ª. ×›××” ×‘×›×œ ×¦×œ×—×ª?', type: 'divide' }
        ];
        
        function playSound(frequency, duration, type = 'sine') {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.frequency.value = frequency;
            oscillator.type = type;
            
            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + duration);
        }
        
        function playCorrectSound() {
            playSound(523.25, 0.1);
            setTimeout(() => playSound(659.25, 0.1), 100);
            setTimeout(() => playSound(783.99, 0.2), 200);
        }
        
        function playWrongSound() {
            playSound(300, 0.15);
            setTimeout(() => playSound(250, 0.15), 150);
        }
        
        function selectGame(gameType) {
            currentGame = gameType;
            document.querySelectorAll('.game-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            restartGame();
        }
        
        function generateQuestion() {
            const storyDiv = document.getElementById('storyText');
            storyDiv.style.display = 'none';
            
            if (currentGame === 'multiply') {
                const a = Math.floor(Math.random() * 5) + 2;
                const b = Math.floor(Math.random() * 5) + 1;
                currentQuestion = {
                    text: `${a} Ã— ${b} = ?`,
                    answer: a * b
                };
            } else if (currentGame === 'divide') {
                const b = Math.floor(Math.random() * 5) + 2;
                const answer = Math.floor(Math.random() * 5) + 1;
                const a = b * answer;
                currentQuestion = {
                    text: `${a} Ã· ${b} = ?`,
                    answer: answer
                };
            } else if (currentGame === 'story') {
                const storyTemplates = stories.filter(s => s.type === 'multiply' || s.type === 'divide');
                const story = storyTemplates[Math.floor(Math.random() * storyTemplates.length)];
                const a = Math.floor(Math.random() * 5) + 2;
                const b = Math.floor(Math.random() * 5) + 2;
                
                storyDiv.textContent = story.text.replace('{0}', a).replace('{1}', b);
                storyDiv.style.display = 'block';
                
                currentQuestion = {
                    text: story.type === 'multiply' ? `${a} Ã— ${b} = ?` : `${a * b} Ã· ${b} = ?`,
                    answer: story.type === 'multiply' ? a * b : a
                };
            } else if (currentGame === 'family') {
                const a = Math.floor(Math.random() * 5) + 2;
                const b = Math.floor(Math.random() * 5) + 2;
                const product = a * b;
                
                const choice = Math.random();
                if (choice < 0.5) {
                    storyDiv.textContent = `ğŸ”¢ ×× ${a} Ã— ${b} = ${product}, ××” ×–×” ${product} Ã· ${a} = ?`;
                    currentQuestion = { text: `${product} Ã· ${a} = ?`, answer: b };
                } else {
                    storyDiv.textContent = `ğŸ”¢ ×× ${a} Ã— ${b} = ${product}, ××” ×–×” ${product} Ã· ${b} = ?`;
                    currentQuestion = { text: `${product} Ã· ${b} = ?`, answer: a };
                }
                storyDiv.style.display = 'block';
            }
        }
        
        function nextQuestion() {
            if (questionNumber > maxQuestions) {
                showFinalResults();
                return;
            }
            
            generateQuestion();
            document.getElementById('questionText').textContent = currentQuestion.text;
            document.getElementById('answer').value = '';
            document.getElementById('answer').disabled = false;
            document.getElementById('result').textContent = '';
            document.getElementById('result').className = 'result';
            document.getElementById('nextBtn').style.display = 'none';
            document.getElementById('answer').focus();
            document.getElementById('current').textContent = questionNumber;
        }
        
        function checkAnswer() {
            const input = document.getElementById('answer');
            const result = document.getElementById('result');
            const userAnswer = parseInt(input.value);
            
            if (input.value === '') {
                result.textContent = 'âš ï¸ ×× × ×”×›× ×¡ ×ª×©×•×‘×”';
                result.className = 'result';
                return;
            }
            
            if (userAnswer === currentQuestion.answer) {
                playCorrectSound();
                correctCount++;
                result.textContent = `âœ… ××¢×•×œ×”! ×”×ª×©×•×‘×” ×”× ×›×•× ×” ×”×™× ${currentQuestion.answer}`;
                result.className = 'result correct';
            } else {
                playWrongSound();
                wrongCount++;
                result.textContent = `âŒ ×œ× × ×›×•×Ÿ. ×”×ª×©×•×‘×” ×”× ×›×•× ×” ×”×™× ${currentQuestion.answer}`;
                result.className = 'result incorrect';
            }
            
            input.disabled = true;
            document.getElementById('nextBtn').style.display = 'inline-block';
            questionNumber++;
            updateScore();
        }
        
        function updateScore() {
            document.getElementById('correct').textContent = correctCount;
            document.getElementById('wrong').textContent = wrongCount;
        }
        
        function showFinalResults() {
            document.getElementById('gameArea').classList.add('hidden');
            document.getElementById('finalResults').style.display = 'block';
            
            const percent = Math.round((correctCount / maxQuestions) * 100);
            
            document.getElementById('finalCorrect').textContent = correctCount;
            document.getElementById('finalCorrectNum').textContent = correctCount;
            document.getElementById('finalWrongNum').textContent = wrongCount;
            document.getElementById('finalPercent').textContent = percent;
            
            let medal = 'ğŸ†';
            let message = '';
            
            if (percent === 100) {
                medal = 'ğŸ¥‡';
                message = '××•×©×œ×! ××ª×” ×’××•×Ÿ ××ª××˜×™×§×”! ğŸŒŸ';
            } else if (percent >= 90) {
                medal = 'ğŸ¥ˆ';
                message = '××¢×•×œ×” ×××•×“! ×›××¢×˜ ××•×©×œ×! ğŸ‘';
            } else if (percent >= 80) {
                medal = 'ğŸ¥‰';
                message = '×™×¤×” ×××•×“! ×”××©×š ×›×›×”! ğŸ’ª';
            } else if (percent >= 70) {
                medal = 'â­';
                message = '×™×¤×”! ××ª×” ××©×ª×¤×¨! ğŸ“ˆ';
            } else {
                medal = 'ğŸ’ª';
                message = '×”××©×š ×œ×ª×¨×’×œ, ××ª×” ×‘×“×¨×š ×”× ×›×•× ×”! ğŸ¯';
            }
            
            document.getElementById('medal').textContent = medal;
            document.getElementById('finalMessage').textContent = message;
        }
        
        function restartGame() {
            correctCount = 0;
            wrongCount = 0;
            questionNumber = 1;
            
            document.getElementById('gameArea').classList.remove('hidden');
            document.getElementById('finalResults').style.display = 'none';
            
            updateScore();
            document.getElementById('current').textContent = questionNumber;
            nextQuestion();
        }
        
        // ×”×ª×—×œ×ª ×”××©×—×§
        nextQuestion();
    </script>
</body>
</html>
